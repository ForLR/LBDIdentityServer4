2019-09-16 20:45:44.692 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-16 20:45:44.839 +08:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-09-16 20:45:44.875 +08:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-09-16 20:45:44.875 +08:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-09-16 20:45:44.884 +08:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-09-16 20:45:44.884 +08:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-09-16 20:45:44.884 +08:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-09-16 20:45:44.884 +08:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-09-16 20:45:45.337 +08:00 [DBG] Login Url: /Account/Login
2019-09-16 20:45:45.340 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-16 20:45:45.340 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-16 20:45:45.341 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-16 20:45:45.341 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-16 20:45:45.341 +08:00 [DBG] Error Url: /home/error
2019-09-16 20:45:45.341 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 10:05:42.783 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 10:05:43.295 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 10:05:43.295 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 10:05:43.295 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 10:05:43.295 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 10:05:43.295 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 10:05:43.295 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 10:05:43.845 +08:00 [DBG] Starting grant removal
2019-09-17 10:05:44.104 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 10:05:44.106 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 10:05:44.106 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 10:05:44.106 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 10:05:44.106 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 10:05:44.106 +08:00 [DBG] Error Url: /home/error
2019-09-17 10:05:44.106 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 10:05:46.974 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-17 10:05:49.282 +08:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-17 10:05:56.058 +08:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-09-17 10:05:56.079 +08:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-09-17 10:05:56.079 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-09-17 10:05:56.083 +08:00 [DBG] Start discovery request
2019-09-17 10:05:57.301 +08:00 [DBG] Found [] as all scopes in database
2019-09-17 10:05:59.191 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-17 10:46:28.983 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 10:46:29.122 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 10:46:29.122 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 10:46:29.122 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 10:46:29.123 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 10:46:29.123 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 10:46:29.123 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 10:46:29.211 +08:00 [DBG] Starting grant removal
2019-09-17 10:46:29.504 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 10:46:29.506 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 10:46:29.506 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 10:46:29.506 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 10:46:29.506 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 10:46:29.506 +08:00 [DBG] Error Url: /home/error
2019-09-17 10:46:29.506 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 11:17:37.566 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 11:17:37.960 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 11:17:37.960 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 11:17:37.960 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 11:17:37.960 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 11:17:37.960 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 11:17:37.962 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 11:17:38.534 +08:00 [DBG] Starting grant removal
2019-09-17 11:17:38.797 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 11:17:38.798 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 11:17:38.799 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 11:17:38.799 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 11:17:38.799 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 11:17:38.799 +08:00 [DBG] Error Url: /home/error
2019-09-17 11:17:38.799 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 11:18:02.651 +08:00 [WRN] User e43979df-dace-4255-8f30-a71bb1e904c2 password validation failed: PasswordRequiresNonAlphanumeric;PasswordRequiresLower;PasswordRequiresUpper.
2019-09-17 11:18:03.378 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The model item passed into the ViewDataDictionary is of type 'LBDIdentityServer4.Model.ApplicationUser', but this ViewDataDictionary instance requires a model item of type 'LBDIdentityServer4.Quickstart.User.RegisterModel'.
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary.EnsureCompatible(Object value)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary..ctor(ViewDataDictionary source, Object model, Type declaredModelType)
   at lambda_method(Closure , ViewDataDictionary )
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorPagePropertyActivator.CreateViewDataDictionary(ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorPagePropertyActivator.Activate(Object page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorPageActivator.Activate(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.InvokeCore(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-17 11:18:24.119 +08:00 [WRN] User 2c311cfd-5082-484f-9eab-1f71d6e49a47 password validation failed: PasswordRequiresNonAlphanumeric;PasswordRequiresLower;PasswordRequiresUpper.
2019-09-17 11:18:24.778 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The model item passed into the ViewDataDictionary is of type 'LBDIdentityServer4.Model.ApplicationUser', but this ViewDataDictionary instance requires a model item of type 'LBDIdentityServer4.Quickstart.User.RegisterModel'.
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary.EnsureCompatible(Object value)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary..ctor(ViewDataDictionary source, Object model, Type declaredModelType)
   at lambda_method(Closure , ViewDataDictionary )
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorPagePropertyActivator.CreateViewDataDictionary(ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorPagePropertyActivator.Activate(Object page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorPageActivator.Activate(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.InvokeCore(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-17 11:20:32.437 +08:00 [WRN] User b88dad8d-0d3f-453b-ac85-4ed4b6b986f2 password validation failed: PasswordRequiresNonAlphanumeric;PasswordRequiresLower;PasswordRequiresUpper.
2019-09-17 11:21:03.294 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The model item passed into the ViewDataDictionary is of type 'LBDIdentityServer4.Model.ApplicationUser', but this ViewDataDictionary instance requires a model item of type 'LBDIdentityServer4.Quickstart.User.RegisterModel'.
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary.EnsureCompatible(Object value)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary..ctor(ViewDataDictionary source, Object model, Type declaredModelType)
   at lambda_method(Closure , ViewDataDictionary )
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorPagePropertyActivator.CreateViewDataDictionary(ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorPagePropertyActivator.Activate(Object page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorPageActivator.Activate(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.InvokeCore(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-17 11:22:03.544 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 11:22:03.908 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 11:22:03.908 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 11:22:03.908 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 11:22:03.908 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 11:22:03.909 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 11:22:03.909 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 11:22:04.357 +08:00 [DBG] Starting grant removal
2019-09-17 11:22:04.595 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 11:22:04.597 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 11:22:04.597 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 11:22:04.597 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 11:22:04.597 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 11:22:04.597 +08:00 [DBG] Error Url: /home/error
2019-09-17 11:22:04.597 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 11:22:21.095 +08:00 [WRN] User 52cd1e79-b340-476c-a4e6-22e4a55ff2cb password validation failed: PasswordRequiresNonAlphanumeric;PasswordRequiresLower;PasswordRequiresUpper.
2019-09-17 11:22:37.016 +08:00 [WRN] User ffcf4683-0a84-4cf8-a0da-9b6929727cdc password validation failed: PasswordRequiresNonAlphanumeric;PasswordRequiresLower;PasswordRequiresUpper.
2019-09-17 11:22:44.351 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-17 11:22:50.065 +08:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-17 11:22:55.946 +08:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-17 11:23:02.405 +08:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-17 11:23:44.990 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-17 11:23:54.736 +08:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-17 11:24:19.984 +08:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-17 11:26:43.975 +08:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-17 11:39:47.952 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 11:39:48.335 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 11:39:48.335 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 11:39:48.335 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 11:39:48.335 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 11:39:48.335 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 11:39:48.335 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 11:39:48.802 +08:00 [DBG] Starting grant removal
2019-09-17 11:39:49.145 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 11:39:49.146 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 11:39:49.146 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 11:39:49.146 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 11:39:49.146 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 11:39:49.146 +08:00 [DBG] Error Url: /home/error
2019-09-17 11:39:49.146 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 11:39:51.501 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-17 11:39:57.222 +08:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-17 11:40:03.434 +08:00 [DBG] Augmenting SignInContext
2019-09-17 11:40:03.436 +08:00 [DBG] Adding idp claim with value: local
2019-09-17 11:40:03.436 +08:00 [DBG] Adding amr claim with value: pwd
2019-09-17 11:40:03.436 +08:00 [DBG] Adding auth_time claim with value: 1568691603
2019-09-17 11:40:03.457 +08:00 [INF] AuthenticationScheme: Identity.Application signed in.
2019-09-17 11:40:11.629 +08:00 [DBG] 0 persisted grants found for 32d76073-03aa-4e1b-8eb3-a6d89745ac5c
2019-09-17 11:40:16.018 +08:00 [DBG] CORS request made for path: /Account/Logout from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-17 11:40:16.086 +08:00 [INF] AuthenticationScheme: Identity.External signed out.
2019-09-17 11:44:31.860 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 11:44:32.275 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 11:44:32.275 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 11:44:32.275 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 11:44:32.275 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 11:44:32.275 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 11:44:32.275 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 11:44:32.747 +08:00 [DBG] Starting grant removal
2019-09-17 11:44:33.200 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 11:44:33.202 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 11:44:33.202 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 11:44:33.202 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 11:44:33.202 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 11:44:33.202 +08:00 [DBG] Error Url: /home/error
2019-09-17 11:44:33.202 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 11:44:35.862 +08:00 [DBG] 0 persisted grants found for 32d76073-03aa-4e1b-8eb3-a6d89745ac5c
2019-09-17 11:44:39.312 +08:00 [DBG] CORS request made for path: /Account/Logout from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-17 11:44:39.393 +08:00 [INF] AuthenticationScheme: Identity.External signed out.
2019-09-17 11:44:41.452 +08:00 [DBG] 0 persisted grants found for 32d76073-03aa-4e1b-8eb3-a6d89745ac5c
2019-09-17 11:44:44.312 +08:00 [DBG] CORS request made for path: /Account/Logout from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-17 11:44:44.352 +08:00 [INF] AuthenticationScheme: Identity.External signed out.
2019-09-17 11:46:38.714 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 11:46:39.090 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 11:46:39.092 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 11:46:39.092 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 11:46:39.092 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 11:46:39.092 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 11:46:39.093 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 11:46:39.578 +08:00 [DBG] Starting grant removal
2019-09-17 11:46:39.861 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 11:46:39.863 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 11:46:39.863 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 11:46:39.863 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 11:46:39.863 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 11:46:39.863 +08:00 [DBG] Error Url: /home/error
2019-09-17 11:46:39.863 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 11:46:42.628 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-17 11:46:54.069 +08:00 [INF] AuthenticationScheme: Google was challenged.
2019-09-17 13:54:27.447 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 13:54:27.910 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 13:54:27.910 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 13:54:27.910 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 13:54:27.910 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 13:54:27.910 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 13:54:27.910 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 13:54:28.431 +08:00 [DBG] Starting grant removal
2019-09-17 13:54:28.847 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 13:54:28.849 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 13:54:28.849 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 13:54:28.849 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 13:54:28.849 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 13:54:28.849 +08:00 [DBG] Error Url: /home/error
2019-09-17 13:54:28.849 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 13:54:31.495 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-17 13:54:37.844 +08:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-17 13:54:41.515 +08:00 [WRN] Invalid password for user 32d76073-03aa-4e1b-8eb3-a6d89745ac5c.
2019-09-17 13:54:41.516 +08:00 [WRN] User 32d76073-03aa-4e1b-8eb3-a6d89745ac5c failed to provide the correct password.
2019-09-17 13:54:46.198 +08:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-17 13:54:46.389 +08:00 [WRN] Invalid password for user 32d76073-03aa-4e1b-8eb3-a6d89745ac5c.
2019-09-17 13:54:46.389 +08:00 [WRN] User 32d76073-03aa-4e1b-8eb3-a6d89745ac5c failed to provide the correct password.
2019-09-17 13:54:51.549 +08:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-17 13:54:51.737 +08:00 [WRN] Invalid password for user 32d76073-03aa-4e1b-8eb3-a6d89745ac5c.
2019-09-17 13:54:51.737 +08:00 [WRN] User 32d76073-03aa-4e1b-8eb3-a6d89745ac5c failed to provide the correct password.
2019-09-17 13:54:54.945 +08:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-17 13:54:55.647 +08:00 [DBG] Augmenting SignInContext
2019-09-17 13:54:55.649 +08:00 [DBG] Adding idp claim with value: local
2019-09-17 13:54:55.649 +08:00 [DBG] Adding amr claim with value: pwd
2019-09-17 13:54:55.649 +08:00 [DBG] Adding auth_time claim with value: 1568699695
2019-09-17 13:54:55.699 +08:00 [INF] AuthenticationScheme: Identity.Application signed in.
2019-09-17 13:54:55.868 +08:00 [DBG] 0 persisted grants found for 32d76073-03aa-4e1b-8eb3-a6d89745ac5c
2019-09-17 13:55:05.448 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at AspNetCore.Views_User_Index.ExecuteAsync() in E:\MyNetCore\LBDIdentityServer4\Views\User\Index.cshtml:line 19
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-17 13:55:32.989 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 13:55:33.352 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 13:55:33.352 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 13:55:33.352 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 13:55:33.352 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 13:55:33.353 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 13:55:33.353 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 13:55:33.888 +08:00 [DBG] Starting grant removal
2019-09-17 13:55:34.244 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 13:55:34.247 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 13:55:34.247 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 13:55:34.247 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 13:55:34.247 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 13:55:34.247 +08:00 [DBG] Error Url: /home/error
2019-09-17 13:55:34.247 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 13:55:40.754 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-17 13:55:47.997 +08:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-17 13:55:49.477 +08:00 [DBG] Augmenting SignInContext
2019-09-17 13:55:49.480 +08:00 [DBG] Adding idp claim with value: local
2019-09-17 13:55:49.480 +08:00 [DBG] Adding amr claim with value: pwd
2019-09-17 13:55:49.480 +08:00 [DBG] Adding auth_time claim with value: 1568699749
2019-09-17 13:55:49.500 +08:00 [INF] AuthenticationScheme: Identity.Application signed in.
2019-09-17 14:20:21.796 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 14:20:22.124 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 14:20:22.124 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 14:20:22.124 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 14:20:22.124 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 14:20:22.124 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 14:20:22.124 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 14:20:22.659 +08:00 [DBG] Starting grant removal
2019-09-17 14:20:23.040 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 14:20:23.043 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 14:20:23.043 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 14:20:23.043 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 14:20:23.043 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 14:20:23.043 +08:00 [DBG] Error Url: /home/error
2019-09-17 14:20:23.043 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 14:20:28.565 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-17 14:20:35.117 +08:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-17 14:20:36.570 +08:00 [DBG] Augmenting SignInContext
2019-09-17 14:20:36.573 +08:00 [DBG] Adding idp claim with value: local
2019-09-17 14:20:36.573 +08:00 [DBG] Adding amr claim with value: pwd
2019-09-17 14:20:36.573 +08:00 [DBG] Adding auth_time claim with value: 1568701236
2019-09-17 14:20:36.606 +08:00 [INF] AuthenticationScheme: Identity.Application signed in.
2019-09-17 14:23:20.188 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 14:23:20.369 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 14:23:20.370 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 14:23:20.370 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 14:23:20.370 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 14:23:20.370 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 14:23:20.370 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 14:23:20.472 +08:00 [DBG] Starting grant removal
2019-09-17 14:23:20.823 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 14:23:20.825 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 14:23:20.825 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 14:23:20.825 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 14:23:20.825 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 14:23:20.825 +08:00 [DBG] Error Url: /home/error
2019-09-17 14:23:20.825 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 14:23:24.038 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-17 14:23:36.557 +08:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-17 14:23:37.728 +08:00 [DBG] Augmenting SignInContext
2019-09-17 14:23:37.730 +08:00 [DBG] Adding idp claim with value: local
2019-09-17 14:23:37.730 +08:00 [DBG] Adding amr claim with value: pwd
2019-09-17 14:23:37.730 +08:00 [DBG] Adding auth_time claim with value: 1568701417
2019-09-17 14:23:37.740 +08:00 [INF] AuthenticationScheme: Identity.Application signed in.
2019-09-17 14:23:37.887 +08:00 [DBG] 0 persisted grants found for 32d76073-03aa-4e1b-8eb3-a6d89745ac5c
2019-09-17 14:30:33.406 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 14:30:33.785 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 14:30:33.785 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 14:30:33.785 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 14:30:33.785 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 14:30:33.785 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 14:30:33.786 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 14:30:34.268 +08:00 [DBG] Starting grant removal
2019-09-17 14:30:34.490 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 14:30:34.492 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 14:30:34.492 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 14:30:34.492 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 14:30:34.492 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 14:30:34.492 +08:00 [DBG] Error Url: /home/error
2019-09-17 14:30:34.492 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 14:30:39.486 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-17 14:30:44.519 +08:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-17 14:30:45.994 +08:00 [DBG] Augmenting SignInContext
2019-09-17 14:30:45.996 +08:00 [DBG] Adding idp claim with value: local
2019-09-17 14:30:45.996 +08:00 [DBG] Adding amr claim with value: pwd
2019-09-17 14:30:45.996 +08:00 [DBG] Adding auth_time claim with value: 1568701845
2019-09-17 14:30:46.022 +08:00 [INF] AuthenticationScheme: Identity.Application signed in.
2019-09-17 14:52:12.917 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 14:52:13.256 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 14:52:13.256 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 14:52:13.256 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 14:52:13.256 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 14:52:13.256 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 14:52:13.256 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 14:52:13.745 +08:00 [DBG] Starting grant removal
2019-09-17 14:52:13.981 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 14:52:13.983 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 14:52:13.983 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 14:52:13.983 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 14:52:13.983 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 14:52:13.983 +08:00 [DBG] Error Url: /home/error
2019-09-17 14:52:13.983 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 14:52:17.535 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-17 14:52:23.432 +08:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-17 14:52:25.218 +08:00 [DBG] Augmenting SignInContext
2019-09-17 14:52:25.220 +08:00 [DBG] Adding idp claim with value: local
2019-09-17 14:52:25.220 +08:00 [DBG] Adding amr claim with value: pwd
2019-09-17 14:52:25.220 +08:00 [DBG] Adding auth_time claim with value: 1568703145
2019-09-17 14:52:25.244 +08:00 [INF] AuthenticationScheme: Identity.Application signed in.
2019-09-17 14:52:25.428 +08:00 [DBG] 0 persisted grants found for 32d76073-03aa-4e1b-8eb3-a6d89745ac5c
2019-09-17 14:52:59.547 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at AspNetCore.Views_User_ManageClaims.<ExecuteAsync>b__18_0() in E:\MyNetCore\LBDIdentityServer4\Views\User\ManageClaims.cshtml:line 7
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext.GetChildContentAsync(Boolean useCachedResult, HtmlEncoder encoder)
   at Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper.ProcessAsync(TagHelperContext context, TagHelperOutput output)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.RunAsync(TagHelperExecutionContext executionContext)
   at AspNetCore.Views_User_ManageClaims.ExecuteAsync() in E:\MyNetCore\LBDIdentityServer4\Views\User\ManageClaims.cshtml:line 5
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.InvokeCore(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-17 14:54:06.711 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 14:54:06.897 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 14:54:06.897 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 14:54:06.897 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 14:54:06.897 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 14:54:06.897 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 14:54:06.897 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 14:54:07.010 +08:00 [DBG] Starting grant removal
2019-09-17 14:54:07.353 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 14:54:07.357 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 14:54:07.357 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 14:54:07.357 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 14:54:07.357 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 14:54:07.357 +08:00 [DBG] Error Url: /home/error
2019-09-17 14:54:07.357 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 14:55:26.841 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 14:55:26.984 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 14:55:26.984 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 14:55:26.984 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 14:55:26.984 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 14:55:26.984 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 14:55:26.984 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 14:55:27.080 +08:00 [DBG] Starting grant removal
2019-09-17 14:55:27.255 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 14:55:27.256 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 14:55:27.256 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 14:55:27.256 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 14:55:27.256 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 14:55:27.256 +08:00 [DBG] Error Url: /home/error
2019-09-17 14:55:27.257 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 14:57:37.651 +08:00 [ERR] The view 'Index' was not found. Searched locations: ["/Views/Role/Index.cshtml","/Views/Shared/Index.cshtml","/Pages/Shared/Index.cshtml"]
2019-09-17 14:57:37.660 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'Index' was not found. The following locations were searched:
/Views/Role/Index.cshtml
/Views/Shared/Index.cshtml
/Pages/Shared/Index.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-17 14:59:32.249 +08:00 [ERR] The view 'Index' was not found. Searched locations: ["/Views/Role/Index.cshtml","/Views/Shared/Index.cshtml","/Pages/Shared/Index.cshtml"]
2019-09-17 14:59:32.249 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'Index' was not found. The following locations were searched:
/Views/Role/Index.cshtml
/Views/Shared/Index.cshtml
/Pages/Shared/Index.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-17 15:07:36.299 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 15:07:36.439 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 15:07:36.439 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 15:07:36.439 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 15:07:36.439 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 15:07:36.439 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 15:07:36.439 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 15:07:36.539 +08:00 [DBG] Starting grant removal
2019-09-17 15:07:36.652 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 15:07:36.654 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 15:07:36.654 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 15:07:36.654 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 15:07:36.654 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 15:07:36.654 +08:00 [DBG] Error Url: /home/error
2019-09-17 15:07:36.654 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 15:07:36.905 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at AspNetCore.Views_Role_Index.ExecuteAsync() in E:\MyNetCore\LBDIdentityServer4\Views\Role\Index.cshtml:line 15
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-17 15:08:56.137 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 15:08:56.274 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 15:08:56.274 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 15:08:56.274 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 15:08:56.274 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 15:08:56.275 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 15:08:56.275 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 15:08:56.376 +08:00 [DBG] Starting grant removal
2019-09-17 15:08:56.613 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 15:08:56.614 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 15:08:56.615 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 15:08:56.615 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 15:08:56.615 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 15:08:56.615 +08:00 [DBG] Error Url: /home/error
2019-09-17 15:08:56.615 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 15:09:15.270 +08:00 [ERR] The view 'AddRole' was not found. Searched locations: ["/Views/Role/AddRole.cshtml","/Views/Shared/AddRole.cshtml","/Pages/Shared/AddRole.cshtml"]
2019-09-17 15:09:15.284 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'AddRole' was not found. The following locations were searched:
/Views/Role/AddRole.cshtml
/Views/Shared/AddRole.cshtml
/Pages/Shared/AddRole.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-17 15:11:49.992 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 15:11:50.146 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 15:11:50.146 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 15:11:50.146 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 15:11:50.146 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 15:11:50.146 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 15:11:50.146 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 15:11:50.242 +08:00 [DBG] Starting grant removal
2019-09-17 15:11:50.466 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 15:11:50.469 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 15:11:50.469 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 15:11:50.469 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 15:11:50.469 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 15:11:50.469 +08:00 [DBG] Error Url: /home/error
2019-09-17 15:11:50.469 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 15:11:53.896 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 15:11:54.037 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 15:11:54.037 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 15:11:54.037 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 15:11:54.037 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 15:11:54.037 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 15:11:54.037 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 15:11:54.143 +08:00 [DBG] Starting grant removal
2019-09-17 15:11:54.708 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 15:11:54.710 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 15:11:54.710 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 15:11:54.710 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 15:11:54.710 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 15:11:54.710 +08:00 [DBG] Error Url: /home/error
2019-09-17 15:11:54.710 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 15:17:33.894 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 15:17:34.039 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 15:17:34.039 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 15:17:34.039 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 15:17:34.039 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 15:17:34.039 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 15:17:34.039 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 15:17:34.136 +08:00 [DBG] Starting grant removal
2019-09-17 15:17:34.248 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 15:17:34.250 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 15:17:34.250 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 15:17:34.250 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 15:17:34.250 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 15:17:34.250 +08:00 [DBG] Error Url: /home/error
2019-09-17 15:17:34.250 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 15:29:34.239 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 15:29:34.379 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 15:29:34.379 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 15:29:34.379 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 15:29:34.379 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 15:29:34.379 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 15:29:34.380 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 15:29:34.476 +08:00 [DBG] Starting grant removal
2019-09-17 15:29:34.712 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 15:29:34.715 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 15:29:34.715 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 15:29:34.715 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 15:29:34.715 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 15:29:34.715 +08:00 [DBG] Error Url: /home/error
2019-09-17 15:29:34.715 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 15:29:38.327 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at AspNetCore.Views_Role_EditRole.ExecuteAsync() in E:\MyNetCore\LBDIdentityServer4\Views\Role\EditRole.cshtml:line 29
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-17 15:29:59.368 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 15:29:59.520 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 15:29:59.520 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 15:29:59.520 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 15:29:59.520 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 15:29:59.520 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 15:29:59.520 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 15:29:59.622 +08:00 [DBG] Starting grant removal
2019-09-17 15:29:59.936 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 15:29:59.937 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 15:29:59.938 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 15:29:59.938 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 15:29:59.938 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 15:29:59.938 +08:00 [DBG] Error Url: /home/error
2019-09-17 15:29:59.938 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 15:30:01.034 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at AspNetCore.Views_Role_EditRole.ExecuteAsync() in E:\MyNetCore\LBDIdentityServer4\Views\Role\EditRole.cshtml:line 29
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-17 15:30:11.649 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 15:30:11.807 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 15:30:11.807 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 15:30:11.807 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 15:30:11.808 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 15:30:11.808 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 15:30:11.808 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 15:30:11.914 +08:00 [DBG] Starting grant removal
2019-09-17 15:30:12.125 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 15:30:12.126 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 15:30:12.126 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 15:30:12.126 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 15:30:12.126 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 15:30:12.126 +08:00 [DBG] Error Url: /home/error
2019-09-17 15:30:12.126 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 15:30:14.890 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at AspNetCore.Views_Role_EditRole.ExecuteAsync() in E:\MyNetCore\LBDIdentityServer4\Views\Role\EditRole.cshtml:line 29
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-17 15:30:32.083 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 15:30:32.221 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 15:30:32.221 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 15:30:32.221 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 15:30:32.221 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 15:30:32.221 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 15:30:32.221 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 15:30:32.317 +08:00 [DBG] Starting grant removal
2019-09-17 15:30:32.470 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 15:30:32.471 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 15:30:32.472 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 15:30:32.472 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 15:30:32.472 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 15:30:32.472 +08:00 [DBG] Error Url: /home/error
2019-09-17 15:30:32.472 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 15:30:33.551 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at AspNetCore.Views_Role_EditRole.ExecuteAsync() in E:\MyNetCore\LBDIdentityServer4\Views\Role\EditRole.cshtml:line 29
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-17 15:31:15.375 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 15:31:15.510 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 15:31:15.511 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 15:31:15.511 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 15:31:15.511 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 15:31:15.511 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 15:31:15.511 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 15:31:15.607 +08:00 [DBG] Starting grant removal
2019-09-17 15:31:15.792 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 15:31:15.794 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 15:31:15.794 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 15:31:15.794 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 15:31:15.794 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 15:31:15.794 +08:00 [DBG] Error Url: /home/error
2019-09-17 15:31:15.794 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 15:32:03.828 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 15:32:03.968 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 15:32:03.969 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 15:32:03.969 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 15:32:03.969 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 15:32:03.969 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 15:32:03.969 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 15:32:04.061 +08:00 [DBG] Starting grant removal
2019-09-17 15:32:04.176 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 15:32:04.177 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 15:32:04.177 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 15:32:04.177 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 15:32:04.177 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 15:32:04.177 +08:00 [DBG] Error Url: /home/error
2019-09-17 15:32:04.177 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 15:54:06.270 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 15:54:06.427 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 15:54:06.427 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 15:54:06.427 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 15:54:06.427 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 15:54:06.427 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 15:54:06.427 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 15:54:06.521 +08:00 [DBG] Starting grant removal
2019-09-17 15:54:06.736 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 15:54:06.738 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 15:54:06.738 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 15:54:06.738 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 15:54:06.738 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 15:54:06.738 +08:00 [DBG] Error Url: /home/error
2019-09-17 15:54:06.738 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 15:54:26.687 +08:00 [ERR] The view 'DeleteUserFromRole' was not found. Searched locations: ["/Views/Role/DeleteUserFromRole.cshtml","/Views/Shared/DeleteUserFromRole.cshtml","/Pages/Shared/DeleteUserFromRole.cshtml"]
2019-09-17 15:54:26.696 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'DeleteUserFromRole' was not found. The following locations were searched:
/Views/Role/DeleteUserFromRole.cshtml
/Views/Shared/DeleteUserFromRole.cshtml
/Pages/Shared/DeleteUserFromRole.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-17 15:57:05.367 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 15:57:05.514 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 15:57:05.514 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 15:57:05.514 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 15:57:05.514 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 15:57:05.514 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 15:57:05.514 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 15:57:05.609 +08:00 [DBG] Starting grant removal
2019-09-17 15:57:05.898 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 15:57:05.899 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 15:57:05.901 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 15:57:05.901 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 15:57:05.901 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 15:57:05.901 +08:00 [DBG] Error Url: /home/error
2019-09-17 15:57:05.901 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 15:57:14.641 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at AspNetCore.Views_Role_Index.ExecuteAsync() in E:\MyNetCore\LBDIdentityServer4\Views\Role\Index.cshtml:line 15
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-17 15:57:57.394 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at AspNetCore.Views_Role_Index.ExecuteAsync() in E:\MyNetCore\LBDIdentityServer4\Views\Role\Index.cshtml:line 15
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-17 15:59:38.192 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 15:59:38.584 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 15:59:38.584 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 15:59:38.585 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 15:59:38.585 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 15:59:38.585 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 15:59:38.585 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 15:59:39.076 +08:00 [DBG] Starting grant removal
2019-09-17 15:59:39.354 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 15:59:39.356 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 15:59:39.356 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 15:59:39.356 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 15:59:39.356 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 15:59:39.356 +08:00 [DBG] Error Url: /home/error
2019-09-17 15:59:39.356 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 15:59:41.658 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-17 15:59:46.289 +08:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-17 15:59:48.007 +08:00 [DBG] Augmenting SignInContext
2019-09-17 15:59:48.009 +08:00 [DBG] Adding idp claim with value: local
2019-09-17 15:59:48.009 +08:00 [DBG] Adding amr claim with value: pwd
2019-09-17 15:59:48.009 +08:00 [DBG] Adding auth_time claim with value: 1568707188
2019-09-17 15:59:48.036 +08:00 [INF] AuthenticationScheme: Identity.Application signed in.
2019-09-17 15:59:48.219 +08:00 [DBG] 0 persisted grants found for 32d76073-03aa-4e1b-8eb3-a6d89745ac5c
2019-09-17 16:02:14.004 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 16:02:14.405 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 16:02:14.405 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 16:02:14.405 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 16:02:14.405 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 16:02:14.405 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 16:02:14.405 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 16:02:14.910 +08:00 [DBG] Starting grant removal
2019-09-17 16:02:15.203 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 16:02:15.205 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 16:02:15.205 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 16:02:15.205 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 16:02:15.205 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 16:02:15.205 +08:00 [DBG] Error Url: /home/error
2019-09-17 16:02:15.205 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 16:04:34.766 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 16:04:34.949 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 16:04:34.949 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 16:04:34.950 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 16:04:34.950 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 16:04:34.950 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 16:04:34.950 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 16:04:35.097 +08:00 [DBG] Starting grant removal
2019-09-17 16:04:35.329 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 16:04:35.330 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 16:04:35.331 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 16:04:35.331 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 16:04:35.331 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 16:04:35.331 +08:00 [DBG] Error Url: /home/error
2019-09-17 16:04:35.331 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 16:09:14.743 +08:00 [DBG] CORS request made for path: /Account/Logout from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-17 16:09:14.772 +08:00 [INF] AuthenticationScheme: Identity.Application signed out.
2019-09-17 16:09:14.773 +08:00 [INF] AuthenticationScheme: Identity.External signed out.
2019-09-17 16:09:14.774 +08:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2019-09-17 16:09:16.170 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-17 16:09:17.324 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-17 16:09:18.427 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-17 16:09:45.340 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 16:09:45.480 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 16:09:45.481 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 16:09:45.481 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 16:09:45.481 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 16:09:45.481 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 16:09:45.481 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 16:09:45.574 +08:00 [DBG] Starting grant removal
2019-09-17 16:09:45.923 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 16:09:45.942 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 16:09:45.942 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 16:09:45.942 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 16:09:45.942 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 16:09:45.943 +08:00 [DBG] Error Url: /home/error
2019-09-17 16:09:45.943 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 16:09:46.091 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-17 16:09:47.563 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-17 16:09:48.890 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-17 16:09:51.489 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-17 16:09:52.503 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-17 16:09:54.579 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-17 16:09:56.146 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-17 16:10:30.674 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 16:10:30.813 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 16:10:30.814 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 16:10:30.814 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 16:10:30.814 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 16:10:30.814 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 16:10:30.814 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 16:10:30.909 +08:00 [DBG] Starting grant removal
2019-09-17 16:10:31.204 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 16:10:31.206 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 16:10:31.206 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 16:10:31.206 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 16:10:31.206 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 16:10:31.206 +08:00 [DBG] Error Url: /home/error
2019-09-17 16:10:31.206 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 16:10:31.326 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-17 16:10:38.947 +08:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-17 16:10:40.090 +08:00 [DBG] Augmenting SignInContext
2019-09-17 16:10:40.092 +08:00 [DBG] Adding idp claim with value: local
2019-09-17 16:10:40.092 +08:00 [DBG] Adding amr claim with value: pwd
2019-09-17 16:10:40.092 +08:00 [DBG] Adding auth_time claim with value: 1568707840
2019-09-17 16:10:40.103 +08:00 [INF] AuthenticationScheme: Identity.Application signed in.
2019-09-17 16:10:40.165 +08:00 [INF] AuthenticationScheme: Identity.Application was forbidden.
2019-09-17 16:10:43.071 +08:00 [INF] AuthenticationScheme: Identity.Application was forbidden.
2019-09-17 16:10:44.241 +08:00 [INF] AuthenticationScheme: Identity.Application was forbidden.
2019-09-17 16:11:00.781 +08:00 [INF] AuthenticationScheme: Identity.Application was forbidden.
2019-09-17 16:11:02.031 +08:00 [INF] AuthenticationScheme: Identity.Application was forbidden.
2019-09-17 16:11:06.997 +08:00 [DBG] CORS request made for path: /Account/Logout from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-17 16:11:07.042 +08:00 [INF] AuthenticationScheme: Identity.Application signed out.
2019-09-17 16:11:07.043 +08:00 [INF] AuthenticationScheme: Identity.External signed out.
2019-09-17 16:11:07.043 +08:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2019-09-17 16:11:08.171 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-17 16:11:13.204 +08:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-17 16:11:13.686 +08:00 [DBG] Augmenting SignInContext
2019-09-17 16:11:13.687 +08:00 [DBG] Adding idp claim with value: local
2019-09-17 16:11:13.687 +08:00 [DBG] Adding amr claim with value: pwd
2019-09-17 16:11:13.687 +08:00 [DBG] Adding auth_time claim with value: 1568707873
2019-09-17 16:11:13.687 +08:00 [INF] AuthenticationScheme: Identity.Application signed in.
2019-09-17 16:13:53.255 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 16:13:53.408 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 16:13:53.408 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 16:13:53.408 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 16:13:53.408 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 16:13:53.408 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 16:13:53.408 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 16:13:53.502 +08:00 [DBG] Starting grant removal
2019-09-17 16:13:53.620 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 16:13:53.621 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 16:13:53.622 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 16:13:53.622 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 16:13:53.622 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 16:13:53.622 +08:00 [DBG] Error Url: /home/error
2019-09-17 16:13:53.622 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 16:13:59.207 +08:00 [DBG] CORS request made for path: /Account/Logout from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-17 16:13:59.260 +08:00 [INF] AuthenticationScheme: Identity.Application signed out.
2019-09-17 16:13:59.262 +08:00 [INF] AuthenticationScheme: Identity.External signed out.
2019-09-17 16:13:59.262 +08:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2019-09-17 16:14:00.377 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-17 16:14:04.971 +08:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-17 16:14:05.464 +08:00 [DBG] Augmenting SignInContext
2019-09-17 16:14:05.466 +08:00 [DBG] Adding idp claim with value: local
2019-09-17 16:14:05.466 +08:00 [DBG] Adding amr claim with value: pwd
2019-09-17 16:14:05.466 +08:00 [DBG] Adding auth_time claim with value: 1568708045
2019-09-17 16:14:05.472 +08:00 [INF] AuthenticationScheme: Identity.Application signed in.
2019-09-17 16:14:05.495 +08:00 [INF] AuthenticationScheme: Identity.Application was forbidden.
2019-09-17 16:14:07.516 +08:00 [INF] AuthenticationScheme: Identity.Application was forbidden.
2019-09-17 16:17:30.928 +08:00 [INF] AuthenticationScheme: Identity.Application was forbidden.
2019-09-17 16:17:40.782 +08:00 [INF] AuthenticationScheme: Identity.Application was forbidden.
2019-09-17 16:17:47.517 +08:00 [INF] AuthenticationScheme: Identity.Application was forbidden.
2019-09-17 16:17:48.589 +08:00 [INF] AuthenticationScheme: Identity.Application was forbidden.
2019-09-17 16:36:44.839 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 16:36:45.000 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 16:36:45.000 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 16:36:45.000 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 16:36:45.000 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 16:36:45.000 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 16:36:45.000 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 16:36:45.092 +08:00 [DBG] Starting grant removal
2019-09-17 16:36:45.332 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 16:36:45.335 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 16:36:45.335 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 16:36:45.335 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 16:36:45.335 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 16:36:45.335 +08:00 [DBG] Error Url: /home/error
2019-09-17 16:36:45.335 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 16:47:37.989 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 16:47:38.124 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 16:47:38.124 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 16:47:38.124 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 16:47:38.125 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 16:47:38.125 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 16:47:38.125 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 16:47:38.215 +08:00 [DBG] Starting grant removal
2019-09-17 16:47:38.412 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 16:47:38.414 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 16:47:38.414 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 16:47:38.414 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 16:47:38.414 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 16:47:38.414 +08:00 [DBG] Error Url: /home/error
2019-09-17 16:47:38.414 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 16:47:59.980 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 16:48:00.120 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 16:48:00.120 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 16:48:00.120 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 16:48:00.120 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 16:48:00.120 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 16:48:00.120 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 16:48:00.214 +08:00 [DBG] Starting grant removal
2019-09-17 16:48:00.443 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 16:48:00.445 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 16:48:00.445 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 16:48:00.446 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 16:48:00.446 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 16:48:00.446 +08:00 [DBG] Error Url: /home/error
2019-09-17 16:48:00.446 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 16:48:08.618 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null.
Parameter name: type
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at LBDIdentityServer4.Quickstart.User.UserController.ManageClaims(ManageClaimsModel args) in E:\MyNetCore\LBDIdentityServer4\Quickstart\User\UserController.cs:line 164
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.InvokeCore(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-17 16:48:31.716 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 16:48:31.850 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 16:48:31.850 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 16:48:31.850 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 16:48:31.850 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 16:48:31.850 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 16:48:31.850 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 16:48:31.948 +08:00 [DBG] Starting grant removal
2019-09-17 16:48:32.283 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 16:48:32.285 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 16:48:32.285 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 16:48:32.285 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 16:48:32.285 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 16:48:32.285 +08:00 [DBG] Error Url: /home/error
2019-09-17 16:48:32.285 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 16:56:04.030 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 16:56:04.171 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 16:56:04.171 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 16:56:04.171 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 16:56:04.171 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 16:56:04.171 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 16:56:04.171 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 16:56:04.273 +08:00 [DBG] Starting grant removal
2019-09-17 16:56:04.478 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 16:56:04.480 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 16:56:04.480 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 16:56:04.480 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 16:56:04.480 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 16:56:04.480 +08:00 [DBG] Error Url: /home/error
2019-09-17 16:56:04.480 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 16:56:12.234 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null.
Parameter name: type
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at LBDIdentityServer4.Quickstart.User.UserController.ManageClaims(ManageClaimsModel args) in E:\MyNetCore\LBDIdentityServer4\Quickstart\User\UserController.cs:line 164
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.InvokeCore(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-17 16:56:28.716 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 16:56:28.852 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 16:56:28.852 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 16:56:28.852 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 16:56:28.852 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 16:56:28.852 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 16:56:28.852 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 16:56:28.944 +08:00 [DBG] Starting grant removal
2019-09-17 16:56:29.172 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 16:56:29.174 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 16:56:29.174 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 16:56:29.174 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 16:56:29.174 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 16:56:29.174 +08:00 [DBG] Error Url: /home/error
2019-09-17 16:56:29.174 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 16:56:31.455 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null.
Parameter name: type
   at System.Security.Claims.Claim..ctor(String type, String value, String valueType, String issuer, String originalIssuer, ClaimsIdentity subject, String propertyKey, String propertyValue)
   at System.Security.Claims.Claim..ctor(String type, String value)
   at LBDIdentityServer4.Quickstart.User.UserController.ManageClaims(ManageClaimsModel args) in E:\MyNetCore\LBDIdentityServer4\Quickstart\User\UserController.cs:line 164
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.InvokeCore(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-17 17:16:29.892 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 17:16:30.031 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 17:16:30.031 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 17:16:30.031 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 17:16:30.031 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 17:16:30.031 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 17:16:30.032 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 17:16:30.128 +08:00 [DBG] Starting grant removal
2019-09-17 17:16:30.401 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 17:16:30.403 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 17:16:30.403 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 17:16:30.403 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 17:16:30.403 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 17:16:30.403 +08:00 [DBG] Error Url: /home/error
2019-09-17 17:16:30.403 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 17:16:49.974 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 17:16:50.120 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 17:16:50.121 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 17:16:50.121 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 17:16:50.121 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 17:16:50.121 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 17:16:50.121 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 17:16:50.222 +08:00 [DBG] Starting grant removal
2019-09-17 17:16:50.535 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 17:16:50.538 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 17:16:50.539 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 17:16:50.539 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 17:16:50.539 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 17:16:50.539 +08:00 [DBG] Error Url: /home/error
2019-09-17 17:16:50.539 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 17:19:26.008 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 17:19:26.144 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 17:19:26.144 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 17:19:26.144 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 17:19:26.144 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 17:19:26.144 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 17:19:26.144 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 17:19:26.238 +08:00 [DBG] Starting grant removal
2019-09-17 17:19:26.521 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 17:19:26.523 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 17:19:26.523 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 17:19:26.523 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 17:19:26.523 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 17:19:26.523 +08:00 [DBG] Error Url: /home/error
2019-09-17 17:19:26.523 +08:00 [DBG] Error Id Parameter: errorId
2019-09-17 17:25:31.695 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-17 17:25:31.837 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-17 17:25:31.837 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-17 17:25:31.837 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-17 17:25:31.837 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-17 17:25:31.837 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-17 17:25:31.837 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-17 17:25:31.932 +08:00 [DBG] Starting grant removal
2019-09-17 17:25:32.262 +08:00 [DBG] Login Url: /Account/Login
2019-09-17 17:25:32.263 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-17 17:25:32.263 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-17 17:25:32.263 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-17 17:25:32.263 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-17 17:25:32.263 +08:00 [DBG] Error Url: /home/error
2019-09-17 17:25:32.263 +08:00 [DBG] Error Id Parameter: errorId
2019-09-18 09:37:18.027 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-18 09:37:18.428 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-18 09:37:18.428 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-18 09:37:18.428 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-18 09:37:18.428 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-18 09:37:18.428 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-18 09:37:18.428 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-18 09:37:18.913 +08:00 [DBG] Starting grant removal
2019-09-18 09:37:19.271 +08:00 [DBG] Login Url: /Account/Login
2019-09-18 09:37:19.272 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-18 09:37:19.272 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-18 09:37:19.272 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-18 09:37:19.272 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-18 09:37:19.272 +08:00 [DBG] Error Url: /home/error
2019-09-18 09:37:19.273 +08:00 [DBG] Error Id Parameter: errorId
2019-09-18 09:37:40.649 +08:00 [ERR] The view 'Index' was not found. Searched locations: ["/Views/ConfigurationManage/Index.cshtml","/Views/Shared/Index.cshtml","/Pages/Shared/Index.cshtml"]
2019-09-18 09:37:41.212 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'Index' was not found. The following locations were searched:
/Views/ConfigurationManage/Index.cshtml
/Views/Shared/Index.cshtml
/Pages/Shared/Index.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-18 09:37:46.110 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-18 09:37:49.273 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-18 09:37:59.818 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-18 10:07:48.030 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-18 10:07:48.395 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-18 10:07:48.395 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-18 10:07:48.395 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-18 10:07:48.395 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-18 10:07:48.395 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-18 10:07:48.396 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-18 10:07:48.857 +08:00 [DBG] Starting grant removal
2019-09-18 10:07:49.203 +08:00 [DBG] Login Url: /Account/Login
2019-09-18 10:07:49.205 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-18 10:07:49.205 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-18 10:07:49.205 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-18 10:07:49.205 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-18 10:07:49.205 +08:00 [DBG] Error Url: /home/error
2019-09-18 10:07:49.205 +08:00 [DBG] Error Id Parameter: errorId
2019-09-18 10:21:20.610 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-18 10:21:20.770 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-18 10:21:20.770 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-18 10:21:20.770 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-18 10:21:20.770 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-18 10:21:20.770 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-18 10:21:20.770 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-18 10:21:20.874 +08:00 [DBG] Starting grant removal
2019-09-18 10:21:21.194 +08:00 [DBG] Login Url: /Account/Login
2019-09-18 10:21:21.195 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-18 10:21:21.196 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-18 10:21:21.196 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-18 10:21:21.196 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-18 10:21:21.198 +08:00 [DBG] Error Url: /home/error
2019-09-18 10:21:21.198 +08:00 [DBG] Error Id Parameter: errorId
2019-09-18 10:21:25.731 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-18 10:21:26.912 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-18 10:21:29.015 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-18 10:23:07.042 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at AspNetCore.Views_ConfigurationManage_AddClients.<ExecuteAsync>b__20_0() in E:\MyNetCore\LBDIdentityServer4\Views\ConfigurationManage\AddClients.cshtml:line 26
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext.GetChildContentAsync(Boolean useCachedResult, HtmlEncoder encoder)
   at Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper.ProcessAsync(TagHelperContext context, TagHelperOutput output)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.RunAsync(TagHelperExecutionContext executionContext)
   at AspNetCore.Views_ConfigurationManage_AddClients.ExecuteAsync() in E:\MyNetCore\LBDIdentityServer4\Views\ConfigurationManage\AddClients.cshtml:line 4
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-18 10:41:37.503 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-18 10:41:37.662 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-18 10:41:37.662 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-18 10:41:37.662 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-18 10:41:37.662 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-18 10:41:37.662 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-18 10:41:37.662 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-18 10:41:37.765 +08:00 [DBG] Starting grant removal
2019-09-18 10:41:37.935 +08:00 [DBG] Login Url: /Account/Login
2019-09-18 10:41:37.937 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-18 10:41:37.937 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-18 10:41:37.937 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-18 10:41:37.937 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-18 10:41:37.937 +08:00 [DBG] Error Url: /home/error
2019-09-18 10:41:37.937 +08:00 [DBG] Error Id Parameter: errorId
2019-09-18 10:42:05.172 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at AspNetCore.Views_ConfigurationManage_AddClients.<ExecuteAsync>b__20_0() in E:\MyNetCore\LBDIdentityServer4\Views\ConfigurationManage\AddClients.cshtml:line 26
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext.GetChildContentAsync(Boolean useCachedResult, HtmlEncoder encoder)
   at Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper.ProcessAsync(TagHelperContext context, TagHelperOutput output)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.RunAsync(TagHelperExecutionContext executionContext)
   at AspNetCore.Views_ConfigurationManage_AddClients.ExecuteAsync() in E:\MyNetCore\LBDIdentityServer4\Views\ConfigurationManage\AddClients.cshtml:line 4
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-18 10:42:35.912 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-18 10:42:36.048 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-18 10:42:36.048 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-18 10:42:36.048 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-18 10:42:36.048 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-18 10:42:36.048 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-18 10:42:36.048 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-18 10:42:36.141 +08:00 [DBG] Starting grant removal
2019-09-18 10:42:36.473 +08:00 [DBG] Login Url: /Account/Login
2019-09-18 10:42:36.474 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-18 10:42:36.474 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-18 10:42:36.474 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-18 10:42:36.474 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-18 10:42:36.474 +08:00 [DBG] Error Url: /home/error
2019-09-18 10:42:36.474 +08:00 [DBG] Error Id Parameter: errorId
2019-09-18 10:43:31.314 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-18 10:43:31.451 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-18 10:43:31.451 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-18 10:43:31.451 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-18 10:43:31.451 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-18 10:43:31.451 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-18 10:43:31.451 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-18 10:43:31.541 +08:00 [DBG] Starting grant removal
2019-09-18 10:43:31.903 +08:00 [DBG] Login Url: /Account/Login
2019-09-18 10:43:31.904 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-18 10:43:31.904 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-18 10:43:31.905 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-18 10:43:31.905 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-18 10:43:31.905 +08:00 [DBG] Error Url: /home/error
2019-09-18 10:43:31.905 +08:00 [DBG] Error Id Parameter: errorId
2019-09-18 10:59:08.252 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-18 10:59:08.389 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-18 10:59:08.389 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-18 10:59:08.389 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-18 10:59:08.389 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-18 10:59:08.389 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-18 10:59:08.389 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-18 10:59:08.483 +08:00 [DBG] Starting grant removal
2019-09-18 10:59:08.686 +08:00 [DBG] Login Url: /Account/Login
2019-09-18 10:59:08.688 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-18 10:59:08.688 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-18 10:59:08.688 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-18 10:59:08.688 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-18 10:59:08.688 +08:00 [DBG] Error Url: /home/error
2019-09-18 10:59:08.688 +08:00 [DBG] Error Id Parameter: errorId
2019-09-18 10:59:26.747 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-18 10:59:45.984 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-18 10:59:53.767 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-18 10:59:58.478 +08:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-18 10:59:59.081 +08:00 [DBG] Augmenting SignInContext
2019-09-18 10:59:59.083 +08:00 [DBG] Adding idp claim with value: local
2019-09-18 10:59:59.083 +08:00 [DBG] Adding amr claim with value: pwd
2019-09-18 10:59:59.083 +08:00 [DBG] Adding auth_time claim with value: 1568775599
2019-09-18 10:59:59.097 +08:00 [INF] AuthenticationScheme: Identity.Application signed in.
2019-09-18 11:12:26.206 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-18 11:12:26.365 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-18 11:12:26.366 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-18 11:12:26.366 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-18 11:12:26.366 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-18 11:12:26.366 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-18 11:12:26.366 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-18 11:12:26.468 +08:00 [DBG] Starting grant removal
2019-09-18 11:12:26.647 +08:00 [DBG] Login Url: /Account/Login
2019-09-18 11:12:26.648 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-18 11:12:26.649 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-18 11:12:26.649 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-18 11:12:26.649 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-18 11:12:26.649 +08:00 [DBG] Error Url: /home/error
2019-09-18 11:12:26.649 +08:00 [DBG] Error Id Parameter: errorId
2019-09-18 11:53:45.634 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-18 11:53:45.781 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-18 11:53:45.781 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-18 11:53:45.781 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-18 11:53:45.781 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-18 11:53:45.781 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-18 11:53:45.781 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-18 11:53:45.922 +08:00 [DBG] Starting grant removal
2019-09-18 11:53:46.071 +08:00 [DBG] Login Url: /Account/Login
2019-09-18 11:53:46.073 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-18 11:53:46.073 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-18 11:53:46.073 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-18 11:53:46.073 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-18 11:53:46.073 +08:00 [DBG] Error Url: /home/error
2019-09-18 11:53:46.073 +08:00 [DBG] Error Id Parameter: errorId
2019-09-18 11:53:49.310 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-18 11:53:49.440 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-18 11:53:49.440 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-18 11:53:49.440 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-18 11:53:49.440 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-18 11:53:49.440 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-18 11:53:49.440 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-18 11:53:49.529 +08:00 [DBG] Starting grant removal
2019-09-18 12:53:50.206 +08:00 [INF] Removing 0 grants
2019-09-18 13:53:50.471 +08:00 [INF] Removing 0 grants
2019-09-18 14:53:50.725 +08:00 [INF] Removing 0 grants
2019-09-18 15:47:15.972 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-18 15:47:16.460 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-18 15:47:16.460 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-18 15:47:16.460 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-18 15:47:16.460 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-18 15:47:16.460 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-18 15:47:16.460 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-18 15:47:17.021 +08:00 [DBG] Starting grant removal
2019-09-18 15:47:17.343 +08:00 [DBG] Login Url: /Account/Login
2019-09-18 15:47:17.346 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-18 15:47:17.346 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-18 15:47:17.346 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-18 15:47:17.346 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-18 15:47:17.346 +08:00 [DBG] Error Url: /home/error
2019-09-18 15:47:17.346 +08:00 [DBG] Error Id Parameter: errorId
2019-09-18 15:47:21.898 +08:00 [WRN] Query: '(from ClientRedirectUri t in [x].RedirectUris select [t].RedirectUri).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-18 15:47:21.903 +08:00 [WRN] Query: '(from ClientPostLogoutRedirectUri r in [x].PostLogoutRedirectUris select [r].PostLogoutRedirectUri)....' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-18 15:47:21.904 +08:00 [WRN] Query: '(from ClientSecret t in [x].ClientSecrets select [t].Value).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-18 15:49:26.838 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-18 15:49:26.988 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-18 15:49:26.988 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-18 15:49:26.988 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-18 15:49:26.988 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-18 15:49:26.988 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-18 15:49:26.989 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-18 15:49:27.091 +08:00 [DBG] Starting grant removal
2019-09-18 15:49:27.230 +08:00 [DBG] Login Url: /Account/Login
2019-09-18 15:49:27.231 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-18 15:49:27.231 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-18 15:49:27.231 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-18 15:49:27.231 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-18 15:49:27.231 +08:00 [DBG] Error Url: /home/error
2019-09-18 15:49:27.232 +08:00 [DBG] Error Id Parameter: errorId
2019-09-18 15:49:31.028 +08:00 [WRN] Query: '(from ClientRedirectUri t in [x].RedirectUris select [t].RedirectUri).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-18 15:49:31.032 +08:00 [WRN] Query: '(from ClientPostLogoutRedirectUri r in [x].PostLogoutRedirectUris select [r].PostLogoutRedirectUri)....' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-18 15:49:31.033 +08:00 [WRN] Query: '(from ClientSecret t in [x].ClientSecrets select [t].Value).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-18 15:51:59.642 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-18 15:51:59.813 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-18 15:51:59.813 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-18 15:51:59.813 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-18 15:51:59.813 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-18 15:51:59.814 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-18 15:51:59.814 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-18 15:51:59.908 +08:00 [DBG] Starting grant removal
2019-09-18 15:52:00.240 +08:00 [DBG] Login Url: /Account/Login
2019-09-18 15:52:00.242 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-18 15:52:00.242 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-18 15:52:00.242 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-18 15:52:00.242 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-18 15:52:00.242 +08:00 [DBG] Error Url: /home/error
2019-09-18 15:52:00.242 +08:00 [DBG] Error Id Parameter: errorId
2019-09-18 15:52:11.159 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-18 15:52:11.526 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-18 15:52:11.526 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-18 15:52:11.526 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-18 15:52:11.526 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-18 15:52:11.526 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-18 15:52:11.527 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-18 15:52:12.010 +08:00 [DBG] Starting grant removal
2019-09-18 15:52:12.347 +08:00 [DBG] Login Url: /Account/Login
2019-09-18 15:52:12.348 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-18 15:52:12.348 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-18 15:52:12.348 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-18 15:52:12.348 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-18 15:52:12.349 +08:00 [DBG] Error Url: /home/error
2019-09-18 15:52:12.349 +08:00 [DBG] Error Id Parameter: errorId
2019-09-18 15:52:14.412 +08:00 [WRN] Query: '(from ClientRedirectUri t in [x].RedirectUris select [t].RedirectUri).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-18 15:52:14.418 +08:00 [WRN] Query: '(from ClientPostLogoutRedirectUri r in [x].PostLogoutRedirectUris select [r].PostLogoutRedirectUri)....' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-18 15:52:14.418 +08:00 [WRN] Query: '(from ClientSecret t in [x].ClientSecrets select [t].Value).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-18 15:53:02.143 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null.
Parameter name: items
   at Microsoft.AspNetCore.Mvc.Rendering.MultiSelectList..ctor(IEnumerable items, String dataValueField, String dataTextField, IEnumerable selectedValues, String dataGroupField)
   at Microsoft.AspNetCore.Mvc.Rendering.SelectList..ctor(IEnumerable items, String dataValueField, String dataTextField, Object selectedValue)
   at Microsoft.AspNetCore.Mvc.Rendering.SelectList..ctor(IEnumerable items, Object selectedValue)
   at Microsoft.AspNetCore.Mvc.Rendering.SelectList..ctor(IEnumerable items)
   at AspNetCore.Views_ConfigurationManage_AddClients.<ExecuteAsync>b__20_0() in E:\MyNetCore\LBDIdentityServer4\Views\ConfigurationManage\AddClients.cshtml:line 37
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext.GetChildContentAsync(Boolean useCachedResult, HtmlEncoder encoder)
   at Microsoft.AspNetCore.Mvc.TagHelpers.RenderAtEndOfFormTagHelper.ProcessAsync(TagHelperContext context, TagHelperOutput output)
   at Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner.RunAsync(TagHelperExecutionContext executionContext)
   at AspNetCore.Views_ConfigurationManage_AddClients.ExecuteAsync() in E:\MyNetCore\LBDIdentityServer4\Views\ConfigurationManage\AddClients.cshtml:line 4
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.InvokeCore(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-18 15:56:20.565 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-18 15:56:20.951 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-18 15:56:20.951 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-18 15:56:20.952 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-18 15:56:20.952 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-18 15:56:20.952 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-18 15:56:20.952 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-18 15:56:21.445 +08:00 [DBG] Starting grant removal
2019-09-18 15:56:21.732 +08:00 [DBG] Login Url: /Account/Login
2019-09-18 15:56:21.733 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-18 15:56:21.733 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-18 15:56:21.733 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-18 15:56:21.733 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-18 15:56:21.733 +08:00 [DBG] Error Url: /home/error
2019-09-18 15:56:21.733 +08:00 [DBG] Error Id Parameter: errorId
2019-09-18 15:56:24.103 +08:00 [WRN] Query: '(from ClientRedirectUri t in [x].RedirectUris select [t].RedirectUri).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-18 15:56:24.110 +08:00 [WRN] Query: '(from ClientPostLogoutRedirectUri r in [x].PostLogoutRedirectUris select [r].PostLogoutRedirectUri)....' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-18 15:56:24.111 +08:00 [WRN] Query: '(from ClientSecret t in [x].ClientSecrets select [t].Value).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-18 15:56:44.681 +08:00 [ERR] An exception occurred in the database while saving changes for context type 'IdentityServer4.EntityFramework.DbContexts.ConfigurationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> MySql.Data.MySqlClient.MySqlException: Column 'PostLogoutRedirectUri' cannot be null ---> MySql.Data.MySqlClient.MySqlException: Column 'PostLogoutRedirectUri' cannot be null
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ResultSet.cs:line 43
   --- End of inner exception stack trace ---
   at MySql.Data.MySqlClient.MySqlDataReader.ActivateResultSet(ResultSet resultSet) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 81
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 60
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> MySql.Data.MySqlClient.MySqlException: Column 'PostLogoutRedirectUri' cannot be null ---> MySql.Data.MySqlClient.MySqlException: Column 'PostLogoutRedirectUri' cannot be null
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ResultSet.cs:line 43
   --- End of inner exception stack trace ---
   at MySql.Data.MySqlClient.MySqlDataReader.ActivateResultSet(ResultSet resultSet) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 81
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 60
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2019-09-18 15:56:46.402 +08:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> MySql.Data.MySqlClient.MySqlException: Column 'PostLogoutRedirectUri' cannot be null ---> MySql.Data.MySqlClient.MySqlException: Column 'PostLogoutRedirectUri' cannot be null
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ResultSet.cs:line 43
   --- End of inner exception stack trace ---
   at MySql.Data.MySqlClient.MySqlDataReader.ActivateResultSet(ResultSet resultSet) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 81
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 60
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at LBDIdentityServer4.Quickstart.ConfigurationManage.ConfigurationManageController.AddClients(ClientsViewModel args) in E:\MyNetCore\LBDIdentityServer4\Quickstart\ConfigurationManage\ConfigurationManageController.cs:line 95
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.InvokeCore(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-18 15:58:37.986 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-18 15:58:38.342 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-18 15:58:38.342 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-18 15:58:38.343 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-18 15:58:38.343 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-18 15:58:38.343 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-18 15:58:38.343 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-18 15:58:38.835 +08:00 [DBG] Starting grant removal
2019-09-18 15:58:39.162 +08:00 [DBG] Login Url: /Account/Login
2019-09-18 15:58:39.164 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-18 15:58:39.164 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-18 15:58:39.164 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-18 15:58:39.164 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-18 15:58:39.164 +08:00 [DBG] Error Url: /home/error
2019-09-18 15:58:39.164 +08:00 [DBG] Error Id Parameter: errorId
2019-09-18 15:58:41.364 +08:00 [WRN] Query: '(from ClientRedirectUri t in [x].RedirectUris select [t].RedirectUri).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-18 15:58:41.370 +08:00 [WRN] Query: '(from ClientPostLogoutRedirectUri r in [x].PostLogoutRedirectUris select [r].PostLogoutRedirectUri)....' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-18 15:58:41.370 +08:00 [WRN] Query: '(from ClientSecret t in [x].ClientSecrets select [t].Value).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-18 15:59:08.568 +08:00 [ERR] An exception occurred in the database while saving changes for context type 'IdentityServer4.EntityFramework.DbContexts.ConfigurationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> MySql.Data.MySqlClient.MySqlException: Column 'PostLogoutRedirectUri' cannot be null ---> MySql.Data.MySqlClient.MySqlException: Column 'PostLogoutRedirectUri' cannot be null
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ResultSet.cs:line 43
   --- End of inner exception stack trace ---
   at MySql.Data.MySqlClient.MySqlDataReader.ActivateResultSet(ResultSet resultSet) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 81
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 60
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> MySql.Data.MySqlClient.MySqlException: Column 'PostLogoutRedirectUri' cannot be null ---> MySql.Data.MySqlClient.MySqlException: Column 'PostLogoutRedirectUri' cannot be null
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ResultSet.cs:line 43
   --- End of inner exception stack trace ---
   at MySql.Data.MySqlClient.MySqlDataReader.ActivateResultSet(ResultSet resultSet) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 81
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 60
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2019-09-18 15:59:10.248 +08:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> MySql.Data.MySqlClient.MySqlException: Column 'PostLogoutRedirectUri' cannot be null ---> MySql.Data.MySqlClient.MySqlException: Column 'PostLogoutRedirectUri' cannot be null
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ResultSet.cs:line 43
   --- End of inner exception stack trace ---
   at MySql.Data.MySqlClient.MySqlDataReader.ActivateResultSet(ResultSet resultSet) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 81
   at MySql.Data.MySqlClient.MySqlDataReader.NextResultAsync(IOBehavior ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 60
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(DbContext _, ValueTuple`2 parameters, CancellationToken cancellationToken)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IReadOnlyList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at LBDIdentityServer4.Quickstart.ConfigurationManage.ConfigurationManageController.AddClients(ClientsViewModel args) in E:\MyNetCore\LBDIdentityServer4\Quickstart\ConfigurationManage\ConfigurationManageController.cs:line 95
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.InvokeCore(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-18 15:59:34.968 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-18 15:59:35.339 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-18 15:59:35.339 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-18 15:59:35.340 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-18 15:59:35.340 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-18 15:59:35.340 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-18 15:59:35.340 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-18 15:59:35.822 +08:00 [DBG] Starting grant removal
2019-09-18 15:59:36.161 +08:00 [DBG] Login Url: /Account/Login
2019-09-18 15:59:36.163 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-18 15:59:36.163 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-18 15:59:36.163 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-18 15:59:36.163 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-18 15:59:36.163 +08:00 [DBG] Error Url: /home/error
2019-09-18 15:59:36.163 +08:00 [DBG] Error Id Parameter: errorId
2019-09-18 15:59:38.276 +08:00 [WRN] Query: '(from ClientRedirectUri t in [x].RedirectUris select [t].RedirectUri).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-18 15:59:38.281 +08:00 [WRN] Query: '(from ClientPostLogoutRedirectUri r in [x].PostLogoutRedirectUris select [r].PostLogoutRedirectUri)....' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-18 15:59:38.281 +08:00 [WRN] Query: '(from ClientSecret t in [x].ClientSecrets select [t].Value).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-18 16:00:01.327 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Templates can be used only with field access, property access, single-dimension array index, or single-parameter custom indexer expressions.
   at Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ExpressionMetadataProvider.FromLambdaExpression[TModel,TResult](Expression`1 expression, ViewDataDictionary`1 viewData, IModelMetadataProvider metadataProvider)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper`1.GetModelExplorer[TResult](Expression`1 expression)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper`1.DisplayFor[TResult](Expression`1 expression, String templateName, String htmlFieldName, Object additionalViewData)
   at Microsoft.AspNetCore.Mvc.Rendering.HtmlHelperDisplayExtensions.DisplayFor[TModel,TResult](IHtmlHelper`1 htmlHelper, Expression`1 expression)
   at AspNetCore.Views_ConfigurationManage_Clients.ExecuteAsync() in E:\MyNetCore\LBDIdentityServer4\Views\ConfigurationManage\Clients.cshtml:line 55
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-18 16:00:17.732 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Templates can be used only with field access, property access, single-dimension array index, or single-parameter custom indexer expressions.
   at Microsoft.AspNetCore.Mvc.ViewFeatures.Internal.ExpressionMetadataProvider.FromLambdaExpression[TModel,TResult](Expression`1 expression, ViewDataDictionary`1 viewData, IModelMetadataProvider metadataProvider)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper`1.GetModelExplorer[TResult](Expression`1 expression)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.HtmlHelper`1.DisplayFor[TResult](Expression`1 expression, String templateName, String htmlFieldName, Object additionalViewData)
   at Microsoft.AspNetCore.Mvc.Rendering.HtmlHelperDisplayExtensions.DisplayFor[TModel,TResult](IHtmlHelper`1 htmlHelper, Expression`1 expression)
   at AspNetCore.Views_ConfigurationManage_Clients.ExecuteAsync() in E:\MyNetCore\LBDIdentityServer4\Views\ConfigurationManage\Clients.cshtml:line 55
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)
   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-18 16:00:38.405 +08:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Mvc.Razor.Compilation.CompilationFailedException: One or more compilation failures occurred:
E:\MyNetCore\LBDIdentityServer4\Views\ConfigurationManage\Clients.cshtml(55,47): error CS8072: An expression tree lambda may not contain a null propagating operator.
E:\MyNetCore\LBDIdentityServer4\Views\ConfigurationManage\Clients.cshtml(58,47): error CS8072: An expression tree lambda may not contain a null propagating operator.
E:\MyNetCore\LBDIdentityServer4\Views\ConfigurationManage\Clients.cshtml(61,47): error CS8072: An expression tree lambda may not contain a null propagating operator.
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(RazorCodeDocument codeDocument, String generatedCode)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(String relativePath)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.OnCacheMiss(String normalizedPath)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Razor.Internal.DefaultRazorPageFactoryProvider.CreateFactory(String relativePath)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.CreateCacheResult(HashSet`1 expirationTokens, String relativePath, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.OnCacheMiss(ViewLocationExpanderContext expanderContext, ViewLocationCacheKey cacheKey)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.LocatePageFromViewLocations(ActionContext actionContext, String pageName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.FindView(ActionContext context, String viewName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.ViewEngines.CompositeViewEngine.FindView(ActionContext context, String viewName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.FindView(ActionContext actionContext, ViewResult viewResult)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-18 16:05:04.863 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-18 16:05:04.881 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-18 16:05:04.881 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-18 16:05:04.892 +08:00 [DBG] Start token request.
2019-09-18 16:05:04.912 +08:00 [DBG] Start client validation
2019-09-18 16:05:04.922 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-18 16:05:04.929 +08:00 [DBG] Start parsing for secret in post body
2019-09-18 16:05:04.931 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-18 16:05:04.931 +08:00 [DBG] Secret id found: ro.client
2019-09-18 16:05:05.174 +08:00 [DBG] ro.client found in database: false
2019-09-18 16:05:05.183 +08:00 [ERR] No client with id 'ro.client' found. aborting
2019-09-18 16:06:05.839 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-18 16:06:05.846 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-18 16:06:05.846 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-18 16:06:05.847 +08:00 [DBG] Start token request.
2019-09-18 16:06:05.847 +08:00 [DBG] Start client validation
2019-09-18 16:06:05.847 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-18 16:06:05.847 +08:00 [DBG] Start parsing for secret in post body
2019-09-18 16:06:05.849 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-18 16:06:05.850 +08:00 [DBG] Secret id found: MyClient
2019-09-18 16:06:07.075 +08:00 [DBG] MyClient found in database: true
2019-09-18 16:06:07.083 +08:00 [ERR] Invalid client configuration for client MyClient: No redirect URI configured.
2019-09-18 16:06:07.084 +08:00 [ERR] No client with id 'MyClient' found. aborting
2019-09-18 16:06:10.639 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-18 16:06:10.641 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-18 16:06:10.641 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-18 16:06:10.641 +08:00 [DBG] Start token request.
2019-09-18 16:06:10.641 +08:00 [DBG] Start client validation
2019-09-18 16:06:10.641 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-18 16:06:10.641 +08:00 [DBG] Start parsing for secret in post body
2019-09-18 16:06:10.642 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-18 16:06:10.642 +08:00 [DBG] Secret id found: MyClient
2019-09-18 16:06:11.336 +08:00 [DBG] MyClient found in database: true
2019-09-18 16:06:11.336 +08:00 [ERR] Invalid client configuration for client MyClient: No redirect URI configured.
2019-09-18 16:06:11.336 +08:00 [ERR] No client with id 'MyClient' found. aborting
2019-09-18 16:06:25.527 +08:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-09-18 16:06:25.530 +08:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-09-18 16:06:25.530 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-09-18 16:06:25.535 +08:00 [DBG] Start discovery request
2019-09-18 16:06:25.789 +08:00 [DBG] Found [] as all scopes in database
2019-09-18 16:08:32.332 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-18 16:08:32.334 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-18 16:08:32.334 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-18 16:08:32.335 +08:00 [DBG] Start token request.
2019-09-18 16:08:32.335 +08:00 [DBG] Start client validation
2019-09-18 16:08:32.335 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-18 16:08:32.335 +08:00 [DBG] Start parsing for secret in post body
2019-09-18 16:08:32.345 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-18 16:08:32.345 +08:00 [DBG] Secret id found: MyClient
2019-09-18 16:08:33.056 +08:00 [DBG] MyClient found in database: true
2019-09-18 16:08:33.056 +08:00 [ERR] Invalid client configuration for client MyClient: No redirect URI configured.
2019-09-18 16:08:33.056 +08:00 [ERR] No client with id 'MyClient' found. aborting
2019-09-18 16:08:45.429 +08:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Mvc.Razor.Compilation.CompilationFailedException: One or more compilation failures occurred:
E:\MyNetCore\LBDIdentityServer4\Views\ConfigurationManage\Clients.cshtml(55,47): error CS8072: An expression tree lambda may not contain a null propagating operator.
E:\MyNetCore\LBDIdentityServer4\Views\ConfigurationManage\Clients.cshtml(58,47): error CS8072: An expression tree lambda may not contain a null propagating operator.
E:\MyNetCore\LBDIdentityServer4\Views\ConfigurationManage\Clients.cshtml(61,47): error CS8072: An expression tree lambda may not contain a null propagating operator.
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(RazorCodeDocument codeDocument, String generatedCode)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(String relativePath)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.OnCacheMiss(String normalizedPath)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Razor.Internal.DefaultRazorPageFactoryProvider.CreateFactory(String relativePath)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.CreateCacheResult(HashSet`1 expirationTokens, String relativePath, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.OnCacheMiss(ViewLocationExpanderContext expanderContext, ViewLocationCacheKey cacheKey)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.LocatePageFromViewLocations(ActionContext actionContext, String pageName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.FindView(ActionContext context, String viewName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.ViewEngines.CompositeViewEngine.FindView(ActionContext context, String viewName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.FindView(ActionContext actionContext, ViewResult viewResult)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-18 16:09:44.538 +08:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Mvc.Razor.Compilation.CompilationFailedException: One or more compilation failures occurred:
E:\MyNetCore\LBDIdentityServer4\Views\ConfigurationManage\Clients.cshtml(55,47): error CS8072: An expression tree lambda may not contain a null propagating operator.
E:\MyNetCore\LBDIdentityServer4\Views\ConfigurationManage\Clients.cshtml(58,47): error CS8072: An expression tree lambda may not contain a null propagating operator.
E:\MyNetCore\LBDIdentityServer4\Views\ConfigurationManage\Clients.cshtml(61,47): error CS8072: An expression tree lambda may not contain a null propagating operator.
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(RazorCodeDocument codeDocument, String generatedCode)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.CompileAndEmit(String relativePath)
   at Microsoft.AspNetCore.Mvc.Razor.Internal.RazorViewCompiler.OnCacheMiss(String normalizedPath)
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Mvc.Razor.Internal.DefaultRazorPageFactoryProvider.CreateFactory(String relativePath)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.CreateCacheResult(HashSet`1 expirationTokens, String relativePath, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.OnCacheMiss(ViewLocationExpanderContext expanderContext, ViewLocationCacheKey cacheKey)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.LocatePageFromViewLocations(ActionContext actionContext, String pageName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.Razor.RazorViewEngine.FindView(ActionContext context, String viewName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.ViewEngines.CompositeViewEngine.FindView(ActionContext context, String viewName, Boolean isMainPage)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.FindView(ActionContext actionContext, ViewResult viewResult)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-18 16:10:44.873 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-18 16:10:44.874 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-18 16:10:44.874 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-18 16:10:44.874 +08:00 [DBG] Start token request.
2019-09-18 16:10:44.874 +08:00 [DBG] Start client validation
2019-09-18 16:10:44.874 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-18 16:10:44.874 +08:00 [DBG] Start parsing for secret in post body
2019-09-18 16:10:44.881 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-18 16:10:44.881 +08:00 [DBG] Secret id found: passClient
2019-09-18 16:10:45.570 +08:00 [DBG] passClient found in database: true
2019-09-18 16:10:45.574 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-18 16:10:45.589 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-18 16:10:45.589 +08:00 [DBG] Client validation success
2019-09-18 16:10:45.598 +08:00 [DBG] Start token request validation
2019-09-18 16:10:45.611 +08:00 [DBG] Start resource owner password token request validation
2019-09-18 16:10:45.732 +08:00 [DBG] Found [] identity scopes in database
2019-09-18 16:10:45.852 +08:00 [DBG] Found [] API scopes in database
2019-09-18 16:10:45.854 +08:00 [ERR] Requested scope not allowed: openId
2019-09-18 16:10:45.867 +08:00 [ERR] {"ClientId":"passClient","ClientName":"passClient","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-18 16:11:02.150 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-18 16:11:02.151 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-18 16:11:02.151 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-18 16:11:02.151 +08:00 [DBG] Start token request.
2019-09-18 16:11:02.151 +08:00 [DBG] Start client validation
2019-09-18 16:11:02.152 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-18 16:11:02.152 +08:00 [DBG] Start parsing for secret in post body
2019-09-18 16:11:02.152 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-18 16:11:02.152 +08:00 [DBG] Secret id found: passClient
2019-09-18 16:11:02.844 +08:00 [DBG] passClient found in database: true
2019-09-18 16:11:02.844 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-18 16:11:02.845 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-18 16:11:02.845 +08:00 [DBG] Client validation success
2019-09-18 16:11:02.845 +08:00 [DBG] Start token request validation
2019-09-18 16:11:02.845 +08:00 [DBG] Start resource owner password token request validation
2019-09-18 16:11:02.920 +08:00 [DBG] Found [] identity scopes in database
2019-09-18 16:11:02.995 +08:00 [DBG] Found [] API scopes in database
2019-09-18 16:11:02.996 +08:00 [ERR] Requested scope not allowed: openId
2019-09-18 16:11:02.996 +08:00 [ERR] {"ClientId":"passClient","ClientName":"passClient","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***","scope":"openId"},"$type":"TokenRequestValidationLog"}
2019-09-18 16:12:33.724 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-18 16:12:33.725 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-18 16:12:33.728 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-18 16:12:33.728 +08:00 [DBG] Start token request.
2019-09-18 16:12:33.728 +08:00 [DBG] Start client validation
2019-09-18 16:12:33.728 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-18 16:12:33.728 +08:00 [DBG] Start parsing for secret in post body
2019-09-18 16:12:33.731 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-18 16:12:33.731 +08:00 [DBG] Secret id found: passClient
2019-09-18 16:12:34.427 +08:00 [DBG] passClient found in database: true
2019-09-18 16:12:34.427 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-18 16:12:34.427 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-18 16:12:34.427 +08:00 [DBG] Client validation success
2019-09-18 16:12:34.427 +08:00 [DBG] Start token request validation
2019-09-18 16:12:34.427 +08:00 [DBG] Start resource owner password token request validation
2019-09-18 16:12:34.502 +08:00 [DBG] Found [] identity scopes in database
2019-09-18 16:12:34.577 +08:00 [DBG] Found [] API scopes in database
2019-09-18 16:12:34.578 +08:00 [ERR] Requested scope not allowed: openId
2019-09-18 16:12:34.578 +08:00 [ERR] {"ClientId":"passClient","ClientName":"passClient","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***","scope":"openId"},"$type":"TokenRequestValidationLog"}
2019-09-18 16:12:45.484 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-18 16:12:45.485 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-18 16:12:45.485 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-18 16:12:45.498 +08:00 [DBG] Start token request.
2019-09-18 16:12:45.499 +08:00 [DBG] Start client validation
2019-09-18 16:12:45.499 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-18 16:12:45.499 +08:00 [DBG] Start parsing for secret in post body
2019-09-18 16:12:45.508 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-18 16:12:45.508 +08:00 [DBG] Secret id found: passClient
2019-09-18 16:12:46.206 +08:00 [DBG] passClient found in database: true
2019-09-18 16:12:46.206 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-18 16:12:46.206 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-18 16:12:46.206 +08:00 [DBG] Client validation success
2019-09-18 16:12:46.206 +08:00 [DBG] Start token request validation
2019-09-18 16:12:46.206 +08:00 [DBG] Start resource owner password token request validation
2019-09-18 16:12:46.281 +08:00 [DBG] Found [] identity scopes in database
2019-09-18 16:12:46.355 +08:00 [DBG] Found [] API scopes in database
2019-09-18 16:12:46.356 +08:00 [ERR] Requested scope not allowed: openId
2019-09-18 16:12:46.356 +08:00 [ERR] {"ClientId":"passClient","ClientName":"passClient","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-18 16:16:19.620 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-18 16:16:19.622 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-18 16:16:19.622 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-18 16:16:19.622 +08:00 [DBG] Start token request.
2019-09-18 16:16:19.622 +08:00 [DBG] Start client validation
2019-09-18 16:16:19.622 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-18 16:16:19.622 +08:00 [DBG] Start parsing for secret in post body
2019-09-18 16:16:19.623 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-18 16:16:19.623 +08:00 [DBG] Secret id found: passClient
2019-09-18 16:16:20.313 +08:00 [DBG] passClient found in database: true
2019-09-18 16:16:20.313 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-18 16:16:20.314 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-18 16:16:20.314 +08:00 [DBG] Client validation success
2019-09-18 16:16:20.314 +08:00 [DBG] Start token request validation
2019-09-18 16:16:20.314 +08:00 [DBG] Start resource owner password token request validation
2019-09-18 16:16:20.389 +08:00 [DBG] Found [] identity scopes in database
2019-09-18 16:16:20.464 +08:00 [DBG] Found [] API scopes in database
2019-09-18 16:16:20.464 +08:00 [ERR] Requested scope not allowed: openId
2019-09-18 16:16:20.464 +08:00 [ERR] {"ClientId":"passClient","ClientName":"passClient","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***","scope":"openId"},"$type":"TokenRequestValidationLog"}
2019-09-18 16:18:02.831 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-18 16:18:02.832 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-18 16:18:02.832 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-18 16:18:02.832 +08:00 [DBG] Start token request.
2019-09-18 16:18:02.832 +08:00 [DBG] Start client validation
2019-09-18 16:18:02.832 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-18 16:18:02.832 +08:00 [DBG] Start parsing for secret in post body
2019-09-18 16:18:02.886 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-18 16:18:02.886 +08:00 [DBG] Secret id found: passClient
2019-09-18 16:18:03.582 +08:00 [DBG] passClient found in database: true
2019-09-18 16:18:03.582 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-18 16:18:03.582 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-18 16:18:03.582 +08:00 [DBG] Client validation success
2019-09-18 16:18:03.584 +08:00 [DBG] Start token request validation
2019-09-18 16:18:03.584 +08:00 [DBG] Start resource owner password token request validation
2019-09-18 16:18:03.659 +08:00 [DBG] Found [] identity scopes in database
2019-09-18 16:18:03.735 +08:00 [DBG] Found [] API scopes in database
2019-09-18 16:18:03.735 +08:00 [ERR] Requested scope not allowed: openId
2019-09-18 16:18:03.736 +08:00 [ERR] {"ClientId":"passClient","ClientName":"passClient","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***","scope":"openId"},"$type":"TokenRequestValidationLog"}
2019-09-18 16:18:07.699 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-18 16:18:07.700 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-18 16:18:07.700 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-18 16:18:07.700 +08:00 [DBG] Start token request.
2019-09-18 16:18:07.700 +08:00 [DBG] Start client validation
2019-09-18 16:18:07.700 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-18 16:18:07.700 +08:00 [DBG] Start parsing for secret in post body
2019-09-18 16:18:07.701 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-18 16:18:07.701 +08:00 [DBG] Secret id found: passClient
2019-09-18 16:18:08.397 +08:00 [DBG] passClient found in database: true
2019-09-18 16:18:08.397 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-18 16:18:08.397 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-18 16:18:08.397 +08:00 [DBG] Client validation success
2019-09-18 16:18:08.397 +08:00 [DBG] Start token request validation
2019-09-18 16:18:08.397 +08:00 [ERR] Grant type is missing, {"ClientId":"passClient","ClientName":"passClient","GrantType":null,"Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"client_id":"passClient","client_secret":"***REDACTED***","scope":"openId"},"$type":"TokenRequestValidationLog"}
2019-09-18 16:18:12.523 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-18 16:18:12.524 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-18 16:18:12.524 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-18 16:18:12.524 +08:00 [DBG] Start token request.
2019-09-18 16:18:12.524 +08:00 [DBG] Start client validation
2019-09-18 16:18:12.524 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-18 16:18:12.524 +08:00 [DBG] Start parsing for secret in post body
2019-09-18 16:18:12.525 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-18 16:18:12.525 +08:00 [DBG] Secret id found: passClient
2019-09-18 16:18:13.223 +08:00 [DBG] passClient found in database: true
2019-09-18 16:18:13.223 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-18 16:18:13.223 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-18 16:18:13.223 +08:00 [DBG] Client validation success
2019-09-18 16:18:13.223 +08:00 [DBG] Start token request validation
2019-09-18 16:18:13.223 +08:00 [DBG] Start resource owner password token request validation
2019-09-18 16:18:13.297 +08:00 [DBG] Found [] identity scopes in database
2019-09-18 16:18:13.372 +08:00 [DBG] Found [] API scopes in database
2019-09-18 16:18:13.372 +08:00 [ERR] Requested scope not allowed: openId
2019-09-18 16:18:13.372 +08:00 [ERR] {"ClientId":"passClient","ClientName":"passClient","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***","scope":"openId"},"$type":"TokenRequestValidationLog"}
2019-09-18 16:20:01.819 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-18 16:20:02.207 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-18 16:20:02.207 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-18 16:20:02.207 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-18 16:20:02.207 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-18 16:20:02.207 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-18 16:20:02.207 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-18 16:20:02.679 +08:00 [DBG] Starting grant removal
2019-09-18 16:20:03.065 +08:00 [DBG] Login Url: /Account/Login
2019-09-18 16:20:03.067 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-18 16:20:03.067 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-18 16:20:03.067 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-18 16:20:03.067 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-18 16:20:03.067 +08:00 [DBG] Error Url: /home/error
2019-09-18 16:20:03.067 +08:00 [DBG] Error Id Parameter: errorId
2019-09-18 16:20:06.186 +08:00 [WRN] Query: '(from ClientRedirectUri t in [x].RedirectUris select [t].RedirectUri).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-18 16:20:06.191 +08:00 [WRN] Query: '(from ClientPostLogoutRedirectUri r in [x].PostLogoutRedirectUris select [r].PostLogoutRedirectUri)....' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-18 16:20:06.191 +08:00 [WRN] Query: '(from ClientSecret t in [x].ClientSecrets select [t].Value).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-18 16:20:56.975 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-18 16:20:57.356 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-18 16:20:57.356 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-18 16:20:57.356 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-18 16:20:57.357 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-18 16:20:57.357 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-18 16:20:57.357 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-18 16:20:57.830 +08:00 [DBG] Starting grant removal
2019-09-18 16:20:58.192 +08:00 [DBG] Login Url: /Account/Login
2019-09-18 16:20:58.194 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-18 16:20:58.194 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-18 16:20:58.194 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-18 16:20:58.194 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-18 16:20:58.194 +08:00 [DBG] Error Url: /home/error
2019-09-18 16:20:58.194 +08:00 [DBG] Error Id Parameter: errorId
2019-09-18 16:21:01.225 +08:00 [WRN] Query: '(from ClientRedirectUri t in [x].RedirectUris select [t].RedirectUri).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-18 16:21:01.231 +08:00 [WRN] Query: '(from ClientPostLogoutRedirectUri r in [x].PostLogoutRedirectUris select [r].PostLogoutRedirectUri)....' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-18 16:21:01.231 +08:00 [WRN] Query: '(from ClientSecret t in [x].ClientSecrets select [t].Value).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-18 16:21:17.918 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-18 16:21:17.949 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-18 16:21:17.949 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-18 16:21:17.968 +08:00 [DBG] Start token request.
2019-09-18 16:21:17.977 +08:00 [DBG] Start client validation
2019-09-18 16:21:17.987 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-18 16:21:17.990 +08:00 [DBG] Start parsing for secret in post body
2019-09-18 16:21:18.008 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-18 16:21:18.008 +08:00 [DBG] Secret id found: passClient
2019-09-18 16:21:19.414 +08:00 [DBG] passClient found in database: true
2019-09-18 16:21:19.428 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-18 16:21:19.438 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-18 16:21:19.438 +08:00 [DBG] Client validation success
2019-09-18 16:21:19.447 +08:00 [DBG] Start token request validation
2019-09-18 16:21:19.458 +08:00 [DBG] Start resource owner password token request validation
2019-09-18 16:21:19.588 +08:00 [DBG] Found [] identity scopes in database
2019-09-18 16:21:19.769 +08:00 [DBG] Found [] API scopes in database
2019-09-18 16:21:19.775 +08:00 [ERR] Requested scope not allowed: openId
2019-09-18 16:21:19.790 +08:00 [ERR] {"ClientId":"passClient","ClientName":"passClient","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-18 16:21:39.098 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-18 16:21:39.099 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-18 16:21:39.099 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-18 16:21:39.099 +08:00 [DBG] Start token request.
2019-09-18 16:21:39.100 +08:00 [DBG] Start client validation
2019-09-18 16:21:39.100 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-18 16:21:39.100 +08:00 [DBG] Start parsing for secret in post body
2019-09-18 16:21:39.100 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-18 16:21:39.100 +08:00 [DBG] Secret id found: passClient
2019-09-18 16:21:39.812 +08:00 [DBG] passClient found in database: true
2019-09-18 16:21:39.812 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-18 16:21:39.813 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-18 16:21:39.813 +08:00 [DBG] Client validation success
2019-09-18 16:21:39.813 +08:00 [DBG] Start token request validation
2019-09-18 16:21:39.813 +08:00 [DBG] Start resource owner password token request validation
2019-09-18 16:21:39.889 +08:00 [DBG] Found [] identity scopes in database
2019-09-18 16:21:39.966 +08:00 [DBG] Found [] API scopes in database
2019-09-18 16:21:39.966 +08:00 [ERR] Requested scope not allowed: openId
2019-09-18 16:21:39.966 +08:00 [ERR] {"ClientId":"passClient","ClientName":"passClient","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***","scope":"openId"},"$type":"TokenRequestValidationLog"}
2019-09-18 16:24:10.915 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-18 16:24:10.916 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-18 16:24:10.916 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-18 16:24:10.916 +08:00 [DBG] Start token request.
2019-09-18 16:24:10.916 +08:00 [DBG] Start client validation
2019-09-18 16:24:10.916 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-18 16:24:10.916 +08:00 [DBG] Start parsing for secret in post body
2019-09-18 16:24:10.917 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-18 16:24:10.917 +08:00 [DBG] Secret id found: passClient
2019-09-18 16:24:11.628 +08:00 [DBG] passClient found in database: true
2019-09-18 16:24:11.628 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-18 16:24:11.628 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-18 16:24:11.628 +08:00 [DBG] Client validation success
2019-09-18 16:24:11.628 +08:00 [DBG] Start token request validation
2019-09-18 16:24:11.628 +08:00 [DBG] Start resource owner password token request validation
2019-09-18 16:24:11.705 +08:00 [DBG] Found [] identity scopes in database
2019-09-18 16:24:11.782 +08:00 [DBG] Found [] API scopes in database
2019-09-18 16:24:11.782 +08:00 [ERR] Requested scope not allowed: openId
2019-09-18 16:24:11.782 +08:00 [ERR] {"ClientId":"passClient","ClientName":"passClient","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***","scope":"openId"},"$type":"TokenRequestValidationLog"}
2019-09-18 16:24:17.322 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-18 16:24:17.323 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-18 16:24:17.323 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-18 16:24:17.323 +08:00 [DBG] Start token request.
2019-09-18 16:24:17.323 +08:00 [DBG] Start client validation
2019-09-18 16:24:17.323 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-18 16:24:17.323 +08:00 [DBG] Start parsing for secret in post body
2019-09-18 16:24:17.329 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-18 16:24:17.329 +08:00 [DBG] Secret id found: passClient
2019-09-18 16:24:18.037 +08:00 [DBG] passClient found in database: true
2019-09-18 16:24:18.037 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-18 16:24:18.038 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-18 16:24:18.038 +08:00 [DBG] Client validation success
2019-09-18 16:24:18.038 +08:00 [DBG] Start token request validation
2019-09-18 16:24:18.038 +08:00 [DBG] Start resource owner password token request validation
2019-09-18 16:24:18.115 +08:00 [DBG] Found [] identity scopes in database
2019-09-18 16:24:18.192 +08:00 [DBG] Found [] API scopes in database
2019-09-18 16:24:18.192 +08:00 [ERR] Requested scope not allowed: profile
2019-09-18 16:24:18.193 +08:00 [ERR] {"ClientId":"passClient","ClientName":"passClient","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***","scope":"profile"},"$type":"TokenRequestValidationLog"}
2019-09-18 16:26:29.266 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-18 16:26:29.266 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-18 16:26:29.266 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-18 16:26:29.267 +08:00 [DBG] Start token request.
2019-09-18 16:26:29.267 +08:00 [DBG] Start client validation
2019-09-18 16:26:29.267 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-18 16:26:29.267 +08:00 [DBG] Start parsing for secret in post body
2019-09-18 16:26:29.268 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-18 16:26:29.268 +08:00 [DBG] Secret id found: passClient
2019-09-18 16:26:29.977 +08:00 [DBG] passClient found in database: true
2019-09-18 16:26:29.977 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-18 16:26:29.978 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-18 16:26:29.978 +08:00 [DBG] Client validation success
2019-09-18 16:26:29.978 +08:00 [DBG] Start token request validation
2019-09-18 16:26:29.978 +08:00 [DBG] Start resource owner password token request validation
2019-09-18 16:26:30.060 +08:00 [DBG] Found [] identity scopes in database
2019-09-18 16:26:30.138 +08:00 [DBG] Found [] API scopes in database
2019-09-18 16:26:30.138 +08:00 [ERR] Requested scope not allowed: openId
2019-09-18 16:26:30.138 +08:00 [ERR] {"ClientId":"passClient","ClientName":"passClient","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-18 16:28:55.636 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-18 16:28:55.636 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-18 16:28:55.636 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-18 16:28:55.637 +08:00 [DBG] Start token request.
2019-09-18 16:28:55.637 +08:00 [DBG] Start client validation
2019-09-18 16:28:55.637 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-18 16:28:55.637 +08:00 [DBG] Start parsing for secret in post body
2019-09-18 16:28:55.638 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-18 16:28:55.638 +08:00 [DBG] Secret id found: passClient
2019-09-18 16:28:56.333 +08:00 [DBG] passClient found in database: true
2019-09-18 16:28:56.333 +08:00 [ERR] Invalid client configuration for client passClient: No redirect URI configured.
2019-09-18 16:28:56.334 +08:00 [ERR] No client with id 'passClient' found. aborting
2019-09-18 16:29:10.106 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-18 16:29:10.108 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-18 16:29:10.108 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-18 16:29:10.108 +08:00 [DBG] Start token request.
2019-09-18 16:29:10.108 +08:00 [DBG] Start client validation
2019-09-18 16:29:10.109 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-18 16:29:10.109 +08:00 [DBG] Start parsing for secret in post body
2019-09-18 16:29:10.110 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-18 16:29:10.110 +08:00 [DBG] Secret id found: passClient
2019-09-18 16:29:10.807 +08:00 [DBG] passClient found in database: true
2019-09-18 16:29:10.807 +08:00 [ERR] Invalid client configuration for client passClient: No redirect URI configured.
2019-09-18 16:29:10.807 +08:00 [ERR] No client with id 'passClient' found. aborting
2019-09-18 16:29:20.045 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-18 16:29:20.045 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-18 16:29:20.047 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-18 16:29:20.047 +08:00 [DBG] Start token request.
2019-09-18 16:29:20.047 +08:00 [DBG] Start client validation
2019-09-18 16:29:20.047 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-18 16:29:20.047 +08:00 [DBG] Start parsing for secret in post body
2019-09-18 16:29:20.055 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-18 16:29:20.056 +08:00 [DBG] Secret id found: passClient
2019-09-18 16:29:20.756 +08:00 [DBG] passClient found in database: true
2019-09-18 16:29:20.756 +08:00 [ERR] Invalid client configuration for client passClient: No redirect URI configured.
2019-09-18 16:29:20.756 +08:00 [ERR] No client with id 'passClient' found. aborting
2019-09-18 16:29:41.553 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-18 16:29:41.556 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-18 16:29:41.556 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-18 16:29:41.557 +08:00 [DBG] Start token request.
2019-09-18 16:29:41.557 +08:00 [DBG] Start client validation
2019-09-18 16:29:41.557 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-18 16:29:41.557 +08:00 [DBG] Start parsing for secret in post body
2019-09-18 16:29:41.558 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-18 16:29:41.558 +08:00 [DBG] Secret id found: passClient
2019-09-18 16:29:42.271 +08:00 [DBG] passClient found in database: true
2019-09-18 16:29:42.271 +08:00 [ERR] Invalid client configuration for client passClient: No redirect URI configured.
2019-09-18 16:29:42.271 +08:00 [ERR] No client with id 'passClient' found. aborting
2019-09-18 16:30:02.896 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-18 16:30:02.896 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-18 16:30:02.896 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-18 16:30:02.897 +08:00 [DBG] Start token request.
2019-09-18 16:30:02.897 +08:00 [DBG] Start client validation
2019-09-18 16:30:02.897 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-18 16:30:02.897 +08:00 [DBG] Start parsing for secret in post body
2019-09-18 16:30:02.897 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-18 16:30:02.897 +08:00 [DBG] Secret id found: passClient
2019-09-18 16:30:03.610 +08:00 [DBG] passClient found in database: true
2019-09-18 16:30:03.611 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-18 16:30:03.611 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-18 16:30:03.611 +08:00 [DBG] Client validation success
2019-09-18 16:30:03.611 +08:00 [DBG] Start token request validation
2019-09-18 16:30:03.618 +08:00 [DBG] Start validation of custom grant token request
2019-09-18 16:30:03.618 +08:00 [ERR] Client does not have the custom grant type in the allowed list, therefore requested grant is not allowed{"clientId":"passClient"}, details: {"ClientId":"passClient","ClientName":"passClient","GrantType":"implicit","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"implicit","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-18 16:30:10.204 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-18 16:30:10.205 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-18 16:30:10.205 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-18 16:30:10.206 +08:00 [DBG] Start token request.
2019-09-18 16:30:10.206 +08:00 [DBG] Start client validation
2019-09-18 16:30:10.206 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-18 16:30:10.206 +08:00 [DBG] Start parsing for secret in post body
2019-09-18 16:30:10.271 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-18 16:30:10.271 +08:00 [DBG] Secret id found: passClient
2019-09-18 16:30:10.998 +08:00 [DBG] passClient found in database: true
2019-09-18 16:30:10.998 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-18 16:30:10.998 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-18 16:30:10.998 +08:00 [DBG] Client validation success
2019-09-18 16:30:10.999 +08:00 [DBG] Start token request validation
2019-09-18 16:30:11.000 +08:00 [DBG] Start resource owner password token request validation
2019-09-18 16:30:11.077 +08:00 [DBG] Found [] identity scopes in database
2019-09-18 16:30:11.157 +08:00 [DBG] Found [] API scopes in database
2019-09-18 16:30:11.157 +08:00 [ERR] Requested scope not allowed: openId
2019-09-18 16:30:11.157 +08:00 [ERR] {"ClientId":"passClient","ClientName":"passClient","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-18 16:30:14.439 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-18 16:30:14.440 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-18 16:30:14.440 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-18 16:30:14.440 +08:00 [DBG] Start token request.
2019-09-18 16:30:14.440 +08:00 [DBG] Start client validation
2019-09-18 16:30:14.440 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-18 16:30:14.440 +08:00 [DBG] Start parsing for secret in post body
2019-09-18 16:30:14.441 +08:00 [DBG] No secret in post body found
2019-09-18 16:30:14.441 +08:00 [DBG] Parser found no secret
2019-09-18 16:30:14.441 +08:00 [ERR] No client identifier found
2019-09-18 16:30:19.717 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-18 16:30:19.718 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-18 16:30:19.718 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-18 16:30:19.718 +08:00 [DBG] Start token request.
2019-09-18 16:30:19.718 +08:00 [DBG] Start client validation
2019-09-18 16:30:19.718 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-18 16:30:19.718 +08:00 [DBG] Start parsing for secret in post body
2019-09-18 16:30:19.723 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-18 16:30:19.723 +08:00 [DBG] Secret id found: passClient
2019-09-18 16:30:20.438 +08:00 [DBG] passClient found in database: true
2019-09-18 16:30:20.438 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-18 16:30:20.438 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-18 16:30:20.438 +08:00 [DBG] Client validation success
2019-09-18 16:30:20.438 +08:00 [DBG] Start token request validation
2019-09-18 16:30:20.438 +08:00 [DBG] Start resource owner password token request validation
2019-09-18 16:30:20.514 +08:00 [DBG] Found [] identity scopes in database
2019-09-18 16:30:20.591 +08:00 [DBG] Found [] API scopes in database
2019-09-18 16:30:20.591 +08:00 [ERR] Requested scope not allowed: openId
2019-09-18 16:30:20.591 +08:00 [ERR] {"ClientId":"passClient","ClientName":"passClient","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-18 16:31:22.188 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-18 16:31:22.189 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-18 16:31:22.189 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-18 16:31:22.189 +08:00 [DBG] Start token request.
2019-09-18 16:31:22.189 +08:00 [DBG] Start client validation
2019-09-18 16:31:22.189 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-18 16:31:22.189 +08:00 [DBG] Start parsing for secret in post body
2019-09-18 16:31:22.189 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-18 16:31:22.189 +08:00 [DBG] Secret id found: passClient
2019-09-18 16:31:22.899 +08:00 [DBG] passClient found in database: true
2019-09-18 16:31:22.899 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-18 16:31:22.899 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-18 16:31:22.899 +08:00 [DBG] Client validation success
2019-09-18 16:31:22.899 +08:00 [DBG] Start token request validation
2019-09-18 16:31:22.899 +08:00 [DBG] Start resource owner password token request validation
2019-09-18 16:31:22.977 +08:00 [DBG] Found [] identity scopes in database
2019-09-18 16:31:23.055 +08:00 [DBG] Found [] API scopes in database
2019-09-18 16:31:23.055 +08:00 [ERR] Requested scope not allowed: openId
2019-09-18 16:31:23.055 +08:00 [ERR] {"ClientId":"passClient","ClientName":"passClient","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-18 16:31:28.279 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-18 16:31:28.279 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-18 16:31:28.279 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-18 16:31:28.280 +08:00 [DBG] Start token request.
2019-09-18 16:31:28.280 +08:00 [DBG] Start client validation
2019-09-18 16:31:28.280 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-18 16:31:28.280 +08:00 [DBG] Start parsing for secret in post body
2019-09-18 16:31:28.345 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-18 16:31:28.346 +08:00 [DBG] Secret id found: passClient
2019-09-18 16:31:29.078 +08:00 [DBG] passClient found in database: true
2019-09-18 16:31:29.079 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-18 16:31:29.079 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-18 16:31:29.079 +08:00 [DBG] Client validation success
2019-09-18 16:31:29.079 +08:00 [DBG] Start token request validation
2019-09-18 16:31:29.079 +08:00 [DBG] Start resource owner password token request validation
2019-09-18 16:31:29.156 +08:00 [DBG] Found [] identity scopes in database
2019-09-18 16:31:29.233 +08:00 [DBG] Found [] API scopes in database
2019-09-18 16:31:29.233 +08:00 [ERR] Requested scope not allowed: roles
2019-09-18 16:31:29.233 +08:00 [ERR] {"ClientId":"passClient","ClientName":"passClient","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***","scope":"roles"},"$type":"TokenRequestValidationLog"}
2019-09-18 16:31:47.517 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-18 16:31:47.518 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-18 16:31:47.519 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-18 16:31:47.519 +08:00 [DBG] Start token request.
2019-09-18 16:31:47.519 +08:00 [DBG] Start client validation
2019-09-18 16:31:47.519 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-18 16:31:47.519 +08:00 [DBG] Start parsing for secret in post body
2019-09-18 16:31:47.524 +08:00 [DBG] client id without secret found
2019-09-18 16:31:47.529 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-18 16:31:47.530 +08:00 [DBG] Secret id found: passClient
2019-09-18 16:31:48.243 +08:00 [DBG] passClient found in database: true
2019-09-18 16:31:48.244 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-18 16:31:48.244 +08:00 [DBG] Hashed shared secret validator cannot process NoSecret
2019-09-18 16:31:48.244 +08:00 [DBG] Secret validators could not validate secret
2019-09-18 16:31:48.244 +08:00 [ERR] Client secret validation failed for client: passClient.
2019-09-18 16:31:51.783 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-18 16:31:51.784 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-18 16:31:51.784 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-18 16:31:51.784 +08:00 [DBG] Start token request.
2019-09-18 16:31:51.784 +08:00 [DBG] Start client validation
2019-09-18 16:31:51.784 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-18 16:31:51.784 +08:00 [DBG] Start parsing for secret in post body
2019-09-18 16:31:51.785 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-18 16:31:51.785 +08:00 [DBG] Secret id found: passClient
2019-09-18 16:31:52.498 +08:00 [DBG] passClient found in database: true
2019-09-18 16:31:52.498 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-18 16:31:52.498 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-18 16:31:52.498 +08:00 [DBG] Client validation success
2019-09-18 16:31:52.498 +08:00 [DBG] Start token request validation
2019-09-18 16:31:52.498 +08:00 [DBG] Start resource owner password token request validation
2019-09-18 16:31:52.574 +08:00 [DBG] Found [] identity scopes in database
2019-09-18 16:31:52.651 +08:00 [DBG] Found [] API scopes in database
2019-09-18 16:31:52.651 +08:00 [ERR] Requested scope not allowed: openId
2019-09-18 16:31:52.651 +08:00 [ERR] {"ClientId":"passClient","ClientName":"passClient","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-18 16:39:11.771 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-18 16:39:12.261 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-18 16:39:12.261 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-18 16:39:12.261 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-18 16:39:12.261 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-18 16:39:12.261 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-18 16:39:12.261 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-18 16:39:12.964 +08:00 [DBG] Starting grant removal
2019-09-18 16:39:13.320 +08:00 [DBG] Login Url: /Account/Login
2019-09-18 16:39:13.322 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-18 16:39:13.322 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-18 16:39:13.323 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-18 16:39:13.323 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-18 16:39:13.323 +08:00 [DBG] Error Url: /home/error
2019-09-18 16:39:13.323 +08:00 [DBG] Error Id Parameter: errorId
2019-09-18 16:39:18.427 +08:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-09-18 16:39:18.451 +08:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-09-18 16:39:18.451 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-09-18 16:39:18.455 +08:00 [DBG] Start discovery request
2019-09-18 16:39:19.679 +08:00 [DBG] Found [] as all scopes in database
2019-09-18 16:42:01.017 +08:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-09-18 16:42:01.027 +08:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-09-18 16:42:01.028 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-09-18 16:42:01.053 +08:00 [DBG] Start discovery request
2019-09-18 16:42:01.206 +08:00 [DBG] Found [] as all scopes in database
2019-09-18 17:01:40.194 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-18 17:01:40.216 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-18 17:01:40.216 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-18 17:01:40.237 +08:00 [DBG] Start token request.
2019-09-18 17:01:40.253 +08:00 [DBG] Start client validation
2019-09-18 17:01:40.265 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-18 17:01:40.269 +08:00 [DBG] Start parsing for secret in post body
2019-09-18 17:01:40.289 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-18 17:01:40.289 +08:00 [DBG] Secret id found: blogvuejs
2019-09-18 17:01:40.798 +08:00 [DBG] blogvuejs found in database: false
2019-09-18 17:01:40.804 +08:00 [ERR] No client with id 'blogvuejs' found. aborting
2019-09-18 17:02:03.565 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-18 17:02:03.573 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-18 17:02:03.573 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-18 17:02:03.574 +08:00 [DBG] Start token request.
2019-09-18 17:02:03.574 +08:00 [DBG] Start client validation
2019-09-18 17:02:03.574 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-18 17:02:03.574 +08:00 [DBG] Start parsing for secret in post body
2019-09-18 17:02:03.577 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-18 17:02:03.577 +08:00 [DBG] Secret id found: passClient
2019-09-18 17:02:04.890 +08:00 [DBG] passClient found in database: true
2019-09-18 17:02:04.902 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-18 17:02:04.912 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-18 17:02:04.912 +08:00 [DBG] Client validation success
2019-09-18 17:02:04.920 +08:00 [DBG] Start token request validation
2019-09-18 17:02:04.933 +08:00 [DBG] Start resource owner password token request validation
2019-09-18 17:02:05.054 +08:00 [DBG] Found [] identity scopes in database
2019-09-18 17:02:05.178 +08:00 [DBG] Found [] API scopes in database
2019-09-18 17:02:05.180 +08:00 [ERR] Requested scope not allowed: openId
2019-09-18 17:02:05.194 +08:00 [ERR] {"ClientId":"passClient","ClientName":"passClient","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-18 17:05:46.082 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-18 17:05:46.315 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-18 17:05:46.315 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-18 17:05:46.315 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-18 17:05:46.315 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-18 17:05:46.315 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-18 17:05:46.315 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-18 17:05:46.545 +08:00 [DBG] Starting grant removal
2019-09-18 17:05:46.856 +08:00 [DBG] Login Url: /Account/Login
2019-09-18 17:05:46.863 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-18 17:05:46.863 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-18 17:05:46.863 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-18 17:05:46.864 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-18 17:05:46.864 +08:00 [DBG] Error Url: /home/error
2019-09-18 17:05:46.864 +08:00 [DBG] Error Id Parameter: errorId
2019-09-18 17:05:46.896 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-18 17:05:46.915 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-18 17:05:46.915 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-18 17:05:46.922 +08:00 [DBG] Start token request.
2019-09-18 17:05:46.930 +08:00 [DBG] Start client validation
2019-09-18 17:05:46.936 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-18 17:05:46.939 +08:00 [DBG] Start parsing for secret in post body
2019-09-18 17:05:46.970 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-18 17:05:46.971 +08:00 [DBG] Secret id found: blogvuejs
2019-09-18 17:05:48.101 +08:00 [DBG] blogvuejs found in database: false
2019-09-18 17:05:48.108 +08:00 [ERR] No client with id 'blogvuejs' found. aborting
2019-09-19 09:26:36.298 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 09:26:36.862 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 09:26:36.862 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 09:26:36.862 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 09:26:36.862 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 09:26:36.862 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 09:26:36.862 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 09:26:37.403 +08:00 [DBG] Starting grant removal
2019-09-19 09:26:37.662 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 09:26:37.664 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 09:26:37.664 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 09:26:37.664 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 09:26:37.664 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 09:26:37.664 +08:00 [DBG] Error Url: /home/error
2019-09-19 09:26:37.664 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 09:26:46.944 +08:00 [ERR] The view 'Index' was not found. Searched locations: ["/Views/ApiResource/Index.cshtml","/Views/Shared/Index.cshtml","/Pages/Shared/Index.cshtml"]
2019-09-19 09:26:47.495 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'Index' was not found. The following locations were searched:
/Views/ApiResource/Index.cshtml
/Views/Shared/Index.cshtml
/Pages/Shared/Index.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 09:28:12.125 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:28:12.271 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:28:12.272 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:28:12.283 +08:00 [DBG] Start token request.
2019-09-19 09:28:12.290 +08:00 [DBG] Start client validation
2019-09-19 09:28:12.298 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 09:28:12.302 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 09:28:12.320 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 09:28:12.320 +08:00 [DBG] Secret id found: passClient
2019-09-19 09:28:13.765 +08:00 [DBG] passClient found in database: true
2019-09-19 09:28:13.774 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 09:28:13.784 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 09:28:13.784 +08:00 [DBG] Client validation success
2019-09-19 09:28:13.794 +08:00 [DBG] Start token request validation
2019-09-19 09:28:13.806 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 09:28:13.924 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 09:28:14.067 +08:00 [DBG] Found [] API scopes in database
2019-09-19 09:28:14.073 +08:00 [ERR] Requested scope not allowed: openId
2019-09-19 09:28:14.084 +08:00 [ERR] {"ClientId":"passClient","ClientName":"passClient","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 09:28:22.800 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:28:22.803 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:28:22.803 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:28:22.803 +08:00 [DBG] Start token request.
2019-09-19 09:28:22.803 +08:00 [DBG] Start client validation
2019-09-19 09:28:22.803 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 09:28:22.803 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 09:28:22.804 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 09:28:22.804 +08:00 [DBG] Secret id found: passClient
2019-09-19 09:28:23.523 +08:00 [DBG] passClient found in database: true
2019-09-19 09:28:23.523 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 09:28:23.523 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 09:28:23.523 +08:00 [DBG] Client validation success
2019-09-19 09:28:23.524 +08:00 [DBG] Start token request validation
2019-09-19 09:28:23.524 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 09:28:23.601 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 09:28:23.678 +08:00 [DBG] Found [] API scopes in database
2019-09-19 09:28:23.678 +08:00 [ERR] Requested scope not allowed: roles
2019-09-19 09:28:23.679 +08:00 [ERR] {"ClientId":"passClient","ClientName":"passClient","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***","scope":"roles"},"$type":"TokenRequestValidationLog"}
2019-09-19 09:36:06.629 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 09:36:07.011 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 09:36:07.011 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 09:36:07.011 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 09:36:07.011 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 09:36:07.011 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 09:36:07.011 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 09:36:07.436 +08:00 [DBG] Starting grant removal
2019-09-19 09:36:07.841 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 09:36:07.843 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 09:36:07.843 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 09:36:07.843 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 09:36:07.843 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 09:36:07.843 +08:00 [DBG] Error Url: /home/error
2019-09-19 09:36:07.843 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 09:36:19.581 +08:00 [ERR] The view 'Index' was not found. Searched locations: ["/Views/ApiResource/Index.cshtml","/Views/Shared/Index.cshtml","/Pages/Shared/Index.cshtml"]
2019-09-19 09:36:20.117 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'Index' was not found. The following locations were searched:
/Views/ApiResource/Index.cshtml
/Views/Shared/Index.cshtml
/Pages/Shared/Index.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 09:37:03.041 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:37:03.070 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:37:03.071 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:37:03.085 +08:00 [DBG] Start token request.
2019-09-19 09:37:03.091 +08:00 [DBG] Start client validation
2019-09-19 09:37:03.100 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 09:37:03.104 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 09:37:03.121 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 09:37:03.122 +08:00 [DBG] Secret id found: passClient
2019-09-19 09:37:04.522 +08:00 [DBG] passClient found in database: true
2019-09-19 09:37:04.532 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 09:37:04.540 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 09:37:04.540 +08:00 [DBG] Client validation success
2019-09-19 09:37:04.549 +08:00 [DBG] Start token request validation
2019-09-19 09:37:04.561 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 09:37:04.684 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 09:37:04.823 +08:00 [DBG] Found [] API scopes in database
2019-09-19 09:37:04.831 +08:00 [ERR] Requested scope not allowed: roles
2019-09-19 09:37:04.840 +08:00 [ERR] {"ClientId":"passClient","ClientName":"passClient","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***","scope":"roles"},"$type":"TokenRequestValidationLog"}
2019-09-19 09:37:28.218 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:37:28.225 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:37:28.225 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:37:28.225 +08:00 [DBG] Start token request.
2019-09-19 09:37:28.226 +08:00 [DBG] Start client validation
2019-09-19 09:37:28.226 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 09:37:28.226 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 09:37:28.226 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 09:37:28.226 +08:00 [DBG] Secret id found: passClient
2019-09-19 09:37:28.960 +08:00 [DBG] passClient found in database: true
2019-09-19 09:37:28.960 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 09:37:28.960 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 09:37:28.960 +08:00 [DBG] Client validation success
2019-09-19 09:37:28.961 +08:00 [DBG] Start token request validation
2019-09-19 09:37:28.968 +08:00 [DBG] Start validation of authorization code token request
2019-09-19 09:37:28.968 +08:00 [ERR] Client not authorized for code flow, {"ClientId":"passClient","ClientName":"passClient","GrantType":"authorization_code","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"authorization_code","client_id":"passClient","client_secret":"***REDACTED***","scope":"roles"},"$type":"TokenRequestValidationLog"}
2019-09-19 09:37:31.085 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:37:31.085 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:37:31.085 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:37:31.085 +08:00 [DBG] Start token request.
2019-09-19 09:37:31.085 +08:00 [DBG] Start client validation
2019-09-19 09:37:31.085 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 09:37:31.085 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 09:37:31.086 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 09:37:31.086 +08:00 [DBG] Secret id found: passClient
2019-09-19 09:37:31.794 +08:00 [DBG] passClient found in database: true
2019-09-19 09:37:31.794 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 09:37:31.794 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 09:37:31.794 +08:00 [DBG] Client validation success
2019-09-19 09:37:31.794 +08:00 [DBG] Start token request validation
2019-09-19 09:37:31.794 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 09:37:31.872 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 09:37:31.947 +08:00 [DBG] Found [] API scopes in database
2019-09-19 09:37:31.947 +08:00 [ERR] Requested scope not allowed: roles
2019-09-19 09:37:31.947 +08:00 [ERR] {"ClientId":"passClient","ClientName":"passClient","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***","scope":"roles"},"$type":"TokenRequestValidationLog"}
2019-09-19 09:37:49.533 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:37:49.534 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:37:49.534 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:37:49.534 +08:00 [DBG] Start token request.
2019-09-19 09:37:49.534 +08:00 [DBG] Start client validation
2019-09-19 09:37:49.534 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 09:37:49.534 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 09:37:49.534 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 09:37:49.534 +08:00 [DBG] Secret id found: passClient
2019-09-19 09:37:50.232 +08:00 [DBG] passClient found in database: true
2019-09-19 09:37:50.232 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 09:37:50.232 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 09:37:50.232 +08:00 [DBG] Client validation success
2019-09-19 09:37:50.232 +08:00 [DBG] Start token request validation
2019-09-19 09:37:50.232 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 09:37:50.307 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 09:37:50.382 +08:00 [DBG] Found [] API scopes in database
2019-09-19 09:37:50.382 +08:00 [ERR] Requested scope not allowed: openId
2019-09-19 09:37:50.382 +08:00 [ERR] {"ClientId":"passClient","ClientName":"passClient","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 09:39:04.033 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:39:04.034 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:39:04.034 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:39:04.034 +08:00 [DBG] Start token request.
2019-09-19 09:39:04.034 +08:00 [DBG] Start client validation
2019-09-19 09:39:04.034 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 09:39:04.034 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 09:39:04.034 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 09:39:04.034 +08:00 [DBG] Secret id found: passClient
2019-09-19 09:39:04.740 +08:00 [DBG] passClient found in database: true
2019-09-19 09:39:04.740 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 09:39:04.740 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 09:39:04.740 +08:00 [DBG] Client validation success
2019-09-19 09:39:04.740 +08:00 [DBG] Start token request validation
2019-09-19 09:39:04.740 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 09:39:04.814 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 09:39:04.889 +08:00 [DBG] Found [] API scopes in database
2019-09-19 09:39:04.889 +08:00 [ERR] Requested scope not allowed: roles
2019-09-19 09:39:04.889 +08:00 [ERR] {"ClientId":"passClient","ClientName":"passClient","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***","scope":"roles"},"$type":"TokenRequestValidationLog"}
2019-09-19 09:41:36.014 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:41:36.015 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:41:36.015 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:41:36.015 +08:00 [DBG] Start token request.
2019-09-19 09:41:36.015 +08:00 [DBG] Start client validation
2019-09-19 09:41:36.015 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 09:41:36.015 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 09:41:36.015 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 09:41:36.015 +08:00 [DBG] Secret id found: passClient
2019-09-19 09:41:36.735 +08:00 [DBG] passClient found in database: true
2019-09-19 09:41:36.735 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 09:41:36.735 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 09:41:36.735 +08:00 [DBG] Client validation success
2019-09-19 09:41:36.735 +08:00 [DBG] Start token request validation
2019-09-19 09:41:36.735 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 09:41:36.811 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 09:41:36.887 +08:00 [DBG] Found [] API scopes in database
2019-09-19 09:41:36.887 +08:00 [ERR] Requested scope not allowed: roles
2019-09-19 09:41:36.887 +08:00 [ERR] {"ClientId":"passClient","ClientName":"passClient","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***","scope":"roles"},"$type":"TokenRequestValidationLog"}
2019-09-19 09:41:41.802 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:41:41.803 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:41:41.803 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:41:41.803 +08:00 [DBG] Start token request.
2019-09-19 09:41:41.803 +08:00 [DBG] Start client validation
2019-09-19 09:41:41.803 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 09:41:41.803 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 09:41:41.804 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 09:41:41.804 +08:00 [DBG] Secret id found: passClient
2019-09-19 09:41:42.504 +08:00 [DBG] passClient found in database: true
2019-09-19 09:41:42.505 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 09:41:42.505 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 09:41:42.505 +08:00 [DBG] Client validation success
2019-09-19 09:41:42.505 +08:00 [DBG] Start token request validation
2019-09-19 09:41:42.505 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 09:41:42.580 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 09:41:42.655 +08:00 [DBG] Found [] API scopes in database
2019-09-19 09:41:42.655 +08:00 [ERR] Requested scope not allowed: roles
2019-09-19 09:41:42.655 +08:00 [ERR] {"ClientId":"passClient","ClientName":"passClient","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***","scope":"roles"},"$type":"TokenRequestValidationLog"}
2019-09-19 09:41:45.521 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:41:45.521 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:41:45.521 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:41:45.521 +08:00 [DBG] Start token request.
2019-09-19 09:41:45.522 +08:00 [DBG] Start client validation
2019-09-19 09:41:45.522 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 09:41:45.522 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 09:41:45.522 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 09:41:45.522 +08:00 [DBG] Secret id found: passClient
2019-09-19 09:41:46.225 +08:00 [DBG] passClient found in database: true
2019-09-19 09:41:46.225 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 09:41:46.226 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 09:41:46.226 +08:00 [DBG] Client validation success
2019-09-19 09:41:46.226 +08:00 [DBG] Start token request validation
2019-09-19 09:41:46.226 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 09:41:46.301 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 09:41:46.376 +08:00 [DBG] Found [] API scopes in database
2019-09-19 09:41:46.376 +08:00 [ERR] Requested scope not allowed: roles
2019-09-19 09:41:46.376 +08:00 [ERR] {"ClientId":"passClient","ClientName":"passClient","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***","scope":"roles"},"$type":"TokenRequestValidationLog"}
2019-09-19 09:41:51.314 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:41:51.315 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:41:51.315 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:41:51.315 +08:00 [DBG] Start token request.
2019-09-19 09:41:51.315 +08:00 [DBG] Start client validation
2019-09-19 09:41:51.315 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 09:41:51.315 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 09:41:51.316 +08:00 [DBG] No secret in post body found
2019-09-19 09:41:51.316 +08:00 [DBG] Parser found no secret
2019-09-19 09:41:51.316 +08:00 [ERR] No client identifier found
2019-09-19 09:42:02.402 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:42:02.403 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:42:02.403 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:42:02.403 +08:00 [DBG] Start token request.
2019-09-19 09:42:02.403 +08:00 [DBG] Start client validation
2019-09-19 09:42:02.403 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 09:42:02.403 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 09:42:02.403 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 09:42:02.404 +08:00 [DBG] Secret id found: MyClient
2019-09-19 09:42:03.321 +08:00 [DBG] MyClient found in database: true
2019-09-19 09:42:03.321 +08:00 [ERR] Invalid client configuration for client MyClient: No redirect URI configured.
2019-09-19 09:42:03.322 +08:00 [ERR] No client with id 'MyClient' found. aborting
2019-09-19 09:42:16.918 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:42:16.919 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:42:16.919 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:42:16.920 +08:00 [DBG] Start token request.
2019-09-19 09:42:16.920 +08:00 [DBG] Start client validation
2019-09-19 09:42:16.920 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 09:42:16.920 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 09:42:16.921 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 09:42:16.921 +08:00 [DBG] Secret id found: MyClient
2019-09-19 09:42:17.653 +08:00 [DBG] MyClient found in database: true
2019-09-19 09:42:17.653 +08:00 [ERR] Invalid client configuration for client MyClient: No redirect URI configured.
2019-09-19 09:42:17.653 +08:00 [ERR] No client with id 'MyClient' found. aborting
2019-09-19 09:42:58.504 +08:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-09-19 09:42:58.505 +08:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-09-19 09:42:58.505 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-09-19 09:42:58.509 +08:00 [DBG] Start discovery request
2019-09-19 09:42:59.069 +08:00 [DBG] Found [] as all scopes in database
2019-09-19 09:44:42.357 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:44:42.358 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:44:42.358 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:44:42.358 +08:00 [WRN] Invalid HTTP request for token endpoint
2019-09-19 09:44:54.560 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:44:54.565 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:44:54.565 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:44:54.565 +08:00 [WRN] Invalid HTTP request for token endpoint
2019-09-19 09:45:00.321 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:45:00.323 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:45:00.323 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:45:00.323 +08:00 [WRN] Invalid HTTP request for token endpoint
2019-09-19 09:45:08.469 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:45:08.471 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:45:08.471 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:45:08.471 +08:00 [WRN] Invalid HTTP request for token endpoint
2019-09-19 09:45:38.777 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:45:38.781 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:45:38.782 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:45:38.782 +08:00 [WRN] Invalid HTTP request for token endpoint
2019-09-19 09:45:48.729 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:45:48.731 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:45:48.731 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:45:48.731 +08:00 [WRN] Invalid HTTP request for token endpoint
2019-09-19 09:46:23.376 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:46:23.377 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:46:23.378 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:46:23.379 +08:00 [DBG] Start token request.
2019-09-19 09:46:23.379 +08:00 [DBG] Start client validation
2019-09-19 09:46:23.379 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 09:46:23.379 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 09:46:23.407 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 09:46:23.407 +08:00 [DBG] Secret id found: passClient
2019-09-19 09:46:24.321 +08:00 [DBG] passClient found in database: true
2019-09-19 09:46:24.321 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 09:46:24.321 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 09:46:24.321 +08:00 [DBG] Client validation success
2019-09-19 09:46:24.321 +08:00 [DBG] Start token request validation
2019-09-19 09:46:24.322 +08:00 [ERR] Grant type is missing, {"ClientId":"passClient","ClientName":"passClient","GrantType":null,"Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"password":"***REDACTED***","username":"873","grant_type ":"password","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 09:46:45.058 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:46:45.059 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:46:45.059 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:46:45.059 +08:00 [DBG] Start token request.
2019-09-19 09:46:45.059 +08:00 [DBG] Start client validation
2019-09-19 09:46:45.059 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 09:46:45.059 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 09:46:45.059 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 09:46:45.059 +08:00 [DBG] Secret id found: passClient
2019-09-19 09:46:45.798 +08:00 [DBG] passClient found in database: true
2019-09-19 09:46:45.798 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 09:46:45.798 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 09:46:45.798 +08:00 [DBG] Client validation success
2019-09-19 09:46:45.798 +08:00 [DBG] Start token request validation
2019-09-19 09:46:45.798 +08:00 [ERR] Grant type is missing, {"ClientId":"passClient","ClientName":"passClient","GrantType":null,"Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"password":"***REDACTED***","username":"873","grant_type ":"password","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 09:50:43.101 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:50:43.102 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:50:43.102 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:50:43.102 +08:00 [DBG] Start token request.
2019-09-19 09:50:43.102 +08:00 [DBG] Start client validation
2019-09-19 09:50:43.102 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 09:50:43.102 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 09:50:43.104 +08:00 [DBG] client id without secret found
2019-09-19 09:50:43.104 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 09:50:43.104 +08:00 [DBG] Secret id found: passClient
2019-09-19 09:50:43.972 +08:00 [DBG] passClient found in database: true
2019-09-19 09:50:43.972 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 09:50:43.974 +08:00 [DBG] Hashed shared secret validator cannot process NoSecret
2019-09-19 09:50:43.974 +08:00 [DBG] Secret validators could not validate secret
2019-09-19 09:50:43.974 +08:00 [ERR] Client secret validation failed for client: passClient.
2019-09-19 09:52:41.352 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:52:41.357 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:52:41.357 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:52:41.357 +08:00 [DBG] Start token request.
2019-09-19 09:52:41.357 +08:00 [DBG] Start client validation
2019-09-19 09:52:41.357 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 09:52:41.357 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 09:52:41.367 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 09:52:41.367 +08:00 [DBG] Secret id found: passClient
2019-09-19 09:52:42.074 +08:00 [DBG] passClient found in database: true
2019-09-19 09:52:42.074 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 09:52:42.074 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 09:52:42.074 +08:00 [DBG] Client validation success
2019-09-19 09:52:42.074 +08:00 [DBG] Start token request validation
2019-09-19 09:52:42.075 +08:00 [ERR] Grant type is missing, {"ClientId":"passClient","ClientName":"passClient","GrantType":null,"Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"password":"***REDACTED***","username":"873","grant_type ":"password","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 09:53:00.351 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:53:00.353 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:53:00.353 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:53:00.354 +08:00 [DBG] Start token request.
2019-09-19 09:53:00.354 +08:00 [DBG] Start client validation
2019-09-19 09:53:00.354 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 09:53:00.354 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 09:53:00.355 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 09:53:00.355 +08:00 [DBG] Secret id found: passClient
2019-09-19 09:53:01.058 +08:00 [DBG] passClient found in database: true
2019-09-19 09:53:01.058 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 09:53:01.058 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 09:53:01.058 +08:00 [DBG] Client validation success
2019-09-19 09:53:01.058 +08:00 [DBG] Start token request validation
2019-09-19 09:53:01.058 +08:00 [ERR] Grant type is missing, {"ClientId":"passClient","ClientName":"passClient","GrantType":null,"Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"password":"***REDACTED***","username":"873","grant_type ":"password","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 09:53:14.110 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:53:14.111 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:53:14.111 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:53:14.111 +08:00 [DBG] Start token request.
2019-09-19 09:53:14.111 +08:00 [DBG] Start client validation
2019-09-19 09:53:14.111 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 09:53:14.111 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 09:53:14.120 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 09:53:14.120 +08:00 [DBG] Secret id found: passClient
2019-09-19 09:53:14.877 +08:00 [DBG] passClient found in database: true
2019-09-19 09:53:14.878 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 09:53:14.878 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 09:53:14.878 +08:00 [DBG] Client validation success
2019-09-19 09:53:14.878 +08:00 [DBG] Start token request validation
2019-09-19 09:53:14.878 +08:00 [ERR] Grant type is missing, {"ClientId":"passClient","ClientName":"passClient","GrantType":null,"Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"password":"***REDACTED***","username":"873","grant_type ":"authorization_code","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 09:53:35.920 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:53:35.921 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:53:35.921 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:53:35.921 +08:00 [DBG] Start token request.
2019-09-19 09:53:35.921 +08:00 [DBG] Start client validation
2019-09-19 09:53:35.921 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 09:53:35.921 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 09:53:35.921 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 09:53:35.921 +08:00 [DBG] Secret id found: passClient
2019-09-19 09:53:36.638 +08:00 [DBG] passClient found in database: true
2019-09-19 09:53:36.638 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 09:53:36.638 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 09:53:36.638 +08:00 [DBG] Client validation success
2019-09-19 09:53:36.639 +08:00 [DBG] Start token request validation
2019-09-19 09:53:36.639 +08:00 [ERR] Grant type is missing, {"ClientId":"passClient","ClientName":"passClient","GrantType":null,"Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"password":"***REDACTED***","username":"873","grant_type ":"password","client_id":"passClient","client_secret":"***REDACTED***","scope":"roles"},"$type":"TokenRequestValidationLog"}
2019-09-19 09:54:29.609 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:54:29.610 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:54:29.610 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:54:29.610 +08:00 [DBG] Start token request.
2019-09-19 09:54:29.610 +08:00 [DBG] Start client validation
2019-09-19 09:54:29.610 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 09:54:29.610 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 09:54:29.611 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 09:54:29.611 +08:00 [DBG] Secret id found: passClient
2019-09-19 09:54:30.302 +08:00 [DBG] passClient found in database: true
2019-09-19 09:54:30.302 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 09:54:30.303 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 09:54:30.303 +08:00 [DBG] Client validation success
2019-09-19 09:54:30.303 +08:00 [DBG] Start token request validation
2019-09-19 09:54:30.303 +08:00 [ERR] Grant type is missing, {"ClientId":"passClient","ClientName":"passClient","GrantType":null,"Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"password":"***REDACTED***","username":"873","grant_type ":"password","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 09:54:38.079 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:54:38.082 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:54:38.082 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:54:38.082 +08:00 [DBG] Start token request.
2019-09-19 09:54:38.082 +08:00 [DBG] Start client validation
2019-09-19 09:54:38.082 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 09:54:38.083 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 09:54:38.083 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 09:54:38.083 +08:00 [DBG] Secret id found: MyClient
2019-09-19 09:54:38.776 +08:00 [DBG] MyClient found in database: true
2019-09-19 09:54:38.776 +08:00 [ERR] Invalid client configuration for client MyClient: No redirect URI configured.
2019-09-19 09:54:38.777 +08:00 [ERR] No client with id 'MyClient' found. aborting
2019-09-19 09:54:47.046 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:54:47.048 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:54:47.048 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:54:47.048 +08:00 [DBG] Start token request.
2019-09-19 09:54:47.048 +08:00 [DBG] Start client validation
2019-09-19 09:54:47.048 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 09:54:47.048 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 09:54:47.048 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 09:54:47.049 +08:00 [DBG] Secret id found: MyClient
2019-09-19 09:54:47.747 +08:00 [DBG] MyClient found in database: true
2019-09-19 09:54:47.747 +08:00 [ERR] Invalid client configuration for client MyClient: No redirect URI configured.
2019-09-19 09:54:47.747 +08:00 [ERR] No client with id 'MyClient' found. aborting
2019-09-19 09:54:58.498 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:54:58.499 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:54:58.499 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:54:58.499 +08:00 [DBG] Start token request.
2019-09-19 09:54:58.499 +08:00 [DBG] Start client validation
2019-09-19 09:54:58.499 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 09:54:58.499 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 09:54:58.505 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 09:54:58.505 +08:00 [DBG] Secret id found: MyClient
2019-09-19 09:54:59.205 +08:00 [DBG] MyClient found in database: true
2019-09-19 09:54:59.205 +08:00 [ERR] Invalid client configuration for client MyClient: No redirect URI configured.
2019-09-19 09:54:59.205 +08:00 [ERR] No client with id 'MyClient' found. aborting
2019-09-19 09:55:12.376 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:55:12.377 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:55:12.377 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:55:12.377 +08:00 [WRN] Invalid HTTP request for token endpoint
2019-09-19 09:55:15.189 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:55:15.191 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:55:15.191 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:55:15.191 +08:00 [DBG] Start token request.
2019-09-19 09:55:15.191 +08:00 [DBG] Start client validation
2019-09-19 09:55:15.191 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 09:55:15.191 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 09:55:15.193 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 09:55:15.193 +08:00 [DBG] Secret id found: MyClient
2019-09-19 09:55:15.899 +08:00 [DBG] MyClient found in database: true
2019-09-19 09:55:15.899 +08:00 [ERR] Invalid client configuration for client MyClient: No redirect URI configured.
2019-09-19 09:55:15.899 +08:00 [ERR] No client with id 'MyClient' found. aborting
2019-09-19 09:55:19.701 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:55:19.703 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:55:19.708 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:55:19.708 +08:00 [DBG] Start token request.
2019-09-19 09:55:19.709 +08:00 [DBG] Start client validation
2019-09-19 09:55:19.709 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 09:55:19.709 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 09:55:19.709 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 09:55:19.709 +08:00 [DBG] Secret id found: passClient
2019-09-19 09:55:20.411 +08:00 [DBG] passClient found in database: true
2019-09-19 09:55:20.411 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 09:55:20.411 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 09:55:20.411 +08:00 [DBG] Client validation success
2019-09-19 09:55:20.411 +08:00 [DBG] Start token request validation
2019-09-19 09:55:20.411 +08:00 [ERR] Grant type is missing, {"ClientId":"passClient","ClientName":"passClient","GrantType":null,"Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"password":"***REDACTED***","username":"873","grant_type ":"password","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 09:55:44.122 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:55:44.122 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:55:44.123 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:55:44.123 +08:00 [DBG] Start token request.
2019-09-19 09:55:44.123 +08:00 [DBG] Start client validation
2019-09-19 09:55:44.123 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 09:55:44.123 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 09:55:44.123 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 09:55:44.123 +08:00 [DBG] Secret id found: MyClient
2019-09-19 09:55:44.917 +08:00 [DBG] MyClient found in database: true
2019-09-19 09:55:44.917 +08:00 [ERR] Invalid client configuration for client MyClient: No redirect URI configured.
2019-09-19 09:55:44.917 +08:00 [ERR] No client with id 'MyClient' found. aborting
2019-09-19 09:55:56.235 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:55:56.237 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:55:56.237 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:55:56.237 +08:00 [DBG] Start token request.
2019-09-19 09:55:56.237 +08:00 [DBG] Start client validation
2019-09-19 09:55:56.237 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 09:55:56.237 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 09:55:56.238 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 09:55:56.238 +08:00 [DBG] Secret id found: passClient
2019-09-19 09:55:56.952 +08:00 [DBG] passClient found in database: true
2019-09-19 09:55:56.952 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 09:55:56.952 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 09:55:56.952 +08:00 [DBG] Client validation success
2019-09-19 09:55:56.952 +08:00 [DBG] Start token request validation
2019-09-19 09:55:56.952 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 09:55:57.032 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 09:55:57.109 +08:00 [DBG] Found [] API scopes in database
2019-09-19 09:55:57.109 +08:00 [ERR] Requested scope not allowed: roles
2019-09-19 09:55:57.109 +08:00 [ERR] {"ClientId":"passClient","ClientName":"passClient","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 09:56:08.776 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:56:08.776 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:56:08.777 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:56:08.777 +08:00 [DBG] Start token request.
2019-09-19 09:56:08.777 +08:00 [DBG] Start client validation
2019-09-19 09:56:08.778 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 09:56:08.779 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 09:56:08.781 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 09:56:08.781 +08:00 [DBG] Secret id found: passClient
2019-09-19 09:56:09.495 +08:00 [DBG] passClient found in database: true
2019-09-19 09:56:09.495 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 09:56:09.495 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 09:56:09.495 +08:00 [DBG] Client validation success
2019-09-19 09:56:09.495 +08:00 [DBG] Start token request validation
2019-09-19 09:56:09.495 +08:00 [ERR] Grant type is missing, {"ClientId":"passClient","ClientName":"passClient","GrantType":null,"Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type ":"password","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 09:56:17.471 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:56:17.472 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:56:17.472 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:56:17.472 +08:00 [DBG] Start token request.
2019-09-19 09:56:17.472 +08:00 [DBG] Start client validation
2019-09-19 09:56:17.472 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 09:56:17.472 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 09:56:17.472 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 09:56:17.472 +08:00 [DBG] Secret id found: passClient
2019-09-19 09:56:18.183 +08:00 [DBG] passClient found in database: true
2019-09-19 09:56:18.183 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 09:56:18.183 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 09:56:18.183 +08:00 [DBG] Client validation success
2019-09-19 09:56:18.183 +08:00 [DBG] Start token request validation
2019-09-19 09:56:18.184 +08:00 [ERR] Grant type is missing, {"ClientId":"passClient","ClientName":"passClient","GrantType":null,"Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type ":"password","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 09:56:31.169 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:56:31.169 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:56:31.170 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:56:31.170 +08:00 [DBG] Start token request.
2019-09-19 09:56:31.170 +08:00 [DBG] Start client validation
2019-09-19 09:56:31.170 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 09:56:31.170 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 09:56:31.170 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 09:56:31.171 +08:00 [DBG] Secret id found: passClient
2019-09-19 09:56:31.941 +08:00 [DBG] passClient found in database: true
2019-09-19 09:56:31.941 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 09:56:31.942 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 09:56:31.942 +08:00 [DBG] Client validation success
2019-09-19 09:56:31.942 +08:00 [DBG] Start token request validation
2019-09-19 09:56:31.943 +08:00 [ERR] Grant type is missing, {"ClientId":"passClient","ClientName":"passClient","GrantType":null,"Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type ":"password","client_id":"passClient","client_secret":"***REDACTED***","scope":"roles"},"$type":"TokenRequestValidationLog"}
2019-09-19 09:56:38.212 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:56:38.215 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:56:38.216 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:56:38.216 +08:00 [DBG] Start token request.
2019-09-19 09:56:38.216 +08:00 [DBG] Start client validation
2019-09-19 09:56:38.216 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 09:56:38.216 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 09:56:38.218 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 09:56:38.218 +08:00 [DBG] Secret id found: passClient
2019-09-19 09:56:38.946 +08:00 [DBG] passClient found in database: true
2019-09-19 09:56:38.946 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 09:56:38.946 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 09:56:38.946 +08:00 [DBG] Client validation success
2019-09-19 09:56:38.946 +08:00 [DBG] Start token request validation
2019-09-19 09:56:38.946 +08:00 [ERR] Grant type is missing, {"ClientId":"passClient","ClientName":"passClient","GrantType":null,"Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type ":"password","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 09:56:41.167 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:56:41.168 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:56:41.168 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:56:41.168 +08:00 [DBG] Start token request.
2019-09-19 09:56:41.168 +08:00 [DBG] Start client validation
2019-09-19 09:56:41.168 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 09:56:41.168 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 09:56:41.168 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 09:56:41.168 +08:00 [DBG] Secret id found: passClient
2019-09-19 09:56:41.904 +08:00 [DBG] passClient found in database: true
2019-09-19 09:56:41.904 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 09:56:41.904 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 09:56:41.904 +08:00 [DBG] Client validation success
2019-09-19 09:56:41.904 +08:00 [DBG] Start token request validation
2019-09-19 09:56:41.904 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 09:56:41.986 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 09:56:42.061 +08:00 [DBG] Found [] API scopes in database
2019-09-19 09:56:42.062 +08:00 [ERR] Requested scope not allowed: roles
2019-09-19 09:56:42.062 +08:00 [ERR] {"ClientId":"passClient","ClientName":"passClient","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 09:57:12.803 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 09:57:13.145 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 09:57:13.145 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 09:57:13.145 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 09:57:13.145 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 09:57:13.145 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 09:57:13.145 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 09:57:13.611 +08:00 [DBG] Starting grant removal
2019-09-19 09:57:13.838 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 09:57:13.839 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 09:57:13.839 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 09:57:13.839 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 09:57:13.839 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 09:57:13.839 +08:00 [DBG] Error Url: /home/error
2019-09-19 09:57:13.840 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 09:57:24.335 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 09:57:24.675 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 09:57:24.676 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 09:57:24.676 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 09:57:24.676 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 09:57:24.677 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 09:57:24.677 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 09:57:25.127 +08:00 [DBG] Starting grant removal
2019-09-19 09:57:30.534 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 09:57:30.536 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 09:57:30.537 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 09:57:30.537 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 09:57:30.538 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 09:57:30.538 +08:00 [DBG] Error Url: /home/error
2019-09-19 09:57:30.538 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 09:57:30.567 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:57:30.589 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:57:30.591 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:57:30.602 +08:00 [DBG] Start token request.
2019-09-19 09:57:30.608 +08:00 [DBG] Start client validation
2019-09-19 09:57:30.618 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 09:57:30.626 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 09:57:30.685 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 09:57:30.686 +08:00 [DBG] Secret id found: passClient
2019-09-19 09:57:32.888 +08:00 [DBG] passClient found in database: true
2019-09-19 09:57:32.901 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 09:57:32.911 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 09:57:32.912 +08:00 [DBG] Client validation success
2019-09-19 09:57:32.926 +08:00 [DBG] Start token request validation
2019-09-19 09:57:32.939 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 09:57:33.062 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 09:57:33.208 +08:00 [DBG] Found [] API scopes in database
2019-09-19 09:57:33.216 +08:00 [ERR] Requested scope not allowed: roles
2019-09-19 09:57:33.226 +08:00 [ERR] {"ClientId":"passClient","ClientName":"passClient","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 09:58:02.322 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:58:02.324 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:58:02.325 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:58:02.326 +08:00 [DBG] Start token request.
2019-09-19 09:58:02.326 +08:00 [DBG] Start client validation
2019-09-19 09:58:02.327 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 09:58:02.327 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 09:58:02.329 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 09:58:02.330 +08:00 [DBG] Secret id found: passClient
2019-09-19 09:58:03.048 +08:00 [DBG] passClient found in database: true
2019-09-19 09:58:03.049 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 09:58:03.051 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 09:58:03.051 +08:00 [DBG] Client validation success
2019-09-19 09:58:03.051 +08:00 [DBG] Start token request validation
2019-09-19 09:58:03.052 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 09:58:03.127 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 09:58:03.207 +08:00 [DBG] Found [] API scopes in database
2019-09-19 09:58:03.208 +08:00 [ERR] Requested scope not allowed: roles
2019-09-19 09:58:03.209 +08:00 [ERR] {"ClientId":"passClient","ClientName":"passClient","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***","scope":"roles"},"$type":"TokenRequestValidationLog"}
2019-09-19 09:58:10.287 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:58:10.288 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:58:10.288 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:58:10.290 +08:00 [DBG] Start token request.
2019-09-19 09:58:10.291 +08:00 [DBG] Start client validation
2019-09-19 09:58:10.292 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 09:58:10.292 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 09:58:10.293 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 09:58:10.293 +08:00 [DBG] Secret id found: passClient
2019-09-19 09:58:11.361 +08:00 [DBG] passClient found in database: true
2019-09-19 09:58:11.361 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 09:58:11.364 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 09:58:11.365 +08:00 [DBG] Client validation success
2019-09-19 09:58:11.365 +08:00 [DBG] Start token request validation
2019-09-19 09:58:11.366 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 09:58:11.673 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 09:58:11.749 +08:00 [DBG] Found [] API scopes in database
2019-09-19 09:58:11.750 +08:00 [ERR] Requested scope not allowed: roles
2019-09-19 09:58:11.750 +08:00 [ERR] {"ClientId":"passClient","ClientName":"passClient","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***","scope":"roles"},"$type":"TokenRequestValidationLog"}
2019-09-19 09:58:19.299 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:58:19.301 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:58:19.302 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:58:19.303 +08:00 [DBG] Start token request.
2019-09-19 09:58:19.303 +08:00 [DBG] Start client validation
2019-09-19 09:58:19.304 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 09:58:19.304 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 09:58:19.305 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 09:58:19.305 +08:00 [DBG] Secret id found: passClient
2019-09-19 09:58:20.126 +08:00 [DBG] passClient found in database: true
2019-09-19 09:58:20.126 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 09:58:20.129 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 09:58:20.129 +08:00 [DBG] Client validation success
2019-09-19 09:58:20.130 +08:00 [DBG] Start token request validation
2019-09-19 09:58:20.130 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 09:58:20.206 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 09:58:20.306 +08:00 [DBG] Found [] API scopes in database
2019-09-19 09:58:20.307 +08:00 [ERR] Requested scope not allowed: roles
2019-09-19 09:58:20.309 +08:00 [ERR] {"ClientId":"passClient","ClientName":"passClient","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***","scopes":"roles"},"$type":"TokenRequestValidationLog"}
2019-09-19 09:58:39.704 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:58:39.705 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 09:58:39.706 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 09:58:39.706 +08:00 [DBG] Start token request.
2019-09-19 09:58:39.707 +08:00 [DBG] Start client validation
2019-09-19 09:58:39.707 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 09:58:39.708 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 09:58:39.708 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 09:58:39.709 +08:00 [DBG] Secret id found: passClient
2019-09-19 09:58:40.457 +08:00 [DBG] passClient found in database: true
2019-09-19 09:58:40.457 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 09:58:40.459 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 09:58:40.459 +08:00 [DBG] Client validation success
2019-09-19 09:58:40.460 +08:00 [DBG] Start token request validation
2019-09-19 09:58:40.460 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 09:58:40.542 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 09:58:40.620 +08:00 [DBG] Found [] API scopes in database
2019-09-19 09:58:40.624 +08:00 [ERR] Requested scope not allowed: roles
2019-09-19 09:58:40.625 +08:00 [ERR] {"ClientId":"passClient","ClientName":"passClient","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***","scopes":"roles1"},"$type":"TokenRequestValidationLog"}
2019-09-19 09:59:03.302 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 09:59:18.403 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:03:40.803 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 10:03:41.160 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 10:03:41.161 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 10:03:41.162 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 10:03:41.162 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 10:03:41.162 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 10:03:41.163 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 10:03:41.616 +08:00 [DBG] Starting grant removal
2019-09-19 10:03:49.211 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 10:03:49.214 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 10:03:49.215 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 10:03:49.216 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 10:03:49.216 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 10:03:49.216 +08:00 [DBG] Error Url: /home/error
2019-09-19 10:03:49.217 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 10:04:08.128 +08:00 [ERR] Failed executing DbCommand (341ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 1000), @p2='?' (Size = 200), @p3='?' (DbType = Boolean), @p4='?' (Size = 200), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ApiScopes` (`ApiResourceId`, `Description`, `DisplayName`, `Emphasize`, `Name`, `Required`, `ShowInDiscoveryDocument`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `Id`
FROM `ApiScopes`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
MySql.Data.MySqlClient.MySqlException (0x80004005): Column 'Name' cannot be null ---> MySql.Data.MySqlClient.MySqlException (0x80004005): Column 'Name' cannot be null
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ResultSet.cs:line 43
   at MySql.Data.MySqlClient.MySqlDataReader.ActivateResultSet(ResultSet resultSet) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 81
   at MySql.Data.MySqlClient.MySqlDataReader.ReadFirstResultSetAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 307
   at MySql.Data.MySqlClient.MySqlDataReader.CreateAsync(MySqlCommand command, CommandBehavior behavior, ResultSetProtocol resultSetProtocol, IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 292
   at MySqlConnector.Core.TextCommandExecutor.ExecuteReaderAsync(String commandText, MySqlParameterCollection parameterCollection, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\Core\TextCommandExecutor.cs:line 37
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlCommand.cs:line 267
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
2019-09-19 10:04:08.396 +08:00 [ERR] An exception occurred in the database while saving changes for context type 'IdentityServer4.EntityFramework.DbContexts.ConfigurationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> MySql.Data.MySqlClient.MySqlException: Column 'Name' cannot be null ---> MySql.Data.MySqlClient.MySqlException: Column 'Name' cannot be null
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ResultSet.cs:line 43
   --- End of inner exception stack trace ---
   at MySql.Data.MySqlClient.MySqlDataReader.ActivateResultSet(ResultSet resultSet) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 81
   at MySql.Data.MySqlClient.MySqlDataReader.ReadFirstResultSetAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 307
   at MySql.Data.MySqlClient.MySqlDataReader.CreateAsync(MySqlCommand command, CommandBehavior behavior, ResultSetProtocol resultSetProtocol, IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 292
   at MySqlConnector.Core.TextCommandExecutor.ExecuteReaderAsync(String commandText, MySqlParameterCollection parameterCollection, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\Core\TextCommandExecutor.cs:line 37
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlCommand.cs:line 267
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> MySql.Data.MySqlClient.MySqlException: Column 'Name' cannot be null ---> MySql.Data.MySqlClient.MySqlException: Column 'Name' cannot be null
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ResultSet.cs:line 43
   --- End of inner exception stack trace ---
   at MySql.Data.MySqlClient.MySqlDataReader.ActivateResultSet(ResultSet resultSet) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 81
   at MySql.Data.MySqlClient.MySqlDataReader.ReadFirstResultSetAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 307
   at MySql.Data.MySqlClient.MySqlDataReader.CreateAsync(MySqlCommand command, CommandBehavior behavior, ResultSetProtocol resultSetProtocol, IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 292
   at MySqlConnector.Core.TextCommandExecutor.ExecuteReaderAsync(String commandText, MySqlParameterCollection parameterCollection, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\Core\TextCommandExecutor.cs:line 37
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlCommand.cs:line 267
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2019-09-19 10:04:11.213 +08:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> MySql.Data.MySqlClient.MySqlException: Column 'Name' cannot be null ---> MySql.Data.MySqlClient.MySqlException: Column 'Name' cannot be null
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ResultSet.cs:line 43
   --- End of inner exception stack trace ---
   at MySql.Data.MySqlClient.MySqlDataReader.ActivateResultSet(ResultSet resultSet) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 81
   at MySql.Data.MySqlClient.MySqlDataReader.ReadFirstResultSetAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 307
   at MySql.Data.MySqlClient.MySqlDataReader.CreateAsync(MySqlCommand command, CommandBehavior behavior, ResultSetProtocol resultSetProtocol, IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 292
   at MySqlConnector.Core.TextCommandExecutor.ExecuteReaderAsync(String commandText, MySqlParameterCollection parameterCollection, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\Core\TextCommandExecutor.cs:line 37
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlCommand.cs:line 267
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at LBDIdentityServer4.Quickstart.ConfigurationManage.ApiResource.ApiResourceController.Index() in E:\MyNetCore\LBDIdentityServer4\Quickstart\ConfigurationManage\ApiResource\ApiResourceController.cs:line 36
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 10:04:43.153 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 10:04:43.491 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 10:04:43.492 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 10:04:43.492 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 10:04:43.492 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 10:04:43.493 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 10:04:43.493 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 10:04:43.955 +08:00 [DBG] Starting grant removal
2019-09-19 10:04:59.038 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 10:04:59.039 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 10:04:59.042 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 10:04:59.043 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 10:04:59.043 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 10:04:59.044 +08:00 [DBG] Error Url: /home/error
2019-09-19 10:04:59.044 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 10:05:04.297 +08:00 [ERR] The view 'Index' was not found. Searched locations: ["/Views/ApiResource/Index.cshtml","/Views/Shared/Index.cshtml","/Pages/Shared/Index.cshtml"]
2019-09-19 10:05:04.782 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'Index' was not found. The following locations were searched:
/Views/ApiResource/Index.cshtml
/Views/Shared/Index.cshtml
/Pages/Shared/Index.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 10:05:30.563 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:05:30.593 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:05:30.597 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:05:30.604 +08:00 [DBG] Start token request.
2019-09-19 10:05:30.611 +08:00 [DBG] Start client validation
2019-09-19 10:05:30.618 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:05:30.622 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:05:30.649 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:05:30.649 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:05:31.948 +08:00 [DBG] passClient found in database: true
2019-09-19 10:05:31.957 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:05:31.968 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:05:31.969 +08:00 [DBG] Client validation success
2019-09-19 10:05:31.981 +08:00 [DBG] Start token request validation
2019-09-19 10:05:31.993 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 10:05:32.107 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 10:05:32.594 +08:00 [DBG] Found ["roles"] API scopes in database
2019-09-19 10:05:32.678 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 10:05:33.009 +08:00 [DBG] Found ["roles"] API scopes in database
2019-09-19 10:05:33.216 +08:00 [FTL] Unhandled exception: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 10:05:33.363 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 10:05:46.115 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:05:46.119 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:05:46.123 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:05:46.124 +08:00 [DBG] Start token request.
2019-09-19 10:05:46.124 +08:00 [DBG] Start client validation
2019-09-19 10:05:46.130 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:05:46.132 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:05:46.140 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:05:46.141 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:05:46.772 +08:00 [DBG] passClient found in database: true
2019-09-19 10:05:46.772 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:05:46.775 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:05:46.775 +08:00 [DBG] Client validation success
2019-09-19 10:05:46.776 +08:00 [DBG] Start token request validation
2019-09-19 10:05:46.776 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 10:05:46.844 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 10:05:47.165 +08:00 [DBG] Found ["roles"] API scopes in database
2019-09-19 10:05:47.235 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 10:05:47.556 +08:00 [DBG] Found ["roles"] API scopes in database
2019-09-19 10:05:47.736 +08:00 [FTL] Unhandled exception: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 10:05:47.881 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 10:06:34.753 +08:00 [DBG] TaskCanceledException. Exiting.
2019-09-19 10:06:35.000 +08:00 [DBG] Stopping grant removal
2019-09-19 10:06:48.619 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 10:06:49.020 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 10:06:49.020 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 10:06:49.020 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 10:06:49.020 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 10:06:49.020 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 10:06:49.020 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 10:06:49.502 +08:00 [DBG] Starting grant removal
2019-09-19 10:06:49.920 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 10:06:49.921 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 10:06:49.922 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 10:06:49.922 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 10:06:49.922 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 10:06:49.922 +08:00 [DBG] Error Url: /home/error
2019-09-19 10:06:49.922 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 10:07:19.355 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:07:19.375 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:07:19.375 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:07:19.383 +08:00 [DBG] Start token request.
2019-09-19 10:07:19.390 +08:00 [DBG] Start client validation
2019-09-19 10:07:19.396 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:07:19.400 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:07:19.431 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:07:19.431 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:07:21.605 +08:00 [DBG] passClient found in database: true
2019-09-19 10:07:21.616 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:07:21.625 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:07:21.625 +08:00 [DBG] Client validation success
2019-09-19 10:07:21.633 +08:00 [DBG] Start token request validation
2019-09-19 10:07:21.644 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 10:07:21.766 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 10:07:22.241 +08:00 [DBG] Found ["roles"] API scopes in database
2019-09-19 10:07:22.340 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 10:07:22.687 +08:00 [DBG] Found ["roles"] API scopes in database
2019-09-19 10:07:22.941 +08:00 [FTL] Unhandled exception: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 10:07:23.083 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 10:08:05.327 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:08:05.327 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:08:05.327 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:08:05.327 +08:00 [DBG] Start token request.
2019-09-19 10:08:05.328 +08:00 [DBG] Start client validation
2019-09-19 10:08:05.328 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:08:05.328 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:08:05.329 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:08:05.329 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:08:06.045 +08:00 [DBG] passClient found in database: true
2019-09-19 10:08:06.045 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:08:06.046 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:08:06.046 +08:00 [DBG] Client validation success
2019-09-19 10:08:06.046 +08:00 [DBG] Start token request validation
2019-09-19 10:08:06.046 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 10:08:06.119 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 10:08:06.463 +08:00 [DBG] Found ["roles"] API scopes in database
2019-09-19 10:08:06.536 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 10:08:06.883 +08:00 [DBG] Found ["roles"] API scopes in database
2019-09-19 10:08:07.064 +08:00 [FTL] Unhandled exception: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 10:08:07.206 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 10:08:17.558 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:08:17.558 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:08:17.558 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:08:17.558 +08:00 [DBG] Start token request.
2019-09-19 10:08:17.558 +08:00 [DBG] Start client validation
2019-09-19 10:08:17.558 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:08:17.559 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:08:17.559 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:08:17.559 +08:00 [DBG] Secret id found: MyClient
2019-09-19 10:08:18.267 +08:00 [DBG] MyClient found in database: true
2019-09-19 10:08:18.267 +08:00 [ERR] Invalid client configuration for client MyClient: No redirect URI configured.
2019-09-19 10:08:18.268 +08:00 [ERR] No client with id 'MyClient' found. aborting
2019-09-19 10:08:24.524 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:08:24.525 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:08:24.526 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:08:24.526 +08:00 [DBG] Start token request.
2019-09-19 10:08:24.526 +08:00 [DBG] Start client validation
2019-09-19 10:08:24.526 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:08:24.526 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:08:24.527 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:08:24.527 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:08:25.215 +08:00 [DBG] passClient found in database: true
2019-09-19 10:08:25.215 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:08:25.215 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:08:25.215 +08:00 [DBG] Client validation success
2019-09-19 10:08:25.215 +08:00 [DBG] Start token request validation
2019-09-19 10:08:25.215 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 10:08:25.291 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 10:08:25.648 +08:00 [DBG] Found ["roles"] API scopes in database
2019-09-19 10:08:25.722 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 10:08:26.070 +08:00 [DBG] Found ["roles"] API scopes in database
2019-09-19 10:08:26.280 +08:00 [FTL] Unhandled exception: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 10:08:26.426 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 10:12:34.358 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 10:12:34.725 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 10:12:34.725 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 10:12:34.725 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 10:12:34.725 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 10:12:34.725 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 10:12:34.725 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 10:12:35.172 +08:00 [DBG] Starting grant removal
2019-09-19 10:12:35.572 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 10:12:35.575 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 10:12:35.575 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 10:12:35.575 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 10:12:35.575 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 10:12:35.575 +08:00 [DBG] Error Url: /home/error
2019-09-19 10:12:35.575 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 10:12:45.485 +08:00 [ERR] The view 'Index' was not found. Searched locations: ["/Views/ApiResource/Index.cshtml","/Views/Shared/Index.cshtml","/Pages/Shared/Index.cshtml"]
2019-09-19 10:12:46.004 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'Index' was not found. The following locations were searched:
/Views/ApiResource/Index.cshtml
/Views/Shared/Index.cshtml
/Pages/Shared/Index.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 10:12:51.283 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:12:51.312 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:12:51.312 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:12:51.320 +08:00 [DBG] Start token request.
2019-09-19 10:12:51.327 +08:00 [DBG] Start client validation
2019-09-19 10:12:51.332 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:12:51.335 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:12:51.360 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:12:51.360 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:12:52.469 +08:00 [DBG] passClient found in database: true
2019-09-19 10:12:52.477 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:12:52.487 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:12:52.488 +08:00 [DBG] Client validation success
2019-09-19 10:12:52.497 +08:00 [DBG] Start token request validation
2019-09-19 10:12:52.509 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 10:12:52.731 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 10:12:53.168 +08:00 [DBG] Found ["roles"] API scopes in database
2019-09-19 10:12:53.505 +08:00 [FTL] Unhandled exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: roles
System.Exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: roles
   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 58
   at IdentityServer4.Stores.IResourceStoreExtensions.FindResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 31
   at IdentityServer4.Stores.IResourceStoreExtensions.FindEnabledResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 95
   at IdentityServer4.Validation.ScopeValidator.AreScopesAllowedAsync(Client client, IEnumerable`1 requestedScopes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\ScopeValidator.cs:line 220
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestedScopesAsync(NameValueCollection parameters, Boolean ignoreImplicitIdentityScopes, Boolean ignoreImplicitOfflineAccess) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 679
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 378
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 10:12:53.635 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: roles
   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 58
   at IdentityServer4.Stores.IResourceStoreExtensions.FindResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 31
   at IdentityServer4.Stores.IResourceStoreExtensions.FindEnabledResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 95
   at IdentityServer4.Validation.ScopeValidator.AreScopesAllowedAsync(Client client, IEnumerable`1 requestedScopes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\ScopeValidator.cs:line 220
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestedScopesAsync(NameValueCollection parameters, Boolean ignoreImplicitIdentityScopes, Boolean ignoreImplicitOfflineAccess) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 679
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 378
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 10:12:59.189 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:12:59.190 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:12:59.190 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:12:59.190 +08:00 [DBG] Start token request.
2019-09-19 10:12:59.190 +08:00 [DBG] Start client validation
2019-09-19 10:12:59.190 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:12:59.190 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:12:59.191 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:12:59.191 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:12:59.880 +08:00 [DBG] passClient found in database: true
2019-09-19 10:12:59.881 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:12:59.881 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:12:59.881 +08:00 [DBG] Client validation success
2019-09-19 10:12:59.881 +08:00 [DBG] Start token request validation
2019-09-19 10:12:59.891 +08:00 [ERR] Grant type is missing, {"ClientId":"passClient","ClientName":"passClient","GrantType":null,"Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 10:13:02.357 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:13:02.358 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:13:02.358 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:13:02.359 +08:00 [DBG] Start token request.
2019-09-19 10:13:02.359 +08:00 [DBG] Start client validation
2019-09-19 10:13:02.359 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:13:02.359 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:13:02.390 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:13:02.391 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:13:03.067 +08:00 [DBG] passClient found in database: true
2019-09-19 10:13:03.067 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:13:03.067 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:13:03.068 +08:00 [DBG] Client validation success
2019-09-19 10:13:03.069 +08:00 [DBG] Start token request validation
2019-09-19 10:13:03.069 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 10:13:03.285 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 10:13:03.640 +08:00 [DBG] Found ["roles"] API scopes in database
2019-09-19 10:13:03.915 +08:00 [FTL] Unhandled exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: roles
System.Exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: roles
   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 58
   at IdentityServer4.Stores.IResourceStoreExtensions.FindResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 31
   at IdentityServer4.Stores.IResourceStoreExtensions.FindEnabledResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 95
   at IdentityServer4.Validation.ScopeValidator.AreScopesAllowedAsync(Client client, IEnumerable`1 requestedScopes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\ScopeValidator.cs:line 220
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestedScopesAsync(NameValueCollection parameters, Boolean ignoreImplicitIdentityScopes, Boolean ignoreImplicitOfflineAccess) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 679
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 378
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 10:13:04.130 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: roles
   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 58
   at IdentityServer4.Stores.IResourceStoreExtensions.FindResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 31
   at IdentityServer4.Stores.IResourceStoreExtensions.FindEnabledResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 95
   at IdentityServer4.Validation.ScopeValidator.AreScopesAllowedAsync(Client client, IEnumerable`1 requestedScopes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\ScopeValidator.cs:line 220
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestedScopesAsync(NameValueCollection parameters, Boolean ignoreImplicitIdentityScopes, Boolean ignoreImplicitOfflineAccess) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 679
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 378
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 10:15:17.379 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:15:17.380 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:15:17.380 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:15:17.381 +08:00 [DBG] Start token request.
2019-09-19 10:15:17.381 +08:00 [DBG] Start client validation
2019-09-19 10:15:17.381 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:15:17.381 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:15:17.382 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:15:17.382 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:15:18.047 +08:00 [DBG] passClient found in database: true
2019-09-19 10:15:18.047 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:15:18.047 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:15:18.047 +08:00 [DBG] Client validation success
2019-09-19 10:15:18.047 +08:00 [DBG] Start token request validation
2019-09-19 10:15:18.047 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 10:15:18.213 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 10:15:18.547 +08:00 [DBG] Found ["roles"] API scopes in database
2019-09-19 10:15:18.866 +08:00 [FTL] Unhandled exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: roles
System.Exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: roles
   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 58
   at IdentityServer4.Stores.IResourceStoreExtensions.FindResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 31
   at IdentityServer4.Stores.IResourceStoreExtensions.FindEnabledResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 95
   at IdentityServer4.Validation.ScopeValidator.AreScopesAllowedAsync(Client client, IEnumerable`1 requestedScopes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\ScopeValidator.cs:line 220
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestedScopesAsync(NameValueCollection parameters, Boolean ignoreImplicitIdentityScopes, Boolean ignoreImplicitOfflineAccess) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 679
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 378
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 10:15:19.003 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: roles
   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 58
   at IdentityServer4.Stores.IResourceStoreExtensions.FindResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 31
   at IdentityServer4.Stores.IResourceStoreExtensions.FindEnabledResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 95
   at IdentityServer4.Validation.ScopeValidator.AreScopesAllowedAsync(Client client, IEnumerable`1 requestedScopes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\ScopeValidator.cs:line 220
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestedScopesAsync(NameValueCollection parameters, Boolean ignoreImplicitIdentityScopes, Boolean ignoreImplicitOfflineAccess) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 679
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 378
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 10:15:28.595 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:15:28.597 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:15:28.597 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:15:28.597 +08:00 [DBG] Start token request.
2019-09-19 10:15:28.597 +08:00 [DBG] Start client validation
2019-09-19 10:15:28.597 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:15:28.597 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:15:28.598 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:15:28.598 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:15:29.263 +08:00 [DBG] passClient found in database: true
2019-09-19 10:15:29.263 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:15:29.264 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:15:29.264 +08:00 [DBG] Client validation success
2019-09-19 10:15:29.264 +08:00 [DBG] Start token request validation
2019-09-19 10:15:29.264 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 10:15:29.429 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 10:15:29.762 +08:00 [DBG] Found ["roles"] API scopes in database
2019-09-19 10:15:30.079 +08:00 [FTL] Unhandled exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: roles
System.Exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: roles
   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 58
   at IdentityServer4.Stores.IResourceStoreExtensions.FindResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 31
   at IdentityServer4.Stores.IResourceStoreExtensions.FindEnabledResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 95
   at IdentityServer4.Validation.ScopeValidator.AreScopesAllowedAsync(Client client, IEnumerable`1 requestedScopes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\ScopeValidator.cs:line 220
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestedScopesAsync(NameValueCollection parameters, Boolean ignoreImplicitIdentityScopes, Boolean ignoreImplicitOfflineAccess) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 679
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 378
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 10:15:30.222 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: roles
   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 58
   at IdentityServer4.Stores.IResourceStoreExtensions.FindResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 31
   at IdentityServer4.Stores.IResourceStoreExtensions.FindEnabledResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 95
   at IdentityServer4.Validation.ScopeValidator.AreScopesAllowedAsync(Client client, IEnumerable`1 requestedScopes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\ScopeValidator.cs:line 220
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestedScopesAsync(NameValueCollection parameters, Boolean ignoreImplicitIdentityScopes, Boolean ignoreImplicitOfflineAccess) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 679
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 378
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 10:17:37.912 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:17:37.913 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:17:37.913 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:17:37.913 +08:00 [DBG] Start token request.
2019-09-19 10:17:37.914 +08:00 [DBG] Start client validation
2019-09-19 10:17:37.914 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:17:37.914 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:17:37.915 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:17:37.915 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:17:38.735 +08:00 [DBG] passClient found in database: true
2019-09-19 10:17:38.735 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:17:38.735 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:17:38.735 +08:00 [DBG] Client validation success
2019-09-19 10:17:38.735 +08:00 [DBG] Start token request validation
2019-09-19 10:17:38.735 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 10:17:38.918 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 10:17:39.345 +08:00 [DBG] Found ["roles"] API scopes in database
2019-09-19 10:17:39.683 +08:00 [FTL] Unhandled exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: roles
System.Exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: roles
   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 58
   at IdentityServer4.Stores.IResourceStoreExtensions.FindResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 31
   at IdentityServer4.Stores.IResourceStoreExtensions.FindEnabledResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 95
   at IdentityServer4.Validation.ScopeValidator.AreScopesAllowedAsync(Client client, IEnumerable`1 requestedScopes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\ScopeValidator.cs:line 220
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestedScopesAsync(NameValueCollection parameters, Boolean ignoreImplicitIdentityScopes, Boolean ignoreImplicitOfflineAccess) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 679
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 378
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 10:17:39.816 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: roles
   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 58
   at IdentityServer4.Stores.IResourceStoreExtensions.FindResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 31
   at IdentityServer4.Stores.IResourceStoreExtensions.FindEnabledResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 95
   at IdentityServer4.Validation.ScopeValidator.AreScopesAllowedAsync(Client client, IEnumerable`1 requestedScopes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\ScopeValidator.cs:line 220
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestedScopesAsync(NameValueCollection parameters, Boolean ignoreImplicitIdentityScopes, Boolean ignoreImplicitOfflineAccess) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 679
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 378
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 10:17:52.161 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:17:52.162 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:17:52.163 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:17:52.163 +08:00 [DBG] Start token request.
2019-09-19 10:17:52.163 +08:00 [DBG] Start client validation
2019-09-19 10:17:52.163 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:17:52.163 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:17:52.178 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:17:52.178 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:17:52.975 +08:00 [DBG] passClient found in database: true
2019-09-19 10:17:52.975 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:17:52.975 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:17:52.975 +08:00 [DBG] Client validation success
2019-09-19 10:17:52.976 +08:00 [DBG] Start token request validation
2019-09-19 10:17:52.976 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 10:17:53.080 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 10:17:53.485 +08:00 [DBG] Found ["roles"] API scopes in database
2019-09-19 10:17:53.564 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 10:17:53.957 +08:00 [DBG] Found ["roles"] API scopes in database
2019-09-19 10:17:54.149 +08:00 [FTL] Unhandled exception: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 10:17:54.287 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 10:18:12.406 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:18:12.406 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:18:12.407 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:18:12.407 +08:00 [DBG] Start token request.
2019-09-19 10:18:12.407 +08:00 [DBG] Start client validation
2019-09-19 10:18:12.407 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:18:12.407 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:18:12.407 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:18:12.407 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:18:13.078 +08:00 [DBG] passClient found in database: true
2019-09-19 10:18:13.078 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:18:13.078 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:18:13.078 +08:00 [DBG] Client validation success
2019-09-19 10:18:13.078 +08:00 [DBG] Start token request validation
2019-09-19 10:18:13.078 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 10:18:13.244 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 10:18:13.316 +08:00 [DBG] Found [] API scopes in database
2019-09-19 10:18:13.482 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 10:18:13.553 +08:00 [DBG] Found [] API scopes in database
2019-09-19 10:18:13.743 +08:00 [FTL] Unhandled exception: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 10:18:13.888 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 10:20:08.333 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:20:08.335 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:20:08.335 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:20:08.335 +08:00 [DBG] Start token request.
2019-09-19 10:20:08.335 +08:00 [DBG] Start client validation
2019-09-19 10:20:08.335 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:20:08.335 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:20:08.335 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:20:08.335 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:20:09.006 +08:00 [DBG] passClient found in database: true
2019-09-19 10:20:09.006 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:20:09.006 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:20:09.006 +08:00 [DBG] Client validation success
2019-09-19 10:20:09.006 +08:00 [DBG] Start token request validation
2019-09-19 10:20:09.006 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 10:20:09.175 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 10:20:09.247 +08:00 [DBG] Found [] API scopes in database
2019-09-19 10:20:09.414 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 10:20:09.485 +08:00 [DBG] Found [] API scopes in database
2019-09-19 10:20:09.668 +08:00 [FTL] Unhandled exception: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 10:20:09.814 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 10:21:55.865 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 10:21:56.220 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 10:21:56.220 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 10:21:56.220 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 10:21:56.220 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 10:21:56.220 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 10:21:56.220 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 10:21:56.682 +08:00 [DBG] Starting grant removal
2019-09-19 10:21:57.056 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 10:21:57.058 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 10:21:57.058 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 10:21:57.058 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 10:21:57.058 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 10:21:57.058 +08:00 [DBG] Error Url: /home/error
2019-09-19 10:21:57.058 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 10:21:59.933 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:21:59.964 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:21:59.964 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:21:59.971 +08:00 [DBG] Start token request.
2019-09-19 10:21:59.976 +08:00 [DBG] Start client validation
2019-09-19 10:21:59.982 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:21:59.985 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:22:00.010 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:22:00.010 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:22:02.357 +08:00 [DBG] passClient found in database: true
2019-09-19 10:22:02.369 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:22:02.378 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:22:02.378 +08:00 [DBG] Client validation success
2019-09-19 10:22:02.394 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSL0IFKQ2R:00000002","TimeStamp":"2019-09-19T02:22:02.0000000Z","ProcessId":13228,"LocalIpAddress":"127.0.0.1:10021","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 10:22:02.416 +08:00 [DBG] Start token request validation
2019-09-19 10:22:02.426 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 10:22:02.665 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 10:22:02.835 +08:00 [DBG] Found [] API scopes in database
2019-09-19 10:22:03.029 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 10:22:03.112 +08:00 [DBG] Found [] API scopes in database
2019-09-19 10:22:03.344 +08:00 [INF] {"Details":"System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 414\r\n   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 151\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 138\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 88\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 70\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Hosting\\IdentityServerMiddleware.cs:line 54","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.","ActivityId":"0HLPSL0IFKQ2R:00000002","TimeStamp":"2019-09-19T02:22:03.0000000Z","ProcessId":13228,"LocalIpAddress":"127.0.0.1:10021","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2019-09-19 10:22:03.344 +08:00 [FTL] Unhandled exception: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 10:22:03.496 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 10:22:21.522 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:22:21.524 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:22:21.524 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:22:21.524 +08:00 [DBG] Start token request.
2019-09-19 10:22:21.524 +08:00 [DBG] Start client validation
2019-09-19 10:22:21.524 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:22:21.524 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:22:21.525 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:22:21.525 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:22:22.273 +08:00 [DBG] passClient found in database: true
2019-09-19 10:22:22.274 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:22:22.274 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:22:22.274 +08:00 [DBG] Client validation success
2019-09-19 10:22:22.274 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSL0IFKQ2O:00000003","TimeStamp":"2019-09-19T02:22:22.0000000Z","ProcessId":13228,"LocalIpAddress":"127.0.0.1:10021","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 10:22:22.274 +08:00 [DBG] Start token request validation
2019-09-19 10:22:22.274 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 10:22:22.458 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 10:22:22.536 +08:00 [DBG] Found [] API scopes in database
2019-09-19 10:22:22.722 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 10:22:22.805 +08:00 [DBG] Found [] API scopes in database
2019-09-19 10:22:22.984 +08:00 [INF] {"Details":"System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 414\r\n   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 151\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 138\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 88\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 70\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Hosting\\IdentityServerMiddleware.cs:line 54","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.","ActivityId":"0HLPSL0IFKQ2O:00000003","TimeStamp":"2019-09-19T02:22:22.0000000Z","ProcessId":13228,"LocalIpAddress":"127.0.0.1:10021","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2019-09-19 10:22:22.984 +08:00 [FTL] Unhandled exception: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 10:22:23.124 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 10:22:34.451 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:22:34.453 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:22:34.453 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:22:34.453 +08:00 [DBG] Start token request.
2019-09-19 10:22:34.453 +08:00 [DBG] Start client validation
2019-09-19 10:22:34.453 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:22:34.453 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:22:34.462 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:22:34.462 +08:00 [DBG] Secret id found: MyClient
2019-09-19 10:22:35.210 +08:00 [DBG] MyClient found in database: true
2019-09-19 10:22:35.210 +08:00 [ERR] Invalid client configuration for client MyClient: No redirect URI configured.
2019-09-19 10:22:35.211 +08:00 [INF] {"ClientId":"MyClient","ClientName":"MyClient","Category":"Error","Name":"Invalid Client Configuration","EventType":"Error","Id":3001,"Message":"No redirect URI configured.","ActivityId":"0HLPSL0IFKQ2Q:00000003","TimeStamp":"2019-09-19T02:22:35.0000000Z","ProcessId":13228,"LocalIpAddress":"127.0.0.1:10021","RemoteIpAddress":"::1","$type":"InvalidClientConfigurationEvent"}
2019-09-19 10:22:35.211 +08:00 [INF] {"ClientId":"MyClient","Category":"Authentication","Name":"Client Authentication Failure","EventType":"Failure","Id":1011,"Message":"Unknown client","ActivityId":"0HLPSL0IFKQ2Q:00000003","TimeStamp":"2019-09-19T02:22:35.0000000Z","ProcessId":13228,"LocalIpAddress":"127.0.0.1:10021","RemoteIpAddress":"::1","$type":"ClientAuthenticationFailureEvent"}
2019-09-19 10:22:35.211 +08:00 [ERR] No client with id 'MyClient' found. aborting
2019-09-19 10:23:26.282 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:23:26.283 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:23:26.283 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:23:26.283 +08:00 [DBG] Start token request.
2019-09-19 10:23:26.283 +08:00 [DBG] Start client validation
2019-09-19 10:23:26.283 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:23:26.283 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:23:26.304 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:23:26.304 +08:00 [DBG] Secret id found: MyClient
2019-09-19 10:23:27.041 +08:00 [DBG] MyClient found in database: true
2019-09-19 10:23:27.041 +08:00 [ERR] Invalid client configuration for client MyClient: No redirect URI configured.
2019-09-19 10:23:27.041 +08:00 [INF] {"ClientId":"MyClient","ClientName":"MyClient","Category":"Error","Name":"Invalid Client Configuration","EventType":"Error","Id":3001,"Message":"No redirect URI configured.","ActivityId":"0HLPSL0IFKQ2Q:00000004","TimeStamp":"2019-09-19T02:23:27.0000000Z","ProcessId":13228,"LocalIpAddress":"127.0.0.1:10021","RemoteIpAddress":"::1","$type":"InvalidClientConfigurationEvent"}
2019-09-19 10:23:27.041 +08:00 [INF] {"ClientId":"MyClient","Category":"Authentication","Name":"Client Authentication Failure","EventType":"Failure","Id":1011,"Message":"Unknown client","ActivityId":"0HLPSL0IFKQ2Q:00000004","TimeStamp":"2019-09-19T02:23:27.0000000Z","ProcessId":13228,"LocalIpAddress":"127.0.0.1:10021","RemoteIpAddress":"::1","$type":"ClientAuthenticationFailureEvent"}
2019-09-19 10:23:27.041 +08:00 [ERR] No client with id 'MyClient' found. aborting
2019-09-19 10:23:45.478 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:23:45.478 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:23:45.478 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:23:45.478 +08:00 [DBG] Start token request.
2019-09-19 10:23:45.478 +08:00 [DBG] Start client validation
2019-09-19 10:23:45.478 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:23:45.478 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:23:45.478 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:23:45.478 +08:00 [DBG] Secret id found: MyClient
2019-09-19 10:23:46.216 +08:00 [DBG] MyClient found in database: true
2019-09-19 10:23:46.216 +08:00 [ERR] Invalid client configuration for client MyClient: No redirect URI configured.
2019-09-19 10:23:46.216 +08:00 [INF] {"ClientId":"MyClient","ClientName":"MyClient","Category":"Error","Name":"Invalid Client Configuration","EventType":"Error","Id":3001,"Message":"No redirect URI configured.","ActivityId":"0HLPSL0IFKQ2Q:00000005","TimeStamp":"2019-09-19T02:23:46.0000000Z","ProcessId":13228,"LocalIpAddress":"127.0.0.1:10021","RemoteIpAddress":"::1","$type":"InvalidClientConfigurationEvent"}
2019-09-19 10:23:46.216 +08:00 [INF] {"ClientId":"MyClient","Category":"Authentication","Name":"Client Authentication Failure","EventType":"Failure","Id":1011,"Message":"Unknown client","ActivityId":"0HLPSL0IFKQ2Q:00000005","TimeStamp":"2019-09-19T02:23:46.0000000Z","ProcessId":13228,"LocalIpAddress":"127.0.0.1:10021","RemoteIpAddress":"::1","$type":"ClientAuthenticationFailureEvent"}
2019-09-19 10:23:46.216 +08:00 [ERR] No client with id 'MyClient' found. aborting
2019-09-19 10:23:55.214 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:23:55.215 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:23:55.215 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:23:55.216 +08:00 [DBG] Start token request.
2019-09-19 10:23:55.216 +08:00 [DBG] Start client validation
2019-09-19 10:23:55.216 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:23:55.216 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:23:55.217 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:23:55.217 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:23:55.951 +08:00 [DBG] passClient found in database: true
2019-09-19 10:23:55.951 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:23:55.951 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:23:55.951 +08:00 [DBG] Client validation success
2019-09-19 10:23:55.951 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSL0IFKQ2Q:00000006","TimeStamp":"2019-09-19T02:23:55.0000000Z","ProcessId":13228,"LocalIpAddress":"127.0.0.1:10021","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 10:23:55.951 +08:00 [DBG] Start token request validation
2019-09-19 10:23:55.956 +08:00 [DBG] Start validation of custom grant token request
2019-09-19 10:23:55.962 +08:00 [ERR] Client does not have the custom grant type in the allowed list, therefore requested grant is not allowed{"clientId":"passClient"}, details: {"ClientId":"passClient","ClientName":"passClient","GrantType":"passwordauthorization_code","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"passwordauthorization_code","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 10:23:55.965 +08:00 [INF] {"ClientId":"passClient","ClientName":"passClient","RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":null,"GrantType":"passwordauthorization_code","Error":"unsupported_grant_type","ErrorDescription":null,"Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLPSL0IFKQ2Q:00000006","TimeStamp":"2019-09-19T02:23:55.0000000Z","ProcessId":13228,"LocalIpAddress":"127.0.0.1:10021","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-09-19 10:23:59.941 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:23:59.942 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:23:59.942 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:23:59.942 +08:00 [DBG] Start token request.
2019-09-19 10:23:59.942 +08:00 [DBG] Start client validation
2019-09-19 10:23:59.942 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:23:59.942 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:23:59.943 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:23:59.943 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:24:00.676 +08:00 [DBG] passClient found in database: true
2019-09-19 10:24:00.676 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:24:00.676 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:24:00.676 +08:00 [DBG] Client validation success
2019-09-19 10:24:00.676 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSL0IFKQ2Q:00000007","TimeStamp":"2019-09-19T02:24:00.0000000Z","ProcessId":13228,"LocalIpAddress":"127.0.0.1:10021","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 10:24:00.677 +08:00 [DBG] Start token request validation
2019-09-19 10:24:00.677 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 10:24:00.859 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 10:24:00.938 +08:00 [DBG] Found [] API scopes in database
2019-09-19 10:24:01.123 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 10:24:01.201 +08:00 [DBG] Found [] API scopes in database
2019-09-19 10:24:01.202 +08:00 [ERR] Username or password missing, {"ClientId":"passClient","ClientName":"passClient","GrantType":"password","Scopes":"roles","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 10:24:01.202 +08:00 [INF] {"ClientId":"passClient","ClientName":"passClient","RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"roles","GrantType":"password","Error":"invalid_grant","ErrorDescription":null,"Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLPSL0IFKQ2Q:00000007","TimeStamp":"2019-09-19T02:24:01.0000000Z","ProcessId":13228,"LocalIpAddress":"127.0.0.1:10021","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-09-19 10:24:05.818 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:24:05.820 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:24:05.820 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:24:05.820 +08:00 [DBG] Start token request.
2019-09-19 10:24:05.820 +08:00 [DBG] Start client validation
2019-09-19 10:24:05.820 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:24:05.820 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:24:05.820 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:24:05.820 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:24:06.578 +08:00 [DBG] passClient found in database: true
2019-09-19 10:24:06.578 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:24:06.578 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:24:06.578 +08:00 [DBG] Client validation success
2019-09-19 10:24:06.578 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSL0IFKQ2Q:00000008","TimeStamp":"2019-09-19T02:24:06.0000000Z","ProcessId":13228,"LocalIpAddress":"127.0.0.1:10021","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 10:24:06.578 +08:00 [DBG] Start token request validation
2019-09-19 10:24:06.578 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 10:24:06.761 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 10:24:06.840 +08:00 [DBG] Found [] API scopes in database
2019-09-19 10:24:07.033 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 10:24:07.112 +08:00 [DBG] Found [] API scopes in database
2019-09-19 10:24:07.289 +08:00 [INF] {"Details":"System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 414\r\n   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 151\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 138\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 88\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 70\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Hosting\\IdentityServerMiddleware.cs:line 54","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.","ActivityId":"0HLPSL0IFKQ2Q:00000008","TimeStamp":"2019-09-19T02:24:07.0000000Z","ProcessId":13228,"LocalIpAddress":"127.0.0.1:10021","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2019-09-19 10:24:07.289 +08:00 [FTL] Unhandled exception: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 10:24:07.429 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 10:24:12.112 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:24:12.116 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:24:12.117 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:24:12.117 +08:00 [DBG] Start token request.
2019-09-19 10:24:12.117 +08:00 [DBG] Start client validation
2019-09-19 10:24:12.117 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:24:12.117 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:24:12.119 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:24:12.119 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:24:13.163 +08:00 [DBG] passClient found in database: true
2019-09-19 10:24:13.163 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:24:13.163 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:24:13.163 +08:00 [DBG] Client validation success
2019-09-19 10:24:13.163 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSL0IFKQ2Q:00000009","TimeStamp":"2019-09-19T02:24:13.0000000Z","ProcessId":13228,"LocalIpAddress":"127.0.0.1:10021","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 10:24:13.163 +08:00 [DBG] Start token request validation
2019-09-19 10:24:13.164 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 10:24:13.353 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 10:24:13.433 +08:00 [DBG] Found [] API scopes in database
2019-09-19 10:24:13.653 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 10:24:13.734 +08:00 [DBG] Found [] API scopes in database
2019-09-19 10:24:13.734 +08:00 [ERR] Username or password missing, {"ClientId":"passClient","ClientName":"passClient","GrantType":"password","Scopes":"roles","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 10:24:13.734 +08:00 [INF] {"ClientId":"passClient","ClientName":"passClient","RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"roles","GrantType":"password","Error":"invalid_grant","ErrorDescription":null,"Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLPSL0IFKQ2Q:00000009","TimeStamp":"2019-09-19T02:24:13.0000000Z","ProcessId":13228,"LocalIpAddress":"127.0.0.1:10021","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-09-19 10:24:23.740 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:24:23.741 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:24:23.741 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:24:23.741 +08:00 [DBG] Start token request.
2019-09-19 10:24:23.741 +08:00 [DBG] Start client validation
2019-09-19 10:24:23.741 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:24:23.741 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:24:23.741 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:24:23.741 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:24:24.481 +08:00 [DBG] passClient found in database: true
2019-09-19 10:24:24.481 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:24:24.481 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:24:24.481 +08:00 [DBG] Client validation success
2019-09-19 10:24:24.481 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSL0IFKQ2Q:0000000A","TimeStamp":"2019-09-19T02:24:24.0000000Z","ProcessId":13228,"LocalIpAddress":"127.0.0.1:10021","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 10:24:24.481 +08:00 [DBG] Start token request validation
2019-09-19 10:24:24.482 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 10:24:24.667 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 10:24:24.744 +08:00 [DBG] Found [] API scopes in database
2019-09-19 10:24:24.928 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 10:24:25.005 +08:00 [DBG] Found [] API scopes in database
2019-09-19 10:24:25.187 +08:00 [INF] {"Details":"System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 414\r\n   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 151\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 138\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 88\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 70\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Hosting\\IdentityServerMiddleware.cs:line 54","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.","ActivityId":"0HLPSL0IFKQ2Q:0000000A","TimeStamp":"2019-09-19T02:24:25.0000000Z","ProcessId":13228,"LocalIpAddress":"127.0.0.1:10021","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2019-09-19 10:24:25.188 +08:00 [FTL] Unhandled exception: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 10:24:25.327 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 10:30:20.612 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 10:30:20.649 +08:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-09-19 10:30:20.658 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 10:30:20.658 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 10:30:20.659 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 10:30:20.659 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 10:30:20.659 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 10:30:20.659 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 10:30:21.306 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 10:30:21.309 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 10:30:21.309 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 10:30:21.309 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 10:30:21.309 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 10:30:21.309 +08:00 [DBG] Error Url: /home/error
2019-09-19 10:30:21.310 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 10:30:24.467 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'IdentityServer4.EntityFramework.DbContexts.ConfigurationDbContext' while attempting to activate 'LBDIdentityServer4.Quickstart.ConfigurationManage.ConfigurationManageController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 10:30:27.267 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'IdentityServer4.EntityFramework.DbContexts.ConfigurationDbContext' while attempting to activate 'LBDIdentityServer4.Quickstart.ConfigurationManage.ConfigurationManageController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 10:31:10.250 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:31:10.262 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:31:10.262 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:31:10.270 +08:00 [DBG] Start token request.
2019-09-19 10:31:10.276 +08:00 [DBG] Start client validation
2019-09-19 10:31:10.283 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:31:10.286 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:31:10.339 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:31:10.340 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:31:10.370 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:31:10.378 +08:00 [DBG] No matching hashed secret found.
2019-09-19 10:31:10.378 +08:00 [DBG] Secret validators could not validate secret
2019-09-19 10:31:10.392 +08:00 [INF] {"ClientId":"passClient","Category":"Authentication","Name":"Client Authentication Failure","EventType":"Failure","Id":1011,"Message":"Invalid client secret","ActivityId":"0HLPSL58OM6PA:0000000A","TimeStamp":"2019-09-19T02:31:10.0000000Z","ProcessId":5432,"LocalIpAddress":"127.0.0.1:47929","RemoteIpAddress":"::1","$type":"ClientAuthenticationFailureEvent"}
2019-09-19 10:31:10.440 +08:00 [ERR] Client secret validation failed for client: passClient.
2019-09-19 10:31:23.852 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:31:23.852 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:31:23.852 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:31:23.852 +08:00 [DBG] Start token request.
2019-09-19 10:31:23.852 +08:00 [DBG] Start client validation
2019-09-19 10:31:23.852 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:31:23.852 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:31:23.856 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:31:23.856 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:31:23.856 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:31:23.856 +08:00 [DBG] No matching hashed secret found.
2019-09-19 10:31:23.856 +08:00 [DBG] Secret validators could not validate secret
2019-09-19 10:31:23.856 +08:00 [INF] {"ClientId":"passClient","Category":"Authentication","Name":"Client Authentication Failure","EventType":"Failure","Id":1011,"Message":"Invalid client secret","ActivityId":"0HLPSL58OM6PD:0000000A","TimeStamp":"2019-09-19T02:31:23.0000000Z","ProcessId":5432,"LocalIpAddress":"127.0.0.1:47929","RemoteIpAddress":"::1","$type":"ClientAuthenticationFailureEvent"}
2019-09-19 10:31:23.856 +08:00 [ERR] Client secret validation failed for client: passClient.
2019-09-19 10:31:31.400 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:31:31.401 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:31:31.401 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:31:31.401 +08:00 [DBG] Start token request.
2019-09-19 10:31:31.401 +08:00 [DBG] Start client validation
2019-09-19 10:31:31.401 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:31:31.401 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:31:31.403 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:31:31.403 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:31:31.403 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:31:31.404 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:31:31.404 +08:00 [DBG] Client validation success
2019-09-19 10:31:31.404 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSL58OM6PC:0000000C","TimeStamp":"2019-09-19T02:31:31.0000000Z","ProcessId":5432,"LocalIpAddress":"127.0.0.1:47929","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 10:31:31.411 +08:00 [DBG] Start token request validation
2019-09-19 10:31:31.425 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 10:31:31.818 +08:00 [INF] {"Details":"System.Exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: roles\r\n   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Extensions\\IResourceStoreExtensions.cs:line 58\r\n   at IdentityServer4.Stores.IResourceStoreExtensions.FindResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Extensions\\IResourceStoreExtensions.cs:line 31\r\n   at IdentityServer4.Stores.IResourceStoreExtensions.FindEnabledResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Extensions\\IResourceStoreExtensions.cs:line 95\r\n   at IdentityServer4.Validation.ScopeValidator.AreScopesAllowedAsync(Client client, IEnumerable`1 requestedScopes) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\ScopeValidator.cs:line 220\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestedScopesAsync(NameValueCollection parameters, Boolean ignoreImplicitIdentityScopes, Boolean ignoreImplicitOfflineAccess) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 679\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 378\r\n   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 151\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 138\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 88\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 70\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Hosting\\IdentityServerMiddleware.cs:line 54","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: roles","ActivityId":"0HLPSL58OM6PC:0000000C","TimeStamp":"2019-09-19T02:31:31.0000000Z","ProcessId":5432,"LocalIpAddress":"127.0.0.1:47929","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2019-09-19 10:31:31.819 +08:00 [FTL] Unhandled exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: roles
System.Exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: roles
   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 58
   at IdentityServer4.Stores.IResourceStoreExtensions.FindResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 31
   at IdentityServer4.Stores.IResourceStoreExtensions.FindEnabledResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 95
   at IdentityServer4.Validation.ScopeValidator.AreScopesAllowedAsync(Client client, IEnumerable`1 requestedScopes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\ScopeValidator.cs:line 220
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestedScopesAsync(NameValueCollection parameters, Boolean ignoreImplicitIdentityScopes, Boolean ignoreImplicitOfflineAccess) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 679
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 378
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 10:31:31.967 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: roles
   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 58
   at IdentityServer4.Stores.IResourceStoreExtensions.FindResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 31
   at IdentityServer4.Stores.IResourceStoreExtensions.FindEnabledResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 95
   at IdentityServer4.Validation.ScopeValidator.AreScopesAllowedAsync(Client client, IEnumerable`1 requestedScopes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\ScopeValidator.cs:line 220
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestedScopesAsync(NameValueCollection parameters, Boolean ignoreImplicitIdentityScopes, Boolean ignoreImplicitOfflineAccess) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 679
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 378
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 10:32:32.105 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 10:32:32.140 +08:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-09-19 10:32:32.148 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 10:32:32.148 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 10:32:32.148 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 10:32:32.148 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 10:32:32.148 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 10:32:32.148 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 10:32:32.809 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 10:32:32.811 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 10:32:32.811 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 10:32:32.811 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 10:32:32.811 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 10:32:32.811 +08:00 [DBG] Error Url: /home/error
2019-09-19 10:32:32.811 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 10:32:36.182 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:32:36.192 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:32:36.192 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:32:36.201 +08:00 [DBG] Start token request.
2019-09-19 10:32:36.206 +08:00 [DBG] Start client validation
2019-09-19 10:32:36.211 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:32:36.217 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:32:36.239 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:32:36.239 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:32:36.262 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:32:36.274 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:32:36.275 +08:00 [DBG] Client validation success
2019-09-19 10:32:36.296 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSL6FUOK3U:00000003","TimeStamp":"2019-09-19T02:32:36.0000000Z","ProcessId":10624,"LocalIpAddress":"127.0.0.1:4274","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 10:32:36.324 +08:00 [DBG] Start token request validation
2019-09-19 10:32:36.336 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 10:32:36.761 +08:00 [INF] {"Details":"System.Exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: roles\r\n   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Extensions\\IResourceStoreExtensions.cs:line 58\r\n   at IdentityServer4.Stores.IResourceStoreExtensions.FindResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Extensions\\IResourceStoreExtensions.cs:line 31\r\n   at IdentityServer4.Stores.IResourceStoreExtensions.FindEnabledResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Extensions\\IResourceStoreExtensions.cs:line 95\r\n   at IdentityServer4.Validation.ScopeValidator.AreScopesAllowedAsync(Client client, IEnumerable`1 requestedScopes) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\ScopeValidator.cs:line 220\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestedScopesAsync(NameValueCollection parameters, Boolean ignoreImplicitIdentityScopes, Boolean ignoreImplicitOfflineAccess) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 679\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 378\r\n   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 151\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 138\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 88\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 70\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Hosting\\IdentityServerMiddleware.cs:line 54","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: roles","ActivityId":"0HLPSL6FUOK3U:00000003","TimeStamp":"2019-09-19T02:32:36.0000000Z","ProcessId":10624,"LocalIpAddress":"127.0.0.1:4274","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2019-09-19 10:32:36.761 +08:00 [FTL] Unhandled exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: roles
System.Exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: roles
   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 58
   at IdentityServer4.Stores.IResourceStoreExtensions.FindResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 31
   at IdentityServer4.Stores.IResourceStoreExtensions.FindEnabledResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 95
   at IdentityServer4.Validation.ScopeValidator.AreScopesAllowedAsync(Client client, IEnumerable`1 requestedScopes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\ScopeValidator.cs:line 220
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestedScopesAsync(NameValueCollection parameters, Boolean ignoreImplicitIdentityScopes, Boolean ignoreImplicitOfflineAccess) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 679
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 378
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 10:32:36.890 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: roles
   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 58
   at IdentityServer4.Stores.IResourceStoreExtensions.FindResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 31
   at IdentityServer4.Stores.IResourceStoreExtensions.FindEnabledResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 95
   at IdentityServer4.Validation.ScopeValidator.AreScopesAllowedAsync(Client client, IEnumerable`1 requestedScopes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\ScopeValidator.cs:line 220
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestedScopesAsync(NameValueCollection parameters, Boolean ignoreImplicitIdentityScopes, Boolean ignoreImplicitOfflineAccess) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 679
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 378
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 10:34:30.948 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 10:34:30.985 +08:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-09-19 10:34:30.993 +08:00 [INF] Using the default authentication scheme idsrv for IdentityServer
2019-09-19 10:34:30.993 +08:00 [DBG] Using idsrv as default ASP.NET Core scheme for authentication
2019-09-19 10:34:30.993 +08:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-in
2019-09-19 10:34:30.993 +08:00 [DBG] Using idsrv as default ASP.NET Core scheme for sign-out
2019-09-19 10:34:30.993 +08:00 [DBG] Using idsrv as default ASP.NET Core scheme for challenge
2019-09-19 10:34:30.993 +08:00 [DBG] Using idsrv as default ASP.NET Core scheme for forbid
2019-09-19 10:34:31.869 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 10:34:31.870 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 10:34:31.870 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 10:34:31.870 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 10:34:31.870 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 10:34:31.871 +08:00 [DBG] Error Url: /home/error
2019-09-19 10:34:31.871 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 10:34:34.706 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:34:34.718 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:34:34.718 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:34:34.726 +08:00 [DBG] Start token request.
2019-09-19 10:34:34.733 +08:00 [DBG] Start client validation
2019-09-19 10:34:34.738 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:34:34.746 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:34:34.764 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:34:34.764 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:34:34.786 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:34:34.794 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:34:34.794 +08:00 [DBG] Client validation success
2019-09-19 10:34:34.838 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSL7JE4B2V:00000002","TimeStamp":"2019-09-19T02:34:34.0000000Z","ProcessId":10356,"LocalIpAddress":"127.0.0.1:41019","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 10:34:34.872 +08:00 [DBG] Start token request validation
2019-09-19 10:34:34.886 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 10:34:35.360 +08:00 [INF] {"Details":"System.Exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: roles\r\n   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Extensions\\IResourceStoreExtensions.cs:line 58\r\n   at IdentityServer4.Stores.IResourceStoreExtensions.FindResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Extensions\\IResourceStoreExtensions.cs:line 31\r\n   at IdentityServer4.Stores.IResourceStoreExtensions.FindEnabledResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Extensions\\IResourceStoreExtensions.cs:line 95\r\n   at IdentityServer4.Validation.ScopeValidator.AreScopesAllowedAsync(Client client, IEnumerable`1 requestedScopes) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\ScopeValidator.cs:line 220\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestedScopesAsync(NameValueCollection parameters, Boolean ignoreImplicitIdentityScopes, Boolean ignoreImplicitOfflineAccess) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 679\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 378\r\n   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 151\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 138\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 88\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 70\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Hosting\\IdentityServerMiddleware.cs:line 54","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: roles","ActivityId":"0HLPSL7JE4B2V:00000002","TimeStamp":"2019-09-19T02:34:35.0000000Z","ProcessId":10356,"LocalIpAddress":"127.0.0.1:41019","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2019-09-19 10:34:35.360 +08:00 [FTL] Unhandled exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: roles
System.Exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: roles
   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 58
   at IdentityServer4.Stores.IResourceStoreExtensions.FindResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 31
   at IdentityServer4.Stores.IResourceStoreExtensions.FindEnabledResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 95
   at IdentityServer4.Validation.ScopeValidator.AreScopesAllowedAsync(Client client, IEnumerable`1 requestedScopes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\ScopeValidator.cs:line 220
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestedScopesAsync(NameValueCollection parameters, Boolean ignoreImplicitIdentityScopes, Boolean ignoreImplicitOfflineAccess) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 679
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 378
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 10:34:35.504 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: roles
   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 58
   at IdentityServer4.Stores.IResourceStoreExtensions.FindResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 31
   at IdentityServer4.Stores.IResourceStoreExtensions.FindEnabledResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 95
   at IdentityServer4.Validation.ScopeValidator.AreScopesAllowedAsync(Client client, IEnumerable`1 requestedScopes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\ScopeValidator.cs:line 220
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestedScopesAsync(NameValueCollection parameters, Boolean ignoreImplicitIdentityScopes, Boolean ignoreImplicitOfflineAccess) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 679
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 378
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 10:38:04.407 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 10:38:04.441 +08:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-09-19 10:38:04.450 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 10:38:04.450 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 10:38:04.450 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 10:38:04.450 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 10:38:04.450 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 10:38:04.451 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 10:38:05.140 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 10:38:05.142 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 10:38:05.142 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 10:38:05.142 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 10:38:05.142 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 10:38:05.142 +08:00 [DBG] Error Url: /home/error
2019-09-19 10:38:05.142 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 10:38:08.491 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:38:08.503 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:38:08.504 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:38:08.512 +08:00 [DBG] Start token request.
2019-09-19 10:38:08.517 +08:00 [DBG] Start client validation
2019-09-19 10:38:08.522 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:38:08.525 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:38:08.543 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:38:08.543 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:38:08.560 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:38:08.572 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:38:08.572 +08:00 [DBG] Client validation success
2019-09-19 10:38:08.593 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSL9J0627B:00000003","TimeStamp":"2019-09-19T02:38:08.0000000Z","ProcessId":12592,"LocalIpAddress":"127.0.0.1:35292","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 10:38:08.616 +08:00 [DBG] Start token request validation
2019-09-19 10:38:08.629 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 10:38:08.690 +08:00 [DBG] IsActive called from: ResourceOwnerValidation
2019-09-19 10:38:08.692 +08:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"818727","DisplayName":null,"Endpoint":"Token","ClientId":"passClient","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPSL9J0627B:00000003","TimeStamp":"2019-09-19T02:38:08.0000000Z","ProcessId":12592,"LocalIpAddress":"127.0.0.1:35292","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-09-19 10:38:08.692 +08:00 [DBG] Resource owner password token request validation success.
2019-09-19 10:38:08.704 +08:00 [INF] Token request validation success, {"ClientId":"passClient","ClientName":null,"GrantType":"password","Scopes":"blog.core.api openid profile roles","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 10:38:08.737 +08:00 [DBG] Getting claims for access token for client: passClient
2019-09-19 10:38:08.738 +08:00 [DBG] Getting claims for access token for subject: 818727
2019-09-19 10:38:08.746 +08:00 [DBG] Get profile called for subject 818727 from client passClient with claim types ["name","role"] via ClaimsProviderAccessToken
2019-09-19 10:38:08.756 +08:00 [DBG] Issued claims: ["name"]
2019-09-19 10:38:08.846 +08:00 [INF] {"ClientId":"passClient","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"818727","Scopes":"openid profile roles blog.core.api","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****YAbg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPSL9J0627B:00000003","TimeStamp":"2019-09-19T02:38:08.0000000Z","ProcessId":12592,"LocalIpAddress":"127.0.0.1:35292","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-09-19 10:38:08.849 +08:00 [DBG] Token request success.
2019-09-19 10:38:16.569 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:38:16.570 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:38:16.570 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:38:16.571 +08:00 [DBG] Start token request.
2019-09-19 10:38:16.571 +08:00 [DBG] Start client validation
2019-09-19 10:38:16.571 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:38:16.571 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:38:16.571 +08:00 [DBG] client id without secret found
2019-09-19 10:38:16.572 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:38:16.572 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:38:16.572 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:38:16.572 +08:00 [DBG] Hashed shared secret validator cannot process NoSecret
2019-09-19 10:38:16.572 +08:00 [DBG] Secret validators could not validate secret
2019-09-19 10:38:16.572 +08:00 [INF] {"ClientId":"passClient","Category":"Authentication","Name":"Client Authentication Failure","EventType":"Failure","Id":1011,"Message":"Invalid client secret","ActivityId":"0HLPSL9J0627C:00000002","TimeStamp":"2019-09-19T02:38:16.0000000Z","ProcessId":12592,"LocalIpAddress":"127.0.0.1:35292","RemoteIpAddress":"::1","$type":"ClientAuthenticationFailureEvent"}
2019-09-19 10:38:16.572 +08:00 [ERR] Client secret validation failed for client: passClient.
2019-09-19 10:38:19.505 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:38:19.505 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:38:19.505 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:38:19.506 +08:00 [DBG] Start token request.
2019-09-19 10:38:19.506 +08:00 [DBG] Start client validation
2019-09-19 10:38:19.506 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:38:19.506 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:38:19.507 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:38:19.507 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:38:19.507 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:38:19.507 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:38:19.507 +08:00 [DBG] Client validation success
2019-09-19 10:38:19.507 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSL9J0627D:00000003","TimeStamp":"2019-09-19T02:38:19.0000000Z","ProcessId":12592,"LocalIpAddress":"127.0.0.1:35292","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 10:38:19.507 +08:00 [DBG] Start token request validation
2019-09-19 10:38:19.507 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 10:38:19.507 +08:00 [DBG] IsActive called from: ResourceOwnerValidation
2019-09-19 10:38:19.508 +08:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"818727","DisplayName":null,"Endpoint":"Token","ClientId":"passClient","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPSL9J0627D:00000003","TimeStamp":"2019-09-19T02:38:19.0000000Z","ProcessId":12592,"LocalIpAddress":"127.0.0.1:35292","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-09-19 10:38:19.508 +08:00 [DBG] Resource owner password token request validation success.
2019-09-19 10:38:19.517 +08:00 [INF] Token request validation success, {"ClientId":"passClient","ClientName":null,"GrantType":"password","Scopes":"blog.core.api openid profile roles","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 10:38:19.517 +08:00 [DBG] Getting claims for access token for client: passClient
2019-09-19 10:38:19.517 +08:00 [DBG] Getting claims for access token for subject: 818727
2019-09-19 10:38:19.517 +08:00 [DBG] Get profile called for subject 818727 from client passClient with claim types ["name","role"] via ClaimsProviderAccessToken
2019-09-19 10:38:19.517 +08:00 [DBG] Issued claims: ["name"]
2019-09-19 10:38:19.519 +08:00 [INF] {"ClientId":"passClient","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"818727","Scopes":"openid profile roles blog.core.api","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****p3MQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPSL9J0627D:00000003","TimeStamp":"2019-09-19T02:38:19.0000000Z","ProcessId":12592,"LocalIpAddress":"127.0.0.1:35292","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-09-19 10:38:19.519 +08:00 [DBG] Token request success.
2019-09-19 10:38:26.694 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:38:26.694 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:38:26.694 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:38:26.694 +08:00 [DBG] Start token request.
2019-09-19 10:38:26.695 +08:00 [DBG] Start client validation
2019-09-19 10:38:26.695 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:38:26.695 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:38:26.698 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:38:26.699 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:38:26.699 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:38:26.699 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:38:26.699 +08:00 [DBG] Client validation success
2019-09-19 10:38:26.699 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSL9J0627A:00000004","TimeStamp":"2019-09-19T02:38:26.0000000Z","ProcessId":12592,"LocalIpAddress":"127.0.0.1:35292","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 10:38:26.699 +08:00 [DBG] Start token request validation
2019-09-19 10:38:26.699 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 10:38:26.700 +08:00 [DBG] IsActive called from: ResourceOwnerValidation
2019-09-19 10:38:26.700 +08:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"818727","DisplayName":null,"Endpoint":"Token","ClientId":"passClient","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPSL9J0627A:00000004","TimeStamp":"2019-09-19T02:38:26.0000000Z","ProcessId":12592,"LocalIpAddress":"127.0.0.1:35292","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-09-19 10:38:26.700 +08:00 [DBG] Resource owner password token request validation success.
2019-09-19 10:38:26.700 +08:00 [INF] Token request validation success, {"ClientId":"passClient","ClientName":null,"GrantType":"password","Scopes":"blog.core.api openid profile roles","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***","scopes":"roles"},"$type":"TokenRequestValidationLog"}
2019-09-19 10:38:26.700 +08:00 [DBG] Getting claims for access token for client: passClient
2019-09-19 10:38:26.700 +08:00 [DBG] Getting claims for access token for subject: 818727
2019-09-19 10:38:26.700 +08:00 [DBG] Get profile called for subject 818727 from client passClient with claim types ["name","role"] via ClaimsProviderAccessToken
2019-09-19 10:38:26.700 +08:00 [DBG] Issued claims: ["name"]
2019-09-19 10:38:26.702 +08:00 [INF] {"ClientId":"passClient","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"818727","Scopes":"openid profile roles blog.core.api","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****tzew","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPSL9J0627A:00000004","TimeStamp":"2019-09-19T02:38:26.0000000Z","ProcessId":12592,"LocalIpAddress":"127.0.0.1:35292","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-09-19 10:38:26.702 +08:00 [DBG] Token request success.
2019-09-19 10:38:28.925 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:38:28.925 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:38:28.925 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:38:28.925 +08:00 [DBG] Start token request.
2019-09-19 10:38:28.926 +08:00 [DBG] Start client validation
2019-09-19 10:38:28.926 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:38:28.926 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:38:28.927 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:38:28.927 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:38:28.927 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:38:28.927 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:38:28.927 +08:00 [DBG] Client validation success
2019-09-19 10:38:28.927 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSL9J0627B:00000004","TimeStamp":"2019-09-19T02:38:28.0000000Z","ProcessId":12592,"LocalIpAddress":"127.0.0.1:35292","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 10:38:28.927 +08:00 [DBG] Start token request validation
2019-09-19 10:38:28.927 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 10:38:28.927 +08:00 [DBG] IsActive called from: ResourceOwnerValidation
2019-09-19 10:38:28.928 +08:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"818727","DisplayName":null,"Endpoint":"Token","ClientId":"passClient","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPSL9J0627B:00000004","TimeStamp":"2019-09-19T02:38:28.0000000Z","ProcessId":12592,"LocalIpAddress":"127.0.0.1:35292","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-09-19 10:38:28.928 +08:00 [DBG] Resource owner password token request validation success.
2019-09-19 10:38:28.928 +08:00 [INF] Token request validation success, {"ClientId":"passClient","ClientName":null,"GrantType":"password","Scopes":"blog.core.api openid profile roles","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***","scopes":"roles"},"$type":"TokenRequestValidationLog"}
2019-09-19 10:38:28.928 +08:00 [DBG] Getting claims for access token for client: passClient
2019-09-19 10:38:28.928 +08:00 [DBG] Getting claims for access token for subject: 818727
2019-09-19 10:38:28.928 +08:00 [DBG] Get profile called for subject 818727 from client passClient with claim types ["name","role"] via ClaimsProviderAccessToken
2019-09-19 10:38:28.928 +08:00 [DBG] Issued claims: ["name"]
2019-09-19 10:38:28.931 +08:00 [INF] {"ClientId":"passClient","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"818727","Scopes":"openid profile roles blog.core.api","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****8bIg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPSL9J0627B:00000004","TimeStamp":"2019-09-19T02:38:28.0000000Z","ProcessId":12592,"LocalIpAddress":"127.0.0.1:35292","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-09-19 10:38:28.932 +08:00 [DBG] Token request success.
2019-09-19 10:38:29.923 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:38:29.923 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:38:29.924 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:38:29.924 +08:00 [DBG] Start token request.
2019-09-19 10:38:29.924 +08:00 [DBG] Start client validation
2019-09-19 10:38:29.924 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:38:29.924 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:38:29.925 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:38:29.925 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:38:29.925 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:38:29.925 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:38:29.925 +08:00 [DBG] Client validation success
2019-09-19 10:38:29.925 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSL9J0627C:00000003","TimeStamp":"2019-09-19T02:38:29.0000000Z","ProcessId":12592,"LocalIpAddress":"127.0.0.1:35292","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 10:38:29.925 +08:00 [DBG] Start token request validation
2019-09-19 10:38:29.925 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 10:38:29.925 +08:00 [DBG] IsActive called from: ResourceOwnerValidation
2019-09-19 10:38:29.926 +08:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"818727","DisplayName":null,"Endpoint":"Token","ClientId":"passClient","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPSL9J0627C:00000003","TimeStamp":"2019-09-19T02:38:29.0000000Z","ProcessId":12592,"LocalIpAddress":"127.0.0.1:35292","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-09-19 10:38:29.926 +08:00 [DBG] Resource owner password token request validation success.
2019-09-19 10:38:29.926 +08:00 [INF] Token request validation success, {"ClientId":"passClient","ClientName":null,"GrantType":"password","Scopes":"blog.core.api openid profile roles","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***","scopes":"roles"},"$type":"TokenRequestValidationLog"}
2019-09-19 10:38:29.926 +08:00 [DBG] Getting claims for access token for client: passClient
2019-09-19 10:38:29.926 +08:00 [DBG] Getting claims for access token for subject: 818727
2019-09-19 10:38:29.926 +08:00 [DBG] Get profile called for subject 818727 from client passClient with claim types ["name","role"] via ClaimsProviderAccessToken
2019-09-19 10:38:29.926 +08:00 [DBG] Issued claims: ["name"]
2019-09-19 10:38:29.928 +08:00 [INF] {"ClientId":"passClient","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"818727","Scopes":"openid profile roles blog.core.api","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****p_Ww","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPSL9J0627C:00000003","TimeStamp":"2019-09-19T02:38:29.0000000Z","ProcessId":12592,"LocalIpAddress":"127.0.0.1:35292","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-09-19 10:38:29.928 +08:00 [DBG] Token request success.
2019-09-19 10:38:47.156 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 10:38:47.191 +08:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-09-19 10:38:47.200 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 10:38:47.200 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 10:38:47.200 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 10:38:47.200 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 10:38:47.200 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 10:38:47.200 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 10:38:48.117 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 10:38:48.119 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 10:38:48.119 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 10:38:48.119 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 10:38:48.119 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 10:38:48.119 +08:00 [DBG] Error Url: /home/error
2019-09-19 10:38:48.119 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 10:38:50.093 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:38:50.109 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:38:50.109 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:38:50.120 +08:00 [DBG] Start token request.
2019-09-19 10:38:50.127 +08:00 [DBG] Start client validation
2019-09-19 10:38:50.132 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:38:50.135 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:38:50.155 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:38:50.156 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:38:50.180 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:38:50.193 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:38:50.194 +08:00 [DBG] Client validation success
2019-09-19 10:38:50.223 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSL9VPN8JI:00000003","TimeStamp":"2019-09-19T02:38:50.0000000Z","ProcessId":14676,"LocalIpAddress":"127.0.0.1:47141","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 10:38:50.259 +08:00 [DBG] Start token request validation
2019-09-19 10:38:50.277 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 10:38:50.324 +08:00 [DBG] IsActive called from: ResourceOwnerValidation
2019-09-19 10:38:50.327 +08:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"818727","DisplayName":null,"Endpoint":"Token","ClientId":"passClient","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPSL9VPN8JI:00000003","TimeStamp":"2019-09-19T02:38:50.0000000Z","ProcessId":14676,"LocalIpAddress":"127.0.0.1:47141","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-09-19 10:38:50.327 +08:00 [DBG] Resource owner password token request validation success.
2019-09-19 10:38:50.339 +08:00 [INF] Token request validation success, {"ClientId":"passClient","ClientName":null,"GrantType":"password","Scopes":"openid roles","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 10:38:50.369 +08:00 [DBG] Getting claims for access token for client: passClient
2019-09-19 10:38:50.370 +08:00 [DBG] Getting claims for access token for subject: 818727
2019-09-19 10:38:50.375 +08:00 [DBG] Get profile called for subject 818727 from client passClient with claim types [] via ClaimsProviderAccessToken
2019-09-19 10:38:50.377 +08:00 [DBG] Issued claims: []
2019-09-19 10:38:50.474 +08:00 [INF] {"ClientId":"passClient","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"818727","Scopes":"openid roles","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****4NWw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPSL9VPN8JI:00000003","TimeStamp":"2019-09-19T02:38:50.0000000Z","ProcessId":14676,"LocalIpAddress":"127.0.0.1:47141","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-09-19 10:38:50.475 +08:00 [DBG] Token request success.
2019-09-19 10:39:20.823 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 10:39:20.862 +08:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-09-19 10:39:20.872 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 10:39:20.872 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 10:39:20.872 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 10:39:20.873 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 10:39:20.873 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 10:39:20.873 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 10:39:21.609 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 10:39:21.611 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 10:39:21.611 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 10:39:21.611 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 10:39:21.611 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 10:39:21.611 +08:00 [DBG] Error Url: /home/error
2019-09-19 10:39:21.611 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 10:39:23.735 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:39:23.746 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:39:23.746 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:39:23.753 +08:00 [DBG] Start token request.
2019-09-19 10:39:23.759 +08:00 [DBG] Start client validation
2019-09-19 10:39:23.765 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:39:23.769 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:39:23.794 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:39:23.794 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:39:23.810 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:39:23.820 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:39:23.820 +08:00 [DBG] Client validation success
2019-09-19 10:39:23.843 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSLA9PB1TG:00000003","TimeStamp":"2019-09-19T02:39:23.0000000Z","ProcessId":17868,"LocalIpAddress":"127.0.0.1:32530","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 10:39:23.868 +08:00 [DBG] Start token request validation
2019-09-19 10:39:23.882 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 10:39:24.305 +08:00 [INF] {"Details":"System.Exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: roles\r\n   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Extensions\\IResourceStoreExtensions.cs:line 58\r\n   at IdentityServer4.Stores.IResourceStoreExtensions.FindResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Extensions\\IResourceStoreExtensions.cs:line 31\r\n   at IdentityServer4.Stores.IResourceStoreExtensions.FindEnabledResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Extensions\\IResourceStoreExtensions.cs:line 95\r\n   at IdentityServer4.Validation.ScopeValidator.AreScopesAllowedAsync(Client client, IEnumerable`1 requestedScopes) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\ScopeValidator.cs:line 220\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestedScopesAsync(NameValueCollection parameters, Boolean ignoreImplicitIdentityScopes, Boolean ignoreImplicitOfflineAccess) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 679\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 378\r\n   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 151\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 138\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 88\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 70\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Hosting\\IdentityServerMiddleware.cs:line 54","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: roles","ActivityId":"0HLPSLA9PB1TG:00000003","TimeStamp":"2019-09-19T02:39:24.0000000Z","ProcessId":17868,"LocalIpAddress":"127.0.0.1:32530","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2019-09-19 10:39:24.305 +08:00 [FTL] Unhandled exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: roles
System.Exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: roles
   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 58
   at IdentityServer4.Stores.IResourceStoreExtensions.FindResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 31
   at IdentityServer4.Stores.IResourceStoreExtensions.FindEnabledResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 95
   at IdentityServer4.Validation.ScopeValidator.AreScopesAllowedAsync(Client client, IEnumerable`1 requestedScopes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\ScopeValidator.cs:line 220
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestedScopesAsync(NameValueCollection parameters, Boolean ignoreImplicitIdentityScopes, Boolean ignoreImplicitOfflineAccess) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 679
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 378
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 10:39:24.445 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: roles
   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 58
   at IdentityServer4.Stores.IResourceStoreExtensions.FindResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 31
   at IdentityServer4.Stores.IResourceStoreExtensions.FindEnabledResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 95
   at IdentityServer4.Validation.ScopeValidator.AreScopesAllowedAsync(Client client, IEnumerable`1 requestedScopes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\ScopeValidator.cs:line 220
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestedScopesAsync(NameValueCollection parameters, Boolean ignoreImplicitIdentityScopes, Boolean ignoreImplicitOfflineAccess) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 679
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 378
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 10:39:48.144 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 10:39:48.182 +08:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-09-19 10:39:48.190 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 10:39:48.190 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 10:39:48.190 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 10:39:48.190 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 10:39:48.190 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 10:39:48.191 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 10:39:48.913 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 10:39:48.915 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 10:39:48.915 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 10:39:48.915 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 10:39:48.915 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 10:39:48.916 +08:00 [DBG] Error Url: /home/error
2019-09-19 10:39:48.916 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 10:39:51.573 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:39:51.582 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:39:51.582 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:39:51.589 +08:00 [DBG] Start token request.
2019-09-19 10:39:51.594 +08:00 [DBG] Start client validation
2019-09-19 10:39:51.599 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:39:51.602 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:39:51.626 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:39:51.626 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:39:51.644 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:39:51.658 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:39:51.658 +08:00 [DBG] Client validation success
2019-09-19 10:39:51.686 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSLAHTQEGQ:00000002","TimeStamp":"2019-09-19T02:39:51.0000000Z","ProcessId":16432,"LocalIpAddress":"127.0.0.1:25916","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 10:39:51.717 +08:00 [DBG] Start token request validation
2019-09-19 10:39:51.734 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 10:39:52.242 +08:00 [INF] {"Details":"System.Exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: roles\r\n   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Extensions\\IResourceStoreExtensions.cs:line 58\r\n   at IdentityServer4.Stores.IResourceStoreExtensions.FindResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Extensions\\IResourceStoreExtensions.cs:line 31\r\n   at IdentityServer4.Stores.IResourceStoreExtensions.FindEnabledResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Extensions\\IResourceStoreExtensions.cs:line 95\r\n   at IdentityServer4.Validation.ScopeValidator.AreScopesAllowedAsync(Client client, IEnumerable`1 requestedScopes) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\ScopeValidator.cs:line 220\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestedScopesAsync(NameValueCollection parameters, Boolean ignoreImplicitIdentityScopes, Boolean ignoreImplicitOfflineAccess) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 679\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 378\r\n   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 151\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 138\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 88\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 70\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Hosting\\IdentityServerMiddleware.cs:line 54","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: roles","ActivityId":"0HLPSLAHTQEGQ:00000002","TimeStamp":"2019-09-19T02:39:52.0000000Z","ProcessId":16432,"LocalIpAddress":"127.0.0.1:25916","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2019-09-19 10:39:52.242 +08:00 [FTL] Unhandled exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: roles
System.Exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: roles
   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 58
   at IdentityServer4.Stores.IResourceStoreExtensions.FindResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 31
   at IdentityServer4.Stores.IResourceStoreExtensions.FindEnabledResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 95
   at IdentityServer4.Validation.ScopeValidator.AreScopesAllowedAsync(Client client, IEnumerable`1 requestedScopes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\ScopeValidator.cs:line 220
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestedScopesAsync(NameValueCollection parameters, Boolean ignoreImplicitIdentityScopes, Boolean ignoreImplicitOfflineAccess) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 679
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 378
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 10:39:52.373 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: roles
   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 58
   at IdentityServer4.Stores.IResourceStoreExtensions.FindResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 31
   at IdentityServer4.Stores.IResourceStoreExtensions.FindEnabledResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 95
   at IdentityServer4.Validation.ScopeValidator.AreScopesAllowedAsync(Client client, IEnumerable`1 requestedScopes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\ScopeValidator.cs:line 220
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestedScopesAsync(NameValueCollection parameters, Boolean ignoreImplicitIdentityScopes, Boolean ignoreImplicitOfflineAccess) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 679
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 378
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 10:40:15.555 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 10:40:15.595 +08:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-09-19 10:40:15.603 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 10:40:15.603 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 10:40:15.603 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 10:40:15.603 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 10:40:15.603 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 10:40:15.603 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 10:40:16.414 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 10:40:16.417 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 10:40:16.417 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 10:40:16.417 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 10:40:16.417 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 10:40:16.417 +08:00 [DBG] Error Url: /home/error
2019-09-19 10:40:16.417 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 10:40:18.516 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:40:18.526 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:40:18.526 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:40:18.534 +08:00 [DBG] Start token request.
2019-09-19 10:40:18.541 +08:00 [DBG] Start client validation
2019-09-19 10:40:18.547 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:40:18.552 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:40:18.576 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:40:18.576 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:40:18.593 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:40:18.602 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:40:18.602 +08:00 [DBG] Client validation success
2019-09-19 10:40:18.624 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSLAQ3KLV8:00000003","TimeStamp":"2019-09-19T02:40:18.0000000Z","ProcessId":15244,"LocalIpAddress":"127.0.0.1:36418","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 10:40:18.658 +08:00 [DBG] Start token request validation
2019-09-19 10:40:18.675 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 10:40:18.709 +08:00 [ERR] Requested scope not allowed: blog.core.api
2019-09-19 10:40:18.721 +08:00 [ERR] {"ClientId":"passClient","ClientName":null,"GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 10:40:18.724 +08:00 [INF] {"ClientId":"passClient","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":null,"GrantType":"password","Error":"invalid_scope","ErrorDescription":null,"Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLPSLAQ3KLV8:00000003","TimeStamp":"2019-09-19T02:40:18.0000000Z","ProcessId":15244,"LocalIpAddress":"127.0.0.1:36418","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-09-19 10:40:33.393 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 10:40:33.434 +08:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-09-19 10:40:33.442 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 10:40:33.442 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 10:40:33.442 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 10:40:33.442 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 10:40:33.442 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 10:40:33.442 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 10:40:34.132 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 10:40:34.134 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 10:40:34.134 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 10:40:34.134 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 10:40:34.134 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 10:40:34.134 +08:00 [DBG] Error Url: /home/error
2019-09-19 10:40:34.134 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 10:40:36.186 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:40:36.192 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:40:36.193 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:40:36.200 +08:00 [DBG] Start token request.
2019-09-19 10:40:36.206 +08:00 [DBG] Start client validation
2019-09-19 10:40:36.211 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:40:36.216 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:40:36.256 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:40:36.257 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:40:36.291 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:40:36.307 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:40:36.307 +08:00 [DBG] Client validation success
2019-09-19 10:40:36.341 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSLAVCU6RR:00000003","TimeStamp":"2019-09-19T02:40:36.0000000Z","ProcessId":16616,"LocalIpAddress":"127.0.0.1:39512","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 10:40:36.393 +08:00 [DBG] Start token request validation
2019-09-19 10:40:36.412 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 10:40:36.445 +08:00 [ERR] Requested scope not allowed: blog.core.api
2019-09-19 10:40:36.456 +08:00 [ERR] {"ClientId":"passClient","ClientName":null,"GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 10:40:36.459 +08:00 [INF] {"ClientId":"passClient","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":null,"GrantType":"password","Error":"invalid_scope","ErrorDescription":null,"Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLPSLAVCU6RR:00000003","TimeStamp":"2019-09-19T02:40:36.0000000Z","ProcessId":16616,"LocalIpAddress":"127.0.0.1:39512","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-09-19 10:40:39.458 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:40:39.459 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:40:39.460 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:40:39.460 +08:00 [DBG] Start token request.
2019-09-19 10:40:39.460 +08:00 [DBG] Start client validation
2019-09-19 10:40:39.460 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:40:39.460 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:40:39.460 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:40:39.460 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:40:39.460 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:40:39.461 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:40:39.462 +08:00 [DBG] Client validation success
2019-09-19 10:40:39.462 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSLAVCU6RT:00000002","TimeStamp":"2019-09-19T02:40:39.0000000Z","ProcessId":16616,"LocalIpAddress":"127.0.0.1:39512","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 10:40:39.462 +08:00 [DBG] Start token request validation
2019-09-19 10:40:39.462 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 10:40:39.462 +08:00 [ERR] Requested scope not allowed: blog.core.api
2019-09-19 10:40:39.462 +08:00 [ERR] {"ClientId":"passClient","ClientName":null,"GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 10:40:39.462 +08:00 [INF] {"ClientId":"passClient","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":null,"GrantType":"password","Error":"invalid_scope","ErrorDescription":null,"Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLPSLAVCU6RT:00000002","TimeStamp":"2019-09-19T02:40:39.0000000Z","ProcessId":16616,"LocalIpAddress":"127.0.0.1:39512","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-09-19 10:41:09.495 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 10:41:09.535 +08:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-09-19 10:41:09.543 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 10:41:09.543 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 10:41:09.543 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 10:41:09.543 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 10:41:09.544 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 10:41:09.544 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 10:41:10.343 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 10:41:10.344 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 10:41:10.344 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 10:41:10.344 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 10:41:10.344 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 10:41:10.344 +08:00 [DBG] Error Url: /home/error
2019-09-19 10:41:10.344 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 10:41:12.132 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:41:12.146 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:41:12.147 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:41:12.154 +08:00 [DBG] Start token request.
2019-09-19 10:41:12.160 +08:00 [DBG] Start client validation
2019-09-19 10:41:12.168 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:41:12.175 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:41:12.195 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:41:12.195 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:41:12.221 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:41:12.235 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:41:12.236 +08:00 [DBG] Client validation success
2019-09-19 10:41:12.259 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSLBA5UEM1:00000003","TimeStamp":"2019-09-19T02:41:12.0000000Z","ProcessId":17380,"LocalIpAddress":"127.0.0.1:35208","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 10:41:12.287 +08:00 [DBG] Start token request validation
2019-09-19 10:41:12.300 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 10:41:12.342 +08:00 [DBG] IsActive called from: ResourceOwnerValidation
2019-09-19 10:41:12.343 +08:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"818727","DisplayName":null,"Endpoint":"Token","ClientId":"passClient","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPSLBA5UEM1:00000003","TimeStamp":"2019-09-19T02:41:12.0000000Z","ProcessId":17380,"LocalIpAddress":"127.0.0.1:35208","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-09-19 10:41:12.343 +08:00 [DBG] Resource owner password token request validation success.
2019-09-19 10:41:12.355 +08:00 [INF] Token request validation success, {"ClientId":"passClient","ClientName":null,"GrantType":"password","Scopes":"blog.core.api openid profile roles","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 10:41:12.379 +08:00 [DBG] Getting claims for access token for client: passClient
2019-09-19 10:41:12.379 +08:00 [DBG] Getting claims for access token for subject: 818727
2019-09-19 10:41:12.387 +08:00 [DBG] Get profile called for subject 818727 from client passClient with claim types ["name","role"] via ClaimsProviderAccessToken
2019-09-19 10:41:12.390 +08:00 [DBG] Issued claims: ["name"]
2019-09-19 10:41:12.458 +08:00 [INF] {"ClientId":"passClient","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"818727","Scopes":"openid profile roles blog.core.api","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****HOrA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPSLBA5UEM1:00000003","TimeStamp":"2019-09-19T02:41:12.0000000Z","ProcessId":17380,"LocalIpAddress":"127.0.0.1:35208","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-09-19 10:41:12.459 +08:00 [DBG] Token request success.
2019-09-19 10:41:51.597 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 10:41:51.634 +08:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-09-19 10:41:51.642 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 10:41:51.642 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 10:41:51.642 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 10:41:51.642 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 10:41:51.642 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 10:41:51.642 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 10:41:52.579 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 10:41:52.581 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 10:41:52.581 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 10:41:52.581 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 10:41:52.581 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 10:41:52.581 +08:00 [DBG] Error Url: /home/error
2019-09-19 10:41:52.581 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 10:41:54.807 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:41:54.822 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:41:54.823 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:41:54.832 +08:00 [DBG] Start token request.
2019-09-19 10:41:54.838 +08:00 [DBG] Start client validation
2019-09-19 10:41:54.844 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:41:54.847 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:41:54.861 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:41:54.861 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:41:54.891 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:41:54.908 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:41:54.908 +08:00 [DBG] Client validation success
2019-09-19 10:41:54.933 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSLBMOEU3I:00000002","TimeStamp":"2019-09-19T02:41:54.0000000Z","ProcessId":19040,"LocalIpAddress":"127.0.0.1:2892","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 10:41:54.958 +08:00 [DBG] Start token request validation
2019-09-19 10:41:54.971 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 10:41:55.014 +08:00 [DBG] IsActive called from: ResourceOwnerValidation
2019-09-19 10:41:55.018 +08:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"818727","DisplayName":null,"Endpoint":"Token","ClientId":"passClient","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPSLBMOEU3I:00000002","TimeStamp":"2019-09-19T02:41:55.0000000Z","ProcessId":19040,"LocalIpAddress":"127.0.0.1:2892","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-09-19 10:41:55.018 +08:00 [DBG] Resource owner password token request validation success.
2019-09-19 10:41:55.026 +08:00 [INF] Token request validation success, {"ClientId":"passClient","ClientName":null,"GrantType":"password","Scopes":"openid profile roles rss","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 10:41:55.052 +08:00 [DBG] Getting claims for access token for client: passClient
2019-09-19 10:41:55.052 +08:00 [DBG] Getting claims for access token for subject: 818727
2019-09-19 10:41:55.058 +08:00 [DBG] Get profile called for subject 818727 from client passClient with claim types ["name","role"] via ClaimsProviderAccessToken
2019-09-19 10:41:55.061 +08:00 [DBG] Issued claims: ["name"]
2019-09-19 10:41:55.133 +08:00 [INF] {"ClientId":"passClient","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"818727","Scopes":"openid profile roles rss","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****sbHA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPSLBMOEU3I:00000002","TimeStamp":"2019-09-19T02:41:55.0000000Z","ProcessId":19040,"LocalIpAddress":"127.0.0.1:2892","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-09-19 10:41:55.134 +08:00 [DBG] Token request success.
2019-09-19 10:44:52.988 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 10:44:53.033 +08:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-09-19 10:44:53.042 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 10:44:53.042 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 10:44:53.042 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 10:44:53.042 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 10:44:53.042 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 10:44:53.042 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 10:44:53.769 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 10:44:53.771 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 10:44:53.771 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 10:44:53.771 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 10:44:53.771 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 10:44:53.771 +08:00 [DBG] Error Url: /home/error
2019-09-19 10:44:53.771 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 10:44:55.813 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:44:55.823 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:44:55.823 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:44:55.831 +08:00 [DBG] Start token request.
2019-09-19 10:44:55.839 +08:00 [DBG] Start client validation
2019-09-19 10:44:55.844 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:44:55.848 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:44:55.875 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:44:55.875 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:44:55.895 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:44:55.910 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:44:55.910 +08:00 [DBG] Client validation success
2019-09-19 10:44:55.938 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSLDCP2F06:00000002","TimeStamp":"2019-09-19T02:44:55.0000000Z","ProcessId":6616,"LocalIpAddress":"127.0.0.1:14621","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 10:44:55.962 +08:00 [DBG] Start token request validation
2019-09-19 10:44:55.975 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 10:44:56.439 +08:00 [INF] {"Details":"System.Exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: rss\r\n   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Extensions\\IResourceStoreExtensions.cs:line 58\r\n   at IdentityServer4.Stores.IResourceStoreExtensions.FindResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Extensions\\IResourceStoreExtensions.cs:line 31\r\n   at IdentityServer4.Stores.IResourceStoreExtensions.FindEnabledResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Extensions\\IResourceStoreExtensions.cs:line 95\r\n   at IdentityServer4.Validation.ScopeValidator.AreScopesAllowedAsync(Client client, IEnumerable`1 requestedScopes) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\ScopeValidator.cs:line 220\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestedScopesAsync(NameValueCollection parameters, Boolean ignoreImplicitIdentityScopes, Boolean ignoreImplicitOfflineAccess) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 679\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 378\r\n   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 151\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 138\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 88\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 70\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Hosting\\IdentityServerMiddleware.cs:line 54","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: rss","ActivityId":"0HLPSLDCP2F06:00000002","TimeStamp":"2019-09-19T02:44:56.0000000Z","ProcessId":6616,"LocalIpAddress":"127.0.0.1:14621","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2019-09-19 10:44:56.439 +08:00 [FTL] Unhandled exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: rss
System.Exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: rss
   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 58
   at IdentityServer4.Stores.IResourceStoreExtensions.FindResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 31
   at IdentityServer4.Stores.IResourceStoreExtensions.FindEnabledResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 95
   at IdentityServer4.Validation.ScopeValidator.AreScopesAllowedAsync(Client client, IEnumerable`1 requestedScopes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\ScopeValidator.cs:line 220
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestedScopesAsync(NameValueCollection parameters, Boolean ignoreImplicitIdentityScopes, Boolean ignoreImplicitOfflineAccess) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 679
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 378
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 10:44:56.577 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Found identity scopes and API scopes that use the same names. This is an invalid configuration. Use different names for identity scopes and API scopes. Scopes found: rss
   at IdentityServer4.Stores.IResourceStoreExtensions.Validate(IEnumerable`1 identity, IEnumerable`1 apiResources) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 58
   at IdentityServer4.Stores.IResourceStoreExtensions.FindResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 31
   at IdentityServer4.Stores.IResourceStoreExtensions.FindEnabledResourcesByScopeAsync(IResourceStore store, IEnumerable`1 scopeNames) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Extensions\IResourceStoreExtensions.cs:line 95
   at IdentityServer4.Validation.ScopeValidator.AreScopesAllowedAsync(Client client, IEnumerable`1 requestedScopes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\ScopeValidator.cs:line 220
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestedScopesAsync(NameValueCollection parameters, Boolean ignoreImplicitIdentityScopes, Boolean ignoreImplicitOfflineAccess) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 679
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 378
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 10:45:12.504 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 10:45:12.540 +08:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-09-19 10:45:12.549 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 10:45:12.549 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 10:45:12.550 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 10:45:12.550 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 10:45:12.550 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 10:45:12.550 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 10:45:13.269 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 10:45:13.270 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 10:45:13.270 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 10:45:13.270 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 10:45:13.270 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 10:45:13.270 +08:00 [DBG] Error Url: /home/error
2019-09-19 10:45:13.270 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 10:45:15.271 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:45:15.281 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:45:15.281 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:45:15.288 +08:00 [DBG] Start token request.
2019-09-19 10:45:15.294 +08:00 [DBG] Start client validation
2019-09-19 10:45:15.299 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:45:15.303 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:45:15.338 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:45:15.338 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:45:15.358 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:45:15.368 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:45:15.369 +08:00 [DBG] Client validation success
2019-09-19 10:45:15.393 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSLDIIRHQC:00000002","TimeStamp":"2019-09-19T02:45:15.0000000Z","ProcessId":15968,"LocalIpAddress":"127.0.0.1:8143","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 10:45:15.425 +08:00 [DBG] Start token request validation
2019-09-19 10:45:15.440 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 10:45:15.480 +08:00 [DBG] IsActive called from: ResourceOwnerValidation
2019-09-19 10:45:15.484 +08:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"818727","DisplayName":null,"Endpoint":"Token","ClientId":"passClient","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPSLDIIRHQC:00000002","TimeStamp":"2019-09-19T02:45:15.0000000Z","ProcessId":15968,"LocalIpAddress":"127.0.0.1:8143","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-09-19 10:45:15.484 +08:00 [DBG] Resource owner password token request validation success.
2019-09-19 10:45:15.492 +08:00 [INF] Token request validation success, {"ClientId":"passClient","ClientName":null,"GrantType":"password","Scopes":"openid profile roles rss","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 10:45:15.518 +08:00 [DBG] Getting claims for access token for client: passClient
2019-09-19 10:45:15.519 +08:00 [DBG] Getting claims for access token for subject: 818727
2019-09-19 10:45:15.524 +08:00 [DBG] Get profile called for subject 818727 from client passClient with claim types ["name","role"] via ClaimsProviderAccessToken
2019-09-19 10:45:15.528 +08:00 [DBG] Issued claims: ["name"]
2019-09-19 10:45:15.614 +08:00 [INF] {"ClientId":"passClient","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"818727","Scopes":"openid profile rss roles","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****Ee0A","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPSLDIIRHQC:00000002","TimeStamp":"2019-09-19T02:45:15.0000000Z","ProcessId":15968,"LocalIpAddress":"127.0.0.1:8143","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-09-19 10:45:15.617 +08:00 [DBG] Token request success.
2019-09-19 10:46:41.022 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 10:46:41.395 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 10:46:41.395 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 10:46:41.395 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 10:46:41.395 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 10:46:41.396 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 10:46:41.396 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 10:46:41.888 +08:00 [DBG] Starting grant removal
2019-09-19 10:46:42.248 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 10:46:42.250 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 10:46:42.250 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 10:46:42.250 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 10:46:42.250 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 10:46:42.250 +08:00 [DBG] Error Url: /home/error
2019-09-19 10:46:42.250 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 10:47:10.664 +08:00 [ERR] The view 'Index' was not found. Searched locations: ["/Views/ApiResource/Index.cshtml","/Views/Shared/Index.cshtml","/Pages/Shared/Index.cshtml"]
2019-09-19 10:47:11.204 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'Index' was not found. The following locations were searched:
/Views/ApiResource/Index.cshtml
/Views/Shared/Index.cshtml
/Pages/Shared/Index.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 10:47:41.909 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:47:41.936 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:47:41.936 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:47:41.943 +08:00 [DBG] Start token request.
2019-09-19 10:47:41.950 +08:00 [DBG] Start client validation
2019-09-19 10:47:41.959 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:47:41.967 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:47:41.989 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:47:41.989 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:47:43.207 +08:00 [DBG] passClient found in database: true
2019-09-19 10:47:43.218 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:47:43.226 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:47:43.226 +08:00 [DBG] Client validation success
2019-09-19 10:47:43.240 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSLED3MFR5:00000004","TimeStamp":"2019-09-19T02:47:43.0000000Z","ProcessId":15300,"LocalIpAddress":"127.0.0.1:6876","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 10:47:43.250 +08:00 [DBG] Start token request validation
2019-09-19 10:47:43.261 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 10:47:43.484 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 10:47:43.624 +08:00 [DBG] Found [] API scopes in database
2019-09-19 10:47:43.810 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 10:47:43.887 +08:00 [DBG] Found [] API scopes in database
2019-09-19 10:47:44.083 +08:00 [INF] {"Details":"System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 414\r\n   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 151\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 138\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 88\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 70\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Hosting\\IdentityServerMiddleware.cs:line 54","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.","ActivityId":"0HLPSLED3MFR5:00000004","TimeStamp":"2019-09-19T02:47:44.0000000Z","ProcessId":15300,"LocalIpAddress":"127.0.0.1:6876","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2019-09-19 10:47:44.083 +08:00 [FTL] Unhandled exception: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 10:47:44.210 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 10:47:55.205 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:47:55.206 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:47:55.207 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:47:55.207 +08:00 [DBG] Start token request.
2019-09-19 10:47:55.207 +08:00 [DBG] Start client validation
2019-09-19 10:47:55.207 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:47:55.207 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:47:55.208 +08:00 [DBG] client id without secret found
2019-09-19 10:47:55.208 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:47:55.208 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:47:55.929 +08:00 [DBG] passClient found in database: true
2019-09-19 10:47:55.929 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:47:55.929 +08:00 [DBG] Hashed shared secret validator cannot process NoSecret
2019-09-19 10:47:55.929 +08:00 [DBG] Secret validators could not validate secret
2019-09-19 10:47:55.929 +08:00 [INF] {"ClientId":"passClient","Category":"Authentication","Name":"Client Authentication Failure","EventType":"Failure","Id":1011,"Message":"Invalid client secret","ActivityId":"0HLPSLED3MFR6:00000004","TimeStamp":"2019-09-19T02:47:55.0000000Z","ProcessId":15300,"LocalIpAddress":"127.0.0.1:6876","RemoteIpAddress":"::1","$type":"ClientAuthenticationFailureEvent"}
2019-09-19 10:47:55.929 +08:00 [ERR] Client secret validation failed for client: passClient.
2019-09-19 10:48:54.418 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:48:54.421 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:48:54.421 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:48:54.421 +08:00 [DBG] Start token request.
2019-09-19 10:48:54.421 +08:00 [DBG] Start client validation
2019-09-19 10:48:54.421 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:48:54.421 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:48:54.422 +08:00 [DBG] No secret in post body found
2019-09-19 10:48:54.422 +08:00 [DBG] Parser found no secret
2019-09-19 10:48:54.422 +08:00 [INF] {"ClientId":"unknown","Category":"Authentication","Name":"Client Authentication Failure","EventType":"Failure","Id":1011,"Message":"No client id found","ActivityId":"0HLPSLED3MFR6:00000005","TimeStamp":"2019-09-19T02:48:54.0000000Z","ProcessId":15300,"LocalIpAddress":"127.0.0.1:6876","RemoteIpAddress":"::1","$type":"ClientAuthenticationFailureEvent"}
2019-09-19 10:48:54.422 +08:00 [ERR] No client identifier found
2019-09-19 10:49:08.797 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:49:08.797 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:49:08.797 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:49:08.797 +08:00 [DBG] Start token request.
2019-09-19 10:49:08.798 +08:00 [DBG] Start client validation
2019-09-19 10:49:08.798 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:49:08.798 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:49:08.798 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:49:08.798 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:49:09.506 +08:00 [DBG] passClient found in database: true
2019-09-19 10:49:09.506 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:49:09.506 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:49:09.506 +08:00 [DBG] Client validation success
2019-09-19 10:49:09.506 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSLED3MFR6:00000006","TimeStamp":"2019-09-19T02:49:09.0000000Z","ProcessId":15300,"LocalIpAddress":"127.0.0.1:6876","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 10:49:09.506 +08:00 [DBG] Start token request validation
2019-09-19 10:49:09.506 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 10:49:09.685 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 10:49:09.762 +08:00 [DBG] Found [] API scopes in database
2019-09-19 10:49:09.938 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 10:49:10.014 +08:00 [DBG] Found [] API scopes in database
2019-09-19 10:49:10.200 +08:00 [INF] {"Details":"System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 414\r\n   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 151\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 138\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 88\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 70\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Hosting\\IdentityServerMiddleware.cs:line 54","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.","ActivityId":"0HLPSLED3MFR6:00000006","TimeStamp":"2019-09-19T02:49:10.0000000Z","ProcessId":15300,"LocalIpAddress":"127.0.0.1:6876","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2019-09-19 10:49:10.200 +08:00 [FTL] Unhandled exception: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 10:49:10.345 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 10:50:28.009 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:50:28.010 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:50:28.010 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:50:28.010 +08:00 [DBG] Start token request.
2019-09-19 10:50:28.010 +08:00 [DBG] Start client validation
2019-09-19 10:50:28.010 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:50:28.010 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:50:28.022 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:50:28.022 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:50:28.970 +08:00 [DBG] passClient found in database: true
2019-09-19 10:50:28.970 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:50:28.970 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:50:28.970 +08:00 [DBG] Client validation success
2019-09-19 10:50:28.970 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSLED3MFR7:00000001","TimeStamp":"2019-09-19T02:50:28.0000000Z","ProcessId":15300,"LocalIpAddress":"127.0.0.1:6876","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 10:50:28.970 +08:00 [DBG] Start token request validation
2019-09-19 10:50:28.970 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 10:50:29.149 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 10:50:29.540 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 10:50:29.723 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 10:50:30.079 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 10:50:30.269 +08:00 [INF] {"Details":"System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 414\r\n   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 151\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 138\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 88\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 70\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Hosting\\IdentityServerMiddleware.cs:line 54","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.","ActivityId":"0HLPSLED3MFR7:00000001","TimeStamp":"2019-09-19T02:50:30.0000000Z","ProcessId":15300,"LocalIpAddress":"127.0.0.1:6876","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2019-09-19 10:50:30.269 +08:00 [FTL] Unhandled exception: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 10:50:30.403 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 10:51:42.644 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:51:42.666 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:51:42.666 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:51:42.667 +08:00 [DBG] Start token request.
2019-09-19 10:51:42.667 +08:00 [DBG] Start client validation
2019-09-19 10:51:42.667 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:51:42.667 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:51:42.667 +08:00 [DBG] client id without secret found
2019-09-19 10:51:42.668 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:51:42.668 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:51:43.392 +08:00 [DBG] passClient found in database: true
2019-09-19 10:51:43.392 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:51:43.392 +08:00 [DBG] Hashed shared secret validator cannot process NoSecret
2019-09-19 10:51:43.392 +08:00 [DBG] Secret validators could not validate secret
2019-09-19 10:51:43.392 +08:00 [INF] {"ClientId":"passClient","Category":"Authentication","Name":"Client Authentication Failure","EventType":"Failure","Id":1011,"Message":"Invalid client secret","ActivityId":"0HLPSLED3MFR8:00000001","TimeStamp":"2019-09-19T02:51:43.0000000Z","ProcessId":15300,"LocalIpAddress":"127.0.0.1:6876","RemoteIpAddress":"::1","$type":"ClientAuthenticationFailureEvent"}
2019-09-19 10:51:43.392 +08:00 [ERR] Client secret validation failed for client: passClient.
2019-09-19 10:51:46.270 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:51:46.270 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:51:46.271 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:51:46.271 +08:00 [DBG] Start token request.
2019-09-19 10:51:46.271 +08:00 [DBG] Start client validation
2019-09-19 10:51:46.271 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:51:46.271 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:51:46.271 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:51:46.271 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:51:46.989 +08:00 [DBG] passClient found in database: true
2019-09-19 10:51:46.989 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:51:46.989 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:51:46.989 +08:00 [DBG] Client validation success
2019-09-19 10:51:46.989 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSLED3MFR8:00000002","TimeStamp":"2019-09-19T02:51:46.0000000Z","ProcessId":15300,"LocalIpAddress":"127.0.0.1:6876","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 10:51:46.989 +08:00 [DBG] Start token request validation
2019-09-19 10:51:46.989 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 10:51:47.167 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 10:51:47.528 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 10:51:47.707 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 10:51:48.070 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 10:51:48.258 +08:00 [INF] {"Details":"System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 414\r\n   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 151\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 138\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 88\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 70\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Hosting\\IdentityServerMiddleware.cs:line 54","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.","ActivityId":"0HLPSLED3MFR8:00000002","TimeStamp":"2019-09-19T02:51:48.0000000Z","ProcessId":15300,"LocalIpAddress":"127.0.0.1:6876","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2019-09-19 10:51:48.258 +08:00 [FTL] Unhandled exception: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 10:51:48.396 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 10:55:14.103 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 10:55:14.464 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 10:55:14.465 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 10:55:14.467 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 10:55:14.467 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 10:55:14.467 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 10:55:14.467 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 10:55:14.936 +08:00 [DBG] Starting grant removal
2019-09-19 10:55:15.161 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 10:55:15.163 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 10:55:15.163 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 10:55:15.163 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 10:55:15.163 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 10:55:15.163 +08:00 [DBG] Error Url: /home/error
2019-09-19 10:55:15.163 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 10:55:16.683 +08:00 [WRN] Query: '(from ClientRedirectUri t in [x].RedirectUris select [t].RedirectUri).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-19 10:55:16.688 +08:00 [WRN] Query: '(from ClientPostLogoutRedirectUri r in [x].PostLogoutRedirectUris select [r].PostLogoutRedirectUri)....' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-19 10:55:16.688 +08:00 [WRN] Query: '(from ClientSecret t in [x].ClientSecrets select [t].Value).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-19 10:55:43.097 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:55:43.126 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:55:43.127 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:55:43.133 +08:00 [DBG] Start token request.
2019-09-19 10:55:43.140 +08:00 [DBG] Start client validation
2019-09-19 10:55:43.144 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:55:43.148 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:55:43.169 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:55:43.169 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:55:44.505 +08:00 [DBG] passClient found in database: true
2019-09-19 10:55:44.517 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:55:44.526 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:55:44.526 +08:00 [DBG] Client validation success
2019-09-19 10:55:44.539 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSLJ5V7M8H:00000005","TimeStamp":"2019-09-19T02:55:44.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 10:55:44.561 +08:00 [DBG] Start token request validation
2019-09-19 10:55:44.574 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 10:55:44.579 +08:00 [ERR] Client not authorized for resource owner flow, check the AllowedGrantTypes setting{"client_id":"passClient"}, details: {"ClientId":"passClient","ClientName":"passClient","GrantType":"password","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"password","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 10:55:44.582 +08:00 [INF] {"ClientId":"passClient","ClientName":"passClient","RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":null,"GrantType":"password","Error":"unauthorized_client","ErrorDescription":null,"Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLPSLJ5V7M8H:00000005","TimeStamp":"2019-09-19T02:55:44.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-09-19 10:55:51.825 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:55:51.826 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:55:51.826 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:55:51.826 +08:00 [DBG] Start token request.
2019-09-19 10:55:51.826 +08:00 [DBG] Start client validation
2019-09-19 10:55:51.826 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:55:51.827 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:55:51.827 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:55:51.827 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:55:52.522 +08:00 [DBG] passClient found in database: true
2019-09-19 10:55:52.522 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:55:52.522 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:55:52.522 +08:00 [DBG] Client validation success
2019-09-19 10:55:52.522 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSLJ5V7M8J:00000004","TimeStamp":"2019-09-19T02:55:52.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 10:55:52.522 +08:00 [DBG] Start token request validation
2019-09-19 10:55:52.525 +08:00 [DBG] Start client credentials token request validation
2019-09-19 10:55:52.771 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 10:55:53.259 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 10:55:53.444 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 10:55:53.788 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 10:55:53.790 +08:00 [DBG] passClient credentials token request validation success
2019-09-19 10:55:53.790 +08:00 [INF] Token request validation success, {"ClientId":"passClient","ClientName":"passClient","GrantType":"client_credentials","Scopes":"roles rss","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 10:55:53.810 +08:00 [DBG] Getting claims for access token for client: passClient
2019-09-19 10:55:53.874 +08:00 [INF] {"ClientId":"passClient","ClientName":"passClient","RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"rss","GrantType":"client_credentials","Tokens":[{"TokenType":"access_token","TokenValue":"****zSyg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPSLJ5V7M8J:00000004","TimeStamp":"2019-09-19T02:55:53.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-09-19 10:55:53.876 +08:00 [DBG] Token request success.
2019-09-19 10:56:16.186 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 10:56:16.187 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 10:56:16.187 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 10:56:16.187 +08:00 [DBG] Start token request.
2019-09-19 10:56:16.187 +08:00 [DBG] Start client validation
2019-09-19 10:56:16.187 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 10:56:16.187 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 10:56:16.188 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 10:56:16.188 +08:00 [DBG] Secret id found: passClient
2019-09-19 10:56:16.882 +08:00 [DBG] passClient found in database: true
2019-09-19 10:56:16.882 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 10:56:16.882 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 10:56:16.882 +08:00 [DBG] Client validation success
2019-09-19 10:56:16.882 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSLJ5V7M8G:00000005","TimeStamp":"2019-09-19T02:56:16.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 10:56:16.882 +08:00 [DBG] Start token request validation
2019-09-19 10:56:16.882 +08:00 [DBG] Start client credentials token request validation
2019-09-19 10:56:17.055 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 10:56:17.404 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 10:56:17.575 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 10:56:17.922 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 10:56:17.922 +08:00 [DBG] passClient credentials token request validation success
2019-09-19 10:56:17.922 +08:00 [INF] Token request validation success, {"ClientId":"passClient","ClientName":"passClient","GrantType":"client_credentials","Scopes":"roles rss","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 10:56:17.922 +08:00 [DBG] Getting claims for access token for client: passClient
2019-09-19 10:56:17.924 +08:00 [INF] {"ClientId":"passClient","ClientName":"passClient","RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"rss","GrantType":"client_credentials","Tokens":[{"TokenType":"access_token","TokenValue":"****FxOw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPSLJ5V7M8G:00000005","TimeStamp":"2019-09-19T02:56:17.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-09-19 10:56:17.924 +08:00 [DBG] Token request success.
2019-09-19 11:02:51.863 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 11:02:51.865 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 11:02:51.865 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 11:02:51.865 +08:00 [DBG] Start token request.
2019-09-19 11:02:51.865 +08:00 [DBG] Start client validation
2019-09-19 11:02:51.865 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 11:02:51.865 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 11:02:51.866 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 11:02:51.866 +08:00 [DBG] Secret id found: passClient
2019-09-19 11:02:52.831 +08:00 [DBG] passClient found in database: true
2019-09-19 11:02:52.831 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 11:02:52.831 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 11:02:52.832 +08:00 [DBG] Client validation success
2019-09-19 11:02:52.832 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSLJ5V7M8K:00000001","TimeStamp":"2019-09-19T03:02:52.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 11:02:52.832 +08:00 [DBG] Start token request validation
2019-09-19 11:02:52.832 +08:00 [DBG] Start client credentials token request validation
2019-09-19 11:02:53.055 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 11:02:53.420 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 11:02:53.619 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 11:02:54.011 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 11:02:54.011 +08:00 [DBG] passClient credentials token request validation success
2019-09-19 11:02:54.011 +08:00 [INF] Token request validation success, {"ClientId":"passClient","ClientName":"passClient","GrantType":"client_credentials","Scopes":"roles rss","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 11:02:54.011 +08:00 [DBG] Getting claims for access token for client: passClient
2019-09-19 11:02:54.013 +08:00 [INF] {"ClientId":"passClient","ClientName":"passClient","RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"rss","GrantType":"client_credentials","Tokens":[{"TokenType":"access_token","TokenValue":"****h15w","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPSLJ5V7M8K:00000001","TimeStamp":"2019-09-19T03:02:54.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-09-19 11:02:54.013 +08:00 [DBG] Token request success.
2019-09-19 11:03:13.004 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 11:03:13.005 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 11:03:13.005 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 11:03:13.005 +08:00 [DBG] Start token request.
2019-09-19 11:03:13.005 +08:00 [DBG] Start client validation
2019-09-19 11:03:13.005 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 11:03:13.005 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 11:03:13.005 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 11:03:13.006 +08:00 [DBG] Secret id found: passClient
2019-09-19 11:03:13.695 +08:00 [DBG] passClient found in database: true
2019-09-19 11:03:13.695 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 11:03:13.695 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 11:03:13.695 +08:00 [DBG] Client validation success
2019-09-19 11:03:13.695 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSLJ5V7M8K:00000002","TimeStamp":"2019-09-19T03:03:13.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 11:03:13.695 +08:00 [DBG] Start token request validation
2019-09-19 11:03:13.695 +08:00 [DBG] Start client credentials token request validation
2019-09-19 11:03:13.867 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 11:03:14.209 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 11:03:14.381 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 11:03:14.724 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 11:03:14.724 +08:00 [DBG] passClient credentials token request validation success
2019-09-19 11:03:14.724 +08:00 [INF] Token request validation success, {"ClientId":"passClient","ClientName":"passClient","GrantType":"client_credentials","Scopes":"roles rss","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"client_credentials","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 11:03:14.724 +08:00 [DBG] Getting claims for access token for client: passClient
2019-09-19 11:03:14.726 +08:00 [INF] {"ClientId":"passClient","ClientName":"passClient","RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"rss","GrantType":"client_credentials","Tokens":[{"TokenType":"access_token","TokenValue":"****BSzw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPSLJ5V7M8K:00000002","TimeStamp":"2019-09-19T03:03:14.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-09-19 11:03:14.726 +08:00 [DBG] Token request success.
2019-09-19 11:03:16.587 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 11:03:16.588 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 11:03:16.589 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 11:03:16.589 +08:00 [DBG] Start token request.
2019-09-19 11:03:16.589 +08:00 [DBG] Start client validation
2019-09-19 11:03:16.589 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 11:03:16.589 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 11:03:16.640 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 11:03:16.640 +08:00 [DBG] Secret id found: passClient
2019-09-19 11:03:17.329 +08:00 [DBG] passClient found in database: true
2019-09-19 11:03:17.329 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 11:03:17.329 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 11:03:17.329 +08:00 [DBG] Client validation success
2019-09-19 11:03:17.329 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSLJ5V7M8K:00000003","TimeStamp":"2019-09-19T03:03:17.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 11:03:17.331 +08:00 [DBG] Start token request validation
2019-09-19 11:03:17.331 +08:00 [DBG] Start client credentials token request validation
2019-09-19 11:03:17.503 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 11:03:17.846 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 11:03:18.019 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 11:03:18.364 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 11:03:18.364 +08:00 [DBG] passClient credentials token request validation success
2019-09-19 11:03:18.365 +08:00 [INF] Token request validation success, {"ClientId":"passClient","ClientName":"passClient","GrantType":"client_credentials","Scopes":"roles rss","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"client_credentials","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 11:03:18.365 +08:00 [DBG] Getting claims for access token for client: passClient
2019-09-19 11:03:18.367 +08:00 [INF] {"ClientId":"passClient","ClientName":"passClient","RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"rss","GrantType":"client_credentials","Tokens":[{"TokenType":"access_token","TokenValue":"****dswQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPSLJ5V7M8K:00000003","TimeStamp":"2019-09-19T03:03:18.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-09-19 11:03:18.367 +08:00 [DBG] Token request success.
2019-09-19 11:03:29.589 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 11:03:29.590 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 11:03:29.590 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 11:03:29.590 +08:00 [DBG] Start token request.
2019-09-19 11:03:29.590 +08:00 [DBG] Start client validation
2019-09-19 11:03:29.590 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 11:03:29.590 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 11:03:29.591 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 11:03:29.591 +08:00 [DBG] Secret id found: passClient
2019-09-19 11:03:30.275 +08:00 [DBG] passClient found in database: true
2019-09-19 11:03:30.275 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 11:03:30.275 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 11:03:30.275 +08:00 [DBG] Client validation success
2019-09-19 11:03:30.276 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSLJ5V7M8K:00000004","TimeStamp":"2019-09-19T03:03:30.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 11:03:30.276 +08:00 [DBG] Start token request validation
2019-09-19 11:03:30.276 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 11:03:30.447 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 11:03:30.786 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 11:03:30.981 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 11:03:31.337 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 11:03:31.594 +08:00 [INF] {"Details":"System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 414\r\n   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 151\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 138\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 88\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 70\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Hosting\\IdentityServerMiddleware.cs:line 54","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.","ActivityId":"0HLPSLJ5V7M8K:00000004","TimeStamp":"2019-09-19T03:03:31.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2019-09-19 11:03:31.594 +08:00 [FTL] Unhandled exception: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 11:03:31.731 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 11:03:38.043 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 11:03:38.046 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 11:03:38.047 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 11:03:38.047 +08:00 [DBG] Start token request.
2019-09-19 11:03:38.047 +08:00 [DBG] Start client validation
2019-09-19 11:03:38.047 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 11:03:38.047 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 11:03:38.050 +08:00 [DBG] No secret in post body found
2019-09-19 11:03:38.050 +08:00 [DBG] Parser found no secret
2019-09-19 11:03:38.051 +08:00 [INF] {"ClientId":"unknown","Category":"Authentication","Name":"Client Authentication Failure","EventType":"Failure","Id":1011,"Message":"No client id found","ActivityId":"0HLPSLJ5V7M8K:00000005","TimeStamp":"2019-09-19T03:03:38.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"ClientAuthenticationFailureEvent"}
2019-09-19 11:03:38.051 +08:00 [ERR] No client identifier found
2019-09-19 11:03:41.010 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 11:03:41.010 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 11:03:41.011 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 11:03:41.011 +08:00 [DBG] Start token request.
2019-09-19 11:03:41.011 +08:00 [DBG] Start client validation
2019-09-19 11:03:41.011 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 11:03:41.011 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 11:03:41.011 +08:00 [DBG] client id without secret found
2019-09-19 11:03:41.011 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 11:03:41.011 +08:00 [DBG] Secret id found: passClient
2019-09-19 11:03:41.698 +08:00 [DBG] passClient found in database: true
2019-09-19 11:03:41.699 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 11:03:41.699 +08:00 [DBG] Hashed shared secret validator cannot process NoSecret
2019-09-19 11:03:41.699 +08:00 [DBG] Secret validators could not validate secret
2019-09-19 11:03:41.699 +08:00 [INF] {"ClientId":"passClient","Category":"Authentication","Name":"Client Authentication Failure","EventType":"Failure","Id":1011,"Message":"Invalid client secret","ActivityId":"0HLPSLJ5V7M8K:00000006","TimeStamp":"2019-09-19T03:03:41.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"ClientAuthenticationFailureEvent"}
2019-09-19 11:03:41.699 +08:00 [ERR] Client secret validation failed for client: passClient.
2019-09-19 11:03:44.064 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 11:03:44.068 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 11:03:44.068 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 11:03:44.068 +08:00 [DBG] Start token request.
2019-09-19 11:03:44.068 +08:00 [DBG] Start client validation
2019-09-19 11:03:44.068 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 11:03:44.069 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 11:03:44.069 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 11:03:44.069 +08:00 [DBG] Secret id found: passClient
2019-09-19 11:03:44.757 +08:00 [DBG] passClient found in database: true
2019-09-19 11:03:44.757 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 11:03:44.757 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 11:03:44.757 +08:00 [DBG] Client validation success
2019-09-19 11:03:44.757 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSLJ5V7M8K:00000007","TimeStamp":"2019-09-19T03:03:44.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 11:03:44.757 +08:00 [DBG] Start token request validation
2019-09-19 11:03:44.757 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 11:03:44.930 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 11:03:45.276 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 11:03:45.448 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 11:03:45.834 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 11:03:46.024 +08:00 [INF] {"Details":"System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 414\r\n   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 151\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 138\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 88\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 70\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Hosting\\IdentityServerMiddleware.cs:line 54","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.","ActivityId":"0HLPSLJ5V7M8K:00000007","TimeStamp":"2019-09-19T03:03:46.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2019-09-19 11:03:46.024 +08:00 [FTL] Unhandled exception: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 11:03:46.166 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 11:07:58.192 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 11:07:58.194 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 11:07:58.194 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 11:07:58.194 +08:00 [DBG] Start token request.
2019-09-19 11:07:58.194 +08:00 [DBG] Start client validation
2019-09-19 11:07:58.194 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 11:07:58.194 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 11:07:58.194 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 11:07:58.195 +08:00 [DBG] Secret id found: passClient
2019-09-19 11:07:59.076 +08:00 [DBG] passClient found in database: true
2019-09-19 11:07:59.076 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 11:07:59.076 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 11:07:59.076 +08:00 [DBG] Client validation success
2019-09-19 11:07:59.076 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSLJ5V7M8L:00000001","TimeStamp":"2019-09-19T03:07:59.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 11:07:59.076 +08:00 [DBG] Start token request validation
2019-09-19 11:07:59.076 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 11:07:59.153 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 11:07:59.514 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 11:07:59.591 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 11:07:59.952 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 11:08:00.137 +08:00 [INF] {"Details":"System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 414\r\n   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 151\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 138\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 88\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 70\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Hosting\\IdentityServerMiddleware.cs:line 54","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.","ActivityId":"0HLPSLJ5V7M8L:00000001","TimeStamp":"2019-09-19T03:08:00.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2019-09-19 11:08:00.137 +08:00 [FTL] Unhandled exception: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 11:08:00.282 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 11:08:05.962 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 11:08:05.964 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 11:08:05.964 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 11:08:05.964 +08:00 [DBG] Start token request.
2019-09-19 11:08:05.964 +08:00 [DBG] Start client validation
2019-09-19 11:08:05.964 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 11:08:05.965 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 11:08:05.965 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 11:08:05.965 +08:00 [DBG] Secret id found: passClient
2019-09-19 11:08:06.685 +08:00 [DBG] passClient found in database: true
2019-09-19 11:08:06.685 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 11:08:06.685 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 11:08:06.685 +08:00 [DBG] Client validation success
2019-09-19 11:08:06.685 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSLJ5V7M8L:00000002","TimeStamp":"2019-09-19T03:08:06.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 11:08:06.686 +08:00 [DBG] Start token request validation
2019-09-19 11:08:06.686 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 11:08:06.865 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 11:08:06.943 +08:00 [DBG] Found [] API scopes in database
2019-09-19 11:08:07.123 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 11:08:07.200 +08:00 [DBG] Found [] API scopes in database
2019-09-19 11:08:07.394 +08:00 [INF] {"Details":"System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 414\r\n   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 151\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 138\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 88\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 70\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Hosting\\IdentityServerMiddleware.cs:line 54","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.","ActivityId":"0HLPSLJ5V7M8L:00000002","TimeStamp":"2019-09-19T03:08:07.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2019-09-19 11:08:07.394 +08:00 [FTL] Unhandled exception: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 11:08:07.542 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 11:08:15.036 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 11:08:15.036 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 11:08:15.037 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 11:08:15.037 +08:00 [DBG] Start token request.
2019-09-19 11:08:15.037 +08:00 [DBG] Start client validation
2019-09-19 11:08:15.037 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 11:08:15.037 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 11:08:15.043 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 11:08:15.043 +08:00 [DBG] Secret id found: passClient
2019-09-19 11:08:15.751 +08:00 [DBG] passClient found in database: true
2019-09-19 11:08:15.751 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 11:08:15.751 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 11:08:15.751 +08:00 [DBG] Client validation success
2019-09-19 11:08:15.752 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSLJ5V7M8L:00000003","TimeStamp":"2019-09-19T03:08:15.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 11:08:15.752 +08:00 [DBG] Start token request validation
2019-09-19 11:08:15.752 +08:00 [DBG] Start client credentials token request validation
2019-09-19 11:08:15.932 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 11:08:16.010 +08:00 [DBG] Found [] API scopes in database
2019-09-19 11:08:16.190 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 11:08:16.267 +08:00 [DBG] Found [] API scopes in database
2019-09-19 11:08:16.268 +08:00 [ERR] Client cannot request OpenID scopes in client credentials flow{"clientId":"passClient"}, details: {"ClientId":"passClient","ClientName":"passClient","GrantType":"client_credentials","Scopes":"roles","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"client_credentials","client_id":"passClient","client_secret":"***REDACTED***","scope":"roles"},"$type":"TokenRequestValidationLog"}
2019-09-19 11:08:16.268 +08:00 [INF] {"ClientId":"passClient","ClientName":"passClient","RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"roles","GrantType":"client_credentials","Error":"invalid_scope","ErrorDescription":null,"Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLPSLJ5V7M8L:00000003","TimeStamp":"2019-09-19T03:08:16.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-09-19 11:08:22.678 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 11:08:22.678 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 11:08:22.679 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 11:08:22.679 +08:00 [DBG] Start token request.
2019-09-19 11:08:22.679 +08:00 [DBG] Start client validation
2019-09-19 11:08:22.679 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 11:08:22.679 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 11:08:22.679 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 11:08:22.679 +08:00 [DBG] Secret id found: passClient
2019-09-19 11:08:23.392 +08:00 [DBG] passClient found in database: true
2019-09-19 11:08:23.392 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 11:08:23.392 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 11:08:23.392 +08:00 [DBG] Client validation success
2019-09-19 11:08:23.392 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSLJ5V7M8L:00000004","TimeStamp":"2019-09-19T03:08:23.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 11:08:23.392 +08:00 [DBG] Start token request validation
2019-09-19 11:08:23.392 +08:00 [DBG] Start client credentials token request validation
2019-09-19 11:08:23.469 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 11:08:23.828 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 11:08:23.905 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 11:08:24.264 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 11:08:24.264 +08:00 [DBG] passClient credentials token request validation success
2019-09-19 11:08:24.264 +08:00 [INF] Token request validation success, {"ClientId":"passClient","ClientName":"passClient","GrantType":"client_credentials","Scopes":"rss","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"client_credentials","client_id":"passClient","client_secret":"***REDACTED***","scope":"rss"},"$type":"TokenRequestValidationLog"}
2019-09-19 11:08:24.264 +08:00 [DBG] Getting claims for access token for client: passClient
2019-09-19 11:08:24.266 +08:00 [INF] {"ClientId":"passClient","ClientName":"passClient","RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"rss","GrantType":"client_credentials","Tokens":[{"TokenType":"access_token","TokenValue":"****ITNg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPSLJ5V7M8L:00000004","TimeStamp":"2019-09-19T03:08:24.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-09-19 11:08:24.266 +08:00 [DBG] Token request success.
2019-09-19 11:08:53.195 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 11:08:53.195 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 11:08:53.196 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 11:08:53.196 +08:00 [DBG] Start token request.
2019-09-19 11:08:53.196 +08:00 [DBG] Start client validation
2019-09-19 11:08:53.196 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 11:08:53.196 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 11:08:53.196 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 11:08:53.196 +08:00 [DBG] Secret id found: passClient
2019-09-19 11:08:53.909 +08:00 [DBG] passClient found in database: true
2019-09-19 11:08:53.909 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 11:08:53.909 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 11:08:53.909 +08:00 [DBG] Client validation success
2019-09-19 11:08:53.909 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSLJ5V7M8L:00000005","TimeStamp":"2019-09-19T03:08:53.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 11:08:53.909 +08:00 [DBG] Start token request validation
2019-09-19 11:08:53.909 +08:00 [DBG] Start client credentials token request validation
2019-09-19 11:08:54.089 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 11:08:54.446 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 11:08:54.626 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 11:08:54.988 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 11:08:54.988 +08:00 [DBG] passClient credentials token request validation success
2019-09-19 11:08:54.988 +08:00 [INF] Token request validation success, {"ClientId":"passClient","ClientName":"passClient","GrantType":"client_credentials","Scopes":"roles rss","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"client_credentials","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 11:08:54.988 +08:00 [DBG] Getting claims for access token for client: passClient
2019-09-19 11:08:54.990 +08:00 [INF] {"ClientId":"passClient","ClientName":"passClient","RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"rss","GrantType":"client_credentials","Tokens":[{"TokenType":"access_token","TokenValue":"****IMyA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPSLJ5V7M8L:00000005","TimeStamp":"2019-09-19T03:08:54.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-09-19 11:08:54.990 +08:00 [DBG] Token request success.
2019-09-19 11:08:58.454 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 11:08:58.455 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 11:08:58.455 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 11:08:58.455 +08:00 [DBG] Start token request.
2019-09-19 11:08:58.455 +08:00 [DBG] Start client validation
2019-09-19 11:08:58.455 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 11:08:58.455 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 11:08:58.455 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 11:08:58.455 +08:00 [DBG] Secret id found: passClient
2019-09-19 11:08:59.169 +08:00 [DBG] passClient found in database: true
2019-09-19 11:08:59.169 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 11:08:59.169 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 11:08:59.169 +08:00 [DBG] Client validation success
2019-09-19 11:08:59.169 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSLJ5V7M8L:00000006","TimeStamp":"2019-09-19T03:08:59.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 11:08:59.169 +08:00 [DBG] Start token request validation
2019-09-19 11:08:59.169 +08:00 [DBG] Start client credentials token request validation
2019-09-19 11:08:59.245 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 11:08:59.603 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 11:08:59.679 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 11:09:00.038 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 11:09:00.038 +08:00 [DBG] passClient credentials token request validation success
2019-09-19 11:09:00.038 +08:00 [INF] Token request validation success, {"ClientId":"passClient","ClientName":"passClient","GrantType":"client_credentials","Scopes":"rss","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"client_credentials","client_id":"passClient","client_secret":"***REDACTED***","scope":"rss"},"$type":"TokenRequestValidationLog"}
2019-09-19 11:09:00.038 +08:00 [DBG] Getting claims for access token for client: passClient
2019-09-19 11:09:00.040 +08:00 [INF] {"ClientId":"passClient","ClientName":"passClient","RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"rss","GrantType":"client_credentials","Tokens":[{"TokenType":"access_token","TokenValue":"****JrEw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPSLJ5V7M8L:00000006","TimeStamp":"2019-09-19T03:09:00.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-09-19 11:09:00.040 +08:00 [DBG] Token request success.
2019-09-19 11:09:06.044 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 11:09:06.045 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 11:09:06.045 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 11:09:06.045 +08:00 [DBG] Start token request.
2019-09-19 11:09:06.045 +08:00 [DBG] Start client validation
2019-09-19 11:09:06.045 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 11:09:06.045 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 11:09:06.053 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 11:09:06.053 +08:00 [DBG] Secret id found: passClient
2019-09-19 11:09:06.768 +08:00 [DBG] passClient found in database: true
2019-09-19 11:09:06.768 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 11:09:06.768 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 11:09:06.768 +08:00 [DBG] Client validation success
2019-09-19 11:09:06.768 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSLJ5V7M8L:00000007","TimeStamp":"2019-09-19T03:09:06.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 11:09:06.768 +08:00 [DBG] Start token request validation
2019-09-19 11:09:06.768 +08:00 [DBG] Start client credentials token request validation
2019-09-19 11:09:06.945 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 11:09:07.022 +08:00 [DBG] Found [] API scopes in database
2019-09-19 11:09:07.202 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 11:09:07.278 +08:00 [DBG] Found [] API scopes in database
2019-09-19 11:09:07.279 +08:00 [ERR] Client cannot request OpenID scopes in client credentials flow{"clientId":"passClient"}, details: {"ClientId":"passClient","ClientName":"passClient","GrantType":"client_credentials","Scopes":"roles","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"client_credentials","client_id":"passClient","client_secret":"***REDACTED***","scope":"roles"},"$type":"TokenRequestValidationLog"}
2019-09-19 11:09:07.279 +08:00 [INF] {"ClientId":"passClient","ClientName":"passClient","RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"roles","GrantType":"client_credentials","Error":"invalid_scope","ErrorDescription":null,"Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLPSLJ5V7M8L:00000007","TimeStamp":"2019-09-19T03:09:07.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-09-19 11:09:10.346 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 11:09:10.348 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 11:09:10.348 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 11:09:10.348 +08:00 [DBG] Start token request.
2019-09-19 11:09:10.348 +08:00 [DBG] Start client validation
2019-09-19 11:09:10.348 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 11:09:10.348 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 11:09:10.372 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 11:09:10.372 +08:00 [DBG] Secret id found: passClient
2019-09-19 11:09:11.080 +08:00 [DBG] passClient found in database: true
2019-09-19 11:09:11.080 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 11:09:11.080 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 11:09:11.080 +08:00 [DBG] Client validation success
2019-09-19 11:09:11.080 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSLJ5V7M8L:00000008","TimeStamp":"2019-09-19T03:09:11.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 11:09:11.080 +08:00 [DBG] Start token request validation
2019-09-19 11:09:11.080 +08:00 [DBG] Start client credentials token request validation
2019-09-19 11:09:11.258 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 11:09:11.619 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 11:09:11.798 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 11:09:12.155 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 11:09:12.155 +08:00 [DBG] passClient credentials token request validation success
2019-09-19 11:09:12.155 +08:00 [INF] Token request validation success, {"ClientId":"passClient","ClientName":"passClient","GrantType":"client_credentials","Scopes":"roles rss","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"client_credentials","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 11:09:12.155 +08:00 [DBG] Getting claims for access token for client: passClient
2019-09-19 11:09:12.157 +08:00 [INF] {"ClientId":"passClient","ClientName":"passClient","RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"rss","GrantType":"client_credentials","Tokens":[{"TokenType":"access_token","TokenValue":"****3Erg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPSLJ5V7M8L:00000008","TimeStamp":"2019-09-19T03:09:12.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-09-19 11:09:12.157 +08:00 [DBG] Token request success.
2019-09-19 11:11:11.745 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 11:11:11.747 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 11:11:11.755 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 11:11:11.755 +08:00 [DBG] Start token request.
2019-09-19 11:11:11.755 +08:00 [DBG] Start client validation
2019-09-19 11:11:11.755 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 11:11:11.755 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 11:11:11.755 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 11:11:11.756 +08:00 [DBG] Secret id found: passClient
2019-09-19 11:11:12.472 +08:00 [DBG] passClient found in database: true
2019-09-19 11:11:12.472 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 11:11:12.473 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 11:11:12.473 +08:00 [DBG] Client validation success
2019-09-19 11:11:12.473 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSLJ5V7M8M:00000001","TimeStamp":"2019-09-19T03:11:12.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 11:11:12.473 +08:00 [DBG] Start token request validation
2019-09-19 11:11:12.473 +08:00 [DBG] Start client credentials token request validation
2019-09-19 11:11:12.652 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 11:11:13.014 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 11:11:13.195 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 11:11:13.560 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 11:11:13.560 +08:00 [DBG] passClient credentials token request validation success
2019-09-19 11:11:13.560 +08:00 [INF] Token request validation success, {"ClientId":"passClient","ClientName":"passClient","GrantType":"client_credentials","Scopes":"roles rss","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 11:11:13.560 +08:00 [DBG] Getting claims for access token for client: passClient
2019-09-19 11:11:13.562 +08:00 [INF] {"ClientId":"passClient","ClientName":"passClient","RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"rss","GrantType":"client_credentials","Tokens":[{"TokenType":"access_token","TokenValue":"****WiuA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPSLJ5V7M8M:00000001","TimeStamp":"2019-09-19T03:11:13.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-09-19 11:11:13.562 +08:00 [DBG] Token request success.
2019-09-19 11:12:02.304 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 11:12:02.308 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 11:12:02.309 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 11:12:02.309 +08:00 [DBG] Start token request.
2019-09-19 11:12:02.309 +08:00 [DBG] Start client validation
2019-09-19 11:12:02.309 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 11:12:02.309 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 11:12:02.310 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 11:12:02.310 +08:00 [DBG] Secret id found: passClient
2019-09-19 11:12:03.026 +08:00 [DBG] passClient found in database: true
2019-09-19 11:12:03.026 +08:00 [ERR] Invalid client configuration for client passClient: No redirect URI configured.
2019-09-19 11:12:03.026 +08:00 [INF] {"ClientId":"passClient","ClientName":"passClient","Category":"Error","Name":"Invalid Client Configuration","EventType":"Error","Id":3001,"Message":"No redirect URI configured.","ActivityId":"0HLPSLJ5V7M8M:00000002","TimeStamp":"2019-09-19T03:12:03.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"InvalidClientConfigurationEvent"}
2019-09-19 11:12:03.027 +08:00 [INF] {"ClientId":"passClient","Category":"Authentication","Name":"Client Authentication Failure","EventType":"Failure","Id":1011,"Message":"Unknown client","ActivityId":"0HLPSLJ5V7M8M:00000002","TimeStamp":"2019-09-19T03:12:03.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"ClientAuthenticationFailureEvent"}
2019-09-19 11:12:03.027 +08:00 [ERR] No client with id 'passClient' found. aborting
2019-09-19 11:12:06.403 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 11:12:06.404 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 11:12:06.404 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 11:12:06.404 +08:00 [DBG] Start token request.
2019-09-19 11:12:06.404 +08:00 [DBG] Start client validation
2019-09-19 11:12:06.404 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 11:12:06.404 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 11:12:06.408 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 11:12:06.408 +08:00 [DBG] Secret id found: passClient
2019-09-19 11:12:07.123 +08:00 [DBG] passClient found in database: true
2019-09-19 11:12:07.123 +08:00 [ERR] Invalid client configuration for client passClient: No redirect URI configured.
2019-09-19 11:12:07.124 +08:00 [INF] {"ClientId":"passClient","ClientName":"passClient","Category":"Error","Name":"Invalid Client Configuration","EventType":"Error","Id":3001,"Message":"No redirect URI configured.","ActivityId":"0HLPSLJ5V7M8M:00000003","TimeStamp":"2019-09-19T03:12:07.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"InvalidClientConfigurationEvent"}
2019-09-19 11:12:07.124 +08:00 [INF] {"ClientId":"passClient","Category":"Authentication","Name":"Client Authentication Failure","EventType":"Failure","Id":1011,"Message":"Unknown client","ActivityId":"0HLPSLJ5V7M8M:00000003","TimeStamp":"2019-09-19T03:12:07.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"ClientAuthenticationFailureEvent"}
2019-09-19 11:12:07.124 +08:00 [ERR] No client with id 'passClient' found. aborting
2019-09-19 11:12:14.879 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 11:12:14.885 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 11:12:14.885 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 11:12:14.885 +08:00 [DBG] Start token request.
2019-09-19 11:12:14.886 +08:00 [DBG] Start client validation
2019-09-19 11:12:14.886 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 11:12:14.886 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 11:12:14.890 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 11:12:14.891 +08:00 [DBG] Secret id found: passClient
2019-09-19 11:12:15.607 +08:00 [DBG] passClient found in database: true
2019-09-19 11:12:15.607 +08:00 [ERR] Invalid client configuration for client passClient: No redirect URI configured.
2019-09-19 11:12:15.608 +08:00 [INF] {"ClientId":"passClient","ClientName":"passClient","Category":"Error","Name":"Invalid Client Configuration","EventType":"Error","Id":3001,"Message":"No redirect URI configured.","ActivityId":"0HLPSLJ5V7M8M:00000004","TimeStamp":"2019-09-19T03:12:15.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"InvalidClientConfigurationEvent"}
2019-09-19 11:12:15.608 +08:00 [INF] {"ClientId":"passClient","Category":"Authentication","Name":"Client Authentication Failure","EventType":"Failure","Id":1011,"Message":"Unknown client","ActivityId":"0HLPSLJ5V7M8M:00000004","TimeStamp":"2019-09-19T03:12:15.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"ClientAuthenticationFailureEvent"}
2019-09-19 11:12:15.608 +08:00 [ERR] No client with id 'passClient' found. aborting
2019-09-19 11:12:30.958 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 11:12:30.959 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 11:12:30.959 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 11:12:30.959 +08:00 [DBG] Start token request.
2019-09-19 11:12:30.959 +08:00 [DBG] Start client validation
2019-09-19 11:12:30.959 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 11:12:30.959 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 11:12:30.960 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 11:12:30.960 +08:00 [DBG] Secret id found: passClient
2019-09-19 11:12:31.678 +08:00 [DBG] passClient found in database: true
2019-09-19 11:12:31.679 +08:00 [ERR] Invalid client configuration for client passClient: No redirect URI configured.
2019-09-19 11:12:31.679 +08:00 [INF] {"ClientId":"passClient","ClientName":"passClient","Category":"Error","Name":"Invalid Client Configuration","EventType":"Error","Id":3001,"Message":"No redirect URI configured.","ActivityId":"0HLPSLJ5V7M8M:00000005","TimeStamp":"2019-09-19T03:12:31.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"InvalidClientConfigurationEvent"}
2019-09-19 11:12:31.679 +08:00 [INF] {"ClientId":"passClient","Category":"Authentication","Name":"Client Authentication Failure","EventType":"Failure","Id":1011,"Message":"Unknown client","ActivityId":"0HLPSLJ5V7M8M:00000005","TimeStamp":"2019-09-19T03:12:31.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"ClientAuthenticationFailureEvent"}
2019-09-19 11:12:31.679 +08:00 [ERR] No client with id 'passClient' found. aborting
2019-09-19 11:13:12.381 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 11:13:12.382 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 11:13:12.382 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 11:13:12.382 +08:00 [DBG] Start token request.
2019-09-19 11:13:12.382 +08:00 [DBG] Start client validation
2019-09-19 11:13:12.382 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 11:13:12.382 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 11:13:12.388 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 11:13:12.389 +08:00 [DBG] Secret id found: passClient
2019-09-19 11:13:13.103 +08:00 [DBG] passClient found in database: true
2019-09-19 11:13:13.103 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 11:13:13.103 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 11:13:13.103 +08:00 [DBG] Client validation success
2019-09-19 11:13:13.103 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSLJ5V7M8M:00000006","TimeStamp":"2019-09-19T03:13:13.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 11:13:13.103 +08:00 [DBG] Start token request validation
2019-09-19 11:13:13.108 +08:00 [DBG] Start validation of custom grant token request
2019-09-19 11:13:13.109 +08:00 [ERR] Client does not have the custom grant type in the allowed list, therefore requested grant is not allowed{"clientId":"passClient"}, details: {"ClientId":"passClient","ClientName":"passClient","GrantType":"implicit","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"implicit","client_id":"passClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 11:13:13.109 +08:00 [INF] {"ClientId":"passClient","ClientName":"passClient","RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":null,"GrantType":"implicit","Error":"unsupported_grant_type","ErrorDescription":null,"Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLPSLJ5V7M8M:00000006","TimeStamp":"2019-09-19T03:13:13.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-09-19 11:13:18.073 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 11:13:18.074 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 11:13:18.074 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 11:13:18.075 +08:00 [DBG] Start token request.
2019-09-19 11:13:18.075 +08:00 [DBG] Start client validation
2019-09-19 11:13:18.075 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 11:13:18.075 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 11:13:18.075 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 11:13:18.075 +08:00 [DBG] Secret id found: passClient
2019-09-19 11:13:18.807 +08:00 [DBG] passClient found in database: true
2019-09-19 11:13:18.807 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 11:13:18.807 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 11:13:18.807 +08:00 [DBG] Client validation success
2019-09-19 11:13:18.808 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSLJ5V7M8M:00000007","TimeStamp":"2019-09-19T03:13:18.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 11:13:18.808 +08:00 [DBG] Start token request validation
2019-09-19 11:13:18.808 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 11:13:18.987 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 11:13:19.347 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 11:13:19.525 +08:00 [DBG] Found ["roles"] identity scopes in database
2019-09-19 11:13:19.884 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 11:13:20.076 +08:00 [INF] {"Details":"System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 414\r\n   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 151\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 138\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 88\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 70\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Hosting\\IdentityServerMiddleware.cs:line 54","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.","ActivityId":"0HLPSLJ5V7M8M:00000007","TimeStamp":"2019-09-19T03:13:20.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2019-09-19 11:13:20.076 +08:00 [FTL] Unhandled exception: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 11:13:20.231 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 11:13:53.267 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 11:13:53.269 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 11:13:53.269 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 11:13:53.269 +08:00 [DBG] Start token request.
2019-09-19 11:13:53.269 +08:00 [DBG] Start client validation
2019-09-19 11:13:53.269 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 11:13:53.269 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 11:13:53.270 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 11:13:53.270 +08:00 [DBG] Secret id found: passClient
2019-09-19 11:13:53.994 +08:00 [DBG] passClient found in database: true
2019-09-19 11:13:53.994 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 11:13:53.994 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 11:13:53.994 +08:00 [DBG] Client validation success
2019-09-19 11:13:53.994 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSLJ5V7M8M:00000008","TimeStamp":"2019-09-19T03:13:53.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 11:13:53.994 +08:00 [DBG] Start token request validation
2019-09-19 11:13:53.994 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 11:13:54.075 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 11:13:54.433 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 11:13:54.509 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 11:13:54.869 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 11:13:55.071 +08:00 [INF] {"Details":"System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 414\r\n   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 151\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 138\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 88\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 70\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Hosting\\IdentityServerMiddleware.cs:line 54","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.","ActivityId":"0HLPSLJ5V7M8M:00000008","TimeStamp":"2019-09-19T03:13:55.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2019-09-19 11:13:55.072 +08:00 [FTL] Unhandled exception: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 11:13:55.234 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 11:19:26.982 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 11:19:26.986 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 11:19:26.987 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 11:19:26.988 +08:00 [DBG] Start token request.
2019-09-19 11:19:26.988 +08:00 [DBG] Start client validation
2019-09-19 11:19:26.988 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 11:19:26.988 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 11:19:26.989 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 11:19:26.989 +08:00 [DBG] Secret id found: passClient
2019-09-19 11:19:27.869 +08:00 [DBG] passClient found in database: true
2019-09-19 11:19:27.870 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 11:19:27.870 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 11:19:27.870 +08:00 [DBG] Client validation success
2019-09-19 11:19:27.870 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSLJ5V7M8N:00000001","TimeStamp":"2019-09-19T03:19:27.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 11:19:27.870 +08:00 [DBG] Start token request validation
2019-09-19 11:19:27.870 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 11:19:27.946 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 11:19:28.304 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 11:19:28.382 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 11:19:28.770 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 11:19:28.959 +08:00 [INF] {"Details":"System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 414\r\n   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 151\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 138\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 88\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 70\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Hosting\\IdentityServerMiddleware.cs:line 54","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.","ActivityId":"0HLPSLJ5V7M8N:00000001","TimeStamp":"2019-09-19T03:19:28.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2019-09-19 11:19:28.959 +08:00 [FTL] Unhandled exception: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 11:19:29.115 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 11:19:52.331 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 11:19:52.332 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 11:19:52.332 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 11:19:52.332 +08:00 [DBG] Start token request.
2019-09-19 11:19:52.332 +08:00 [DBG] Start client validation
2019-09-19 11:19:52.332 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 11:19:52.332 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 11:19:52.336 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 11:19:52.336 +08:00 [DBG] Secret id found: passClient
2019-09-19 11:19:53.050 +08:00 [DBG] passClient found in database: true
2019-09-19 11:19:53.050 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 11:19:53.050 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 11:19:53.050 +08:00 [DBG] Client validation success
2019-09-19 11:19:53.050 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSLJ5V7M8N:00000002","TimeStamp":"2019-09-19T03:19:53.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 11:19:53.051 +08:00 [DBG] Start token request validation
2019-09-19 11:19:53.051 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 11:19:53.186 +08:00 [DBG] Found ["openid","roles"] identity scopes in database
2019-09-19 11:19:53.548 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 11:19:53.677 +08:00 [DBG] Found ["openid","roles"] identity scopes in database
2019-09-19 11:19:54.035 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 11:19:54.251 +08:00 [INF] {"Details":"System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 414\r\n   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 151\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 138\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 88\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 70\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Hosting\\IdentityServerMiddleware.cs:line 54","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.","ActivityId":"0HLPSLJ5V7M8N:00000002","TimeStamp":"2019-09-19T03:19:54.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2019-09-19 11:19:54.252 +08:00 [FTL] Unhandled exception: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 11:19:54.459 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 11:20:18.032 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 11:20:18.034 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 11:20:18.034 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 11:20:18.034 +08:00 [DBG] Start token request.
2019-09-19 11:20:18.034 +08:00 [DBG] Start client validation
2019-09-19 11:20:18.034 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 11:20:18.034 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 11:20:18.035 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 11:20:18.036 +08:00 [DBG] Secret id found: passClient
2019-09-19 11:20:18.781 +08:00 [DBG] passClient found in database: true
2019-09-19 11:20:18.781 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 11:20:18.782 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 11:20:18.782 +08:00 [DBG] Client validation success
2019-09-19 11:20:18.782 +08:00 [INF] {"ClientId":"passClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSLJ5V7M8N:00000003","TimeStamp":"2019-09-19T03:20:18.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 11:20:18.782 +08:00 [DBG] Start token request validation
2019-09-19 11:20:18.782 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 11:20:18.912 +08:00 [DBG] Found ["openid","profile","roles"] identity scopes in database
2019-09-19 11:20:19.272 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 11:20:19.403 +08:00 [DBG] Found ["openid","profile","roles"] identity scopes in database
2019-09-19 11:20:19.760 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 11:20:19.974 +08:00 [INF] {"Details":"System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 414\r\n   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 151\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 138\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 88\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 70\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Hosting\\IdentityServerMiddleware.cs:line 54","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.","ActivityId":"0HLPSLJ5V7M8N:00000003","TimeStamp":"2019-09-19T03:20:19.0000000Z","ProcessId":10968,"LocalIpAddress":"127.0.0.1:25363","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2019-09-19 11:20:19.974 +08:00 [FTL] Unhandled exception: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 11:20:20.132 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 11:21:22.594 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 11:21:23.048 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 11:21:23.049 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 11:21:23.049 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 11:21:23.049 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 11:21:23.049 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 11:21:23.049 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 11:21:23.552 +08:00 [DBG] Starting grant removal
2019-09-19 11:21:23.976 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 11:21:23.978 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 11:21:23.978 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 11:21:23.978 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 11:21:23.978 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 11:21:23.978 +08:00 [DBG] Error Url: /home/error
2019-09-19 11:21:23.978 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 11:21:30.968 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 11:21:31.003 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 11:21:31.004 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 11:21:31.011 +08:00 [DBG] Start token request.
2019-09-19 11:21:31.026 +08:00 [DBG] Start client validation
2019-09-19 11:21:31.031 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 11:21:31.040 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 11:21:31.062 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 11:21:31.062 +08:00 [DBG] Secret id found: passClient
2019-09-19 11:21:33.397 +08:00 [DBG] passClient found in database: true
2019-09-19 11:21:33.411 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 11:21:33.421 +08:00 [DBG] No matching hashed secret found.
2019-09-19 11:21:33.421 +08:00 [DBG] Secret validators could not validate secret
2019-09-19 11:21:33.431 +08:00 [INF] {"ClientId":"passClient","Category":"Authentication","Name":"Client Authentication Failure","EventType":"Failure","Id":1011,"Message":"Invalid client secret","ActivityId":"0HLPSM1PG737U:00000003","TimeStamp":"2019-09-19T03:21:33.0000000Z","ProcessId":10724,"LocalIpAddress":"127.0.0.1:3839","RemoteIpAddress":"::1","$type":"ClientAuthenticationFailureEvent"}
2019-09-19 11:21:33.447 +08:00 [ERR] Client secret validation failed for client: passClient.
2019-09-19 11:24:18.076 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 11:24:18.083 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 11:24:18.083 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 11:24:18.083 +08:00 [DBG] Start token request.
2019-09-19 11:24:18.083 +08:00 [DBG] Start client validation
2019-09-19 11:24:18.084 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 11:24:18.084 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 11:24:18.085 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 11:24:18.085 +08:00 [DBG] Secret id found: passClient
2019-09-19 11:24:18.885 +08:00 [DBG] passClient found in database: true
2019-09-19 11:24:18.885 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 11:24:18.885 +08:00 [DBG] No matching hashed secret found.
2019-09-19 11:24:18.886 +08:00 [DBG] Secret validators could not validate secret
2019-09-19 11:24:18.886 +08:00 [INF] {"ClientId":"passClient","Category":"Authentication","Name":"Client Authentication Failure","EventType":"Failure","Id":1011,"Message":"Invalid client secret","ActivityId":"0HLPSM1PG7381:00000001","TimeStamp":"2019-09-19T03:24:18.0000000Z","ProcessId":10724,"LocalIpAddress":"127.0.0.1:3839","RemoteIpAddress":"::1","$type":"ClientAuthenticationFailureEvent"}
2019-09-19 11:24:18.886 +08:00 [ERR] Client secret validation failed for client: passClient.
2019-09-19 11:24:49.696 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 11:24:49.698 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 11:24:49.698 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 11:24:49.698 +08:00 [DBG] Start token request.
2019-09-19 11:24:49.698 +08:00 [DBG] Start client validation
2019-09-19 11:24:49.698 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 11:24:49.698 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 11:24:49.699 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 11:24:49.700 +08:00 [DBG] Secret id found: passClient
2019-09-19 11:24:50.448 +08:00 [DBG] passClient found in database: true
2019-09-19 11:24:50.448 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 11:24:50.449 +08:00 [DBG] No matching hashed secret found.
2019-09-19 11:24:50.449 +08:00 [DBG] Secret validators could not validate secret
2019-09-19 11:24:50.449 +08:00 [INF] {"ClientId":"passClient","Category":"Authentication","Name":"Client Authentication Failure","EventType":"Failure","Id":1011,"Message":"Invalid client secret","ActivityId":"0HLPSM1PG7381:00000002","TimeStamp":"2019-09-19T03:24:50.0000000Z","ProcessId":10724,"LocalIpAddress":"127.0.0.1:3839","RemoteIpAddress":"::1","$type":"ClientAuthenticationFailureEvent"}
2019-09-19 11:24:50.449 +08:00 [ERR] Client secret validation failed for client: passClient.
2019-09-19 11:24:56.911 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 11:24:56.912 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 11:24:56.912 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 11:24:56.912 +08:00 [DBG] Start token request.
2019-09-19 11:24:56.912 +08:00 [DBG] Start client validation
2019-09-19 11:24:56.912 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 11:24:56.912 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 11:24:56.913 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 11:24:56.914 +08:00 [DBG] Secret id found: passClient
2019-09-19 11:24:57.669 +08:00 [DBG] passClient found in database: true
2019-09-19 11:24:57.669 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 11:24:57.669 +08:00 [DBG] No matching hashed secret found.
2019-09-19 11:24:57.669 +08:00 [DBG] Secret validators could not validate secret
2019-09-19 11:24:57.669 +08:00 [INF] {"ClientId":"passClient","Category":"Authentication","Name":"Client Authentication Failure","EventType":"Failure","Id":1011,"Message":"Invalid client secret","ActivityId":"0HLPSM1PG7381:00000003","TimeStamp":"2019-09-19T03:24:57.0000000Z","ProcessId":10724,"LocalIpAddress":"127.0.0.1:3839","RemoteIpAddress":"::1","$type":"ClientAuthenticationFailureEvent"}
2019-09-19 11:24:57.669 +08:00 [ERR] Client secret validation failed for client: passClient.
2019-09-19 11:25:06.826 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 11:25:06.828 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 11:25:06.828 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 11:25:06.828 +08:00 [DBG] Start token request.
2019-09-19 11:25:06.828 +08:00 [DBG] Start client validation
2019-09-19 11:25:06.828 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 11:25:06.828 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 11:25:06.829 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 11:25:06.829 +08:00 [DBG] Secret id found: passClient
2019-09-19 11:25:07.574 +08:00 [DBG] passClient found in database: true
2019-09-19 11:25:07.574 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 11:25:07.574 +08:00 [DBG] No matching hashed secret found.
2019-09-19 11:25:07.574 +08:00 [DBG] Secret validators could not validate secret
2019-09-19 11:25:07.574 +08:00 [INF] {"ClientId":"passClient","Category":"Authentication","Name":"Client Authentication Failure","EventType":"Failure","Id":1011,"Message":"Invalid client secret","ActivityId":"0HLPSM1PG7381:00000004","TimeStamp":"2019-09-19T03:25:07.0000000Z","ProcessId":10724,"LocalIpAddress":"127.0.0.1:3839","RemoteIpAddress":"::1","$type":"ClientAuthenticationFailureEvent"}
2019-09-19 11:25:07.574 +08:00 [ERR] Client secret validation failed for client: passClient.
2019-09-19 11:26:07.535 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 11:26:07.927 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 11:26:07.928 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 11:26:07.928 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 11:26:07.929 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 11:26:07.929 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 11:26:07.929 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 11:26:08.442 +08:00 [DBG] Starting grant removal
2019-09-19 11:26:12.129 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 11:26:12.132 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 11:26:12.142 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 11:26:12.143 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 11:26:12.143 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 11:26:12.143 +08:00 [DBG] Error Url: /home/error
2019-09-19 11:26:12.144 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 11:26:12.188 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 11:26:12.215 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 11:26:12.219 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 11:26:12.227 +08:00 [DBG] Start token request.
2019-09-19 11:26:12.232 +08:00 [DBG] Start client validation
2019-09-19 11:26:12.240 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 11:26:12.244 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 11:26:12.277 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 11:26:12.277 +08:00 [DBG] Secret id found: passClient
2019-09-19 11:26:14.499 +08:00 [DBG] passClient found in database: true
2019-09-19 11:26:14.511 +08:00 [DBG] client configuration validation for client passClient succeeded.
2019-09-19 11:26:14.522 +08:00 [DBG] No matching hashed secret found.
2019-09-19 11:26:14.522 +08:00 [DBG] Secret validators could not validate secret
2019-09-19 11:26:14.535 +08:00 [INF] {"ClientId":"passClient","Category":"Authentication","Name":"Client Authentication Failure","EventType":"Failure","Id":1011,"Message":"Invalid client secret","ActivityId":"0HLPSM4FB8MRB:00000001","TimeStamp":"2019-09-19T03:26:14.0000000Z","ProcessId":15496,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationFailureEvent"}
2019-09-19 11:26:14.559 +08:00 [ERR] Client secret validation failed for client: passClient.
2019-09-19 11:26:38.023 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 11:27:18.121 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 11:27:38.217 +08:00 [WRN] Query: '(from ClientRedirectUri t in [x].RedirectUris select [t].RedirectUri).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-19 11:30:30.293 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 11:30:30.665 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 11:30:30.666 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 11:30:30.666 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 11:30:30.666 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 11:30:30.666 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 11:30:30.667 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 11:30:31.163 +08:00 [DBG] Starting grant removal
2019-09-19 11:30:38.230 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 11:30:38.233 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 11:30:38.236 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 11:30:38.236 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 11:30:38.237 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 11:30:38.237 +08:00 [DBG] Error Url: /home/error
2019-09-19 11:30:38.238 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 11:30:54.557 +08:00 [ERR] Failed executing DbCommand (439ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (DbType = Boolean), @p11='?' (Size = 2000), @p12='?' (Size = 200), @p13='?' (Size = 200), @p14='?' (Size = 200), @p15='?' (Size = 2000), @p16='?' (DbType = Int32), @p17='?' (DbType = DateTime), @p18='?' (Size = 1000), @p19='?' (DbType = Int32), @p20='?' (DbType = Boolean), @p21='?' (DbType = Boolean), @p22='?' (DbType = Boolean), @p23='?' (Size = 2000), @p24='?' (DbType = Int32), @p25='?' (DbType = Boolean), @p26='?' (DbType = DateTime), @p27='?' (Size = 2000), @p28='?' (DbType = Boolean), @p29='?' (Size = 200), @p30='?' (Size = 200), @p31='?' (DbType = Int32), @p32='?' (DbType = Int32), @p33='?' (DbType = Boolean), @p34='?' (DbType = Boolean), @p35='?' (DbType = Boolean), @p36='?' (DbType = Int32), @p37='?' (DbType = Boolean), @p38='?' (DbType = DateTime), @p39='?' (Size = 100), @p40='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `Clients` (`AbsoluteRefreshTokenLifetime`, `AccessTokenLifetime`, `AccessTokenType`, `AllowAccessTokensViaBrowser`, `AllowOfflineAccess`, `AllowPlainTextPkce`, `AllowRememberConsent`, `AlwaysIncludeUserClaimsInIdToken`, `AlwaysSendClientClaims`, `AuthorizationCodeLifetime`, `BackChannelLogoutSessionRequired`, `BackChannelLogoutUri`, `ClientClaimsPrefix`, `ClientId`, `ClientName`, `ClientUri`, `ConsentLifetime`, `Created`, `Description`, `DeviceCodeLifetime`, `EnableLocalLogin`, `Enabled`, `FrontChannelLogoutSessionRequired`, `FrontChannelLogoutUri`, `IdentityTokenLifetime`, `IncludeJwtId`, `LastAccessed`, `LogoUri`, `NonEditable`, `PairWiseSubjectSalt`, `ProtocolType`, `RefreshTokenExpiration`, `RefreshTokenUsage`, `RequireClientSecret`, `RequireConsent`, `RequirePkce`, `SlidingRefreshTokenLifetime`, `UpdateAccessTokenClaimsOnRefresh`, `Updated`, `UserCodeType`, `UserSsoLifetime`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40);
SELECT `Id`
FROM `Clients`
WHERE ROW_COUNT() = 1 AND `Id` = LAST_INSERT_ID();
MySql.Data.MySqlClient.MySqlException (0x80004005): Duplicate entry 'passClient' for key 'IX_Clients_ClientId' ---> MySql.Data.MySqlClient.MySqlException (0x80004005): Duplicate entry 'passClient' for key 'IX_Clients_ClientId'
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ResultSet.cs:line 43
   at MySql.Data.MySqlClient.MySqlDataReader.ActivateResultSet(ResultSet resultSet) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 81
   at MySql.Data.MySqlClient.MySqlDataReader.ReadFirstResultSetAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 307
   at MySql.Data.MySqlClient.MySqlDataReader.CreateAsync(MySqlCommand command, CommandBehavior behavior, ResultSetProtocol resultSetProtocol, IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 292
   at MySqlConnector.Core.TextCommandExecutor.ExecuteReaderAsync(String commandText, MySqlParameterCollection parameterCollection, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\Core\TextCommandExecutor.cs:line 37
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlCommand.cs:line 267
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
2019-09-19 11:30:54.824 +08:00 [ERR] An exception occurred in the database while saving changes for context type 'IdentityServer4.EntityFramework.DbContexts.ConfigurationDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> MySql.Data.MySqlClient.MySqlException: Duplicate entry 'passClient' for key 'IX_Clients_ClientId' ---> MySql.Data.MySqlClient.MySqlException: Duplicate entry 'passClient' for key 'IX_Clients_ClientId'
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ResultSet.cs:line 43
   --- End of inner exception stack trace ---
   at MySql.Data.MySqlClient.MySqlDataReader.ActivateResultSet(ResultSet resultSet) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 81
   at MySql.Data.MySqlClient.MySqlDataReader.ReadFirstResultSetAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 307
   at MySql.Data.MySqlClient.MySqlDataReader.CreateAsync(MySqlCommand command, CommandBehavior behavior, ResultSetProtocol resultSetProtocol, IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 292
   at MySqlConnector.Core.TextCommandExecutor.ExecuteReaderAsync(String commandText, MySqlParameterCollection parameterCollection, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\Core\TextCommandExecutor.cs:line 37
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlCommand.cs:line 267
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> MySql.Data.MySqlClient.MySqlException: Duplicate entry 'passClient' for key 'IX_Clients_ClientId' ---> MySql.Data.MySqlClient.MySqlException: Duplicate entry 'passClient' for key 'IX_Clients_ClientId'
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ResultSet.cs:line 43
   --- End of inner exception stack trace ---
   at MySql.Data.MySqlClient.MySqlDataReader.ActivateResultSet(ResultSet resultSet) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 81
   at MySql.Data.MySqlClient.MySqlDataReader.ReadFirstResultSetAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 307
   at MySql.Data.MySqlClient.MySqlDataReader.CreateAsync(MySqlCommand command, CommandBehavior behavior, ResultSetProtocol resultSetProtocol, IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 292
   at MySqlConnector.Core.TextCommandExecutor.ExecuteReaderAsync(String commandText, MySqlParameterCollection parameterCollection, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\Core\TextCommandExecutor.cs:line 37
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlCommand.cs:line 267
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
2019-09-19 11:30:57.232 +08:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details. ---> MySql.Data.MySqlClient.MySqlException: Duplicate entry 'passClient' for key 'IX_Clients_ClientId' ---> MySql.Data.MySqlClient.MySqlException: Duplicate entry 'passClient' for key 'IX_Clients_ClientId'
   at MySqlConnector.Core.ResultSet.ReadResultSetHeaderAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\Core\ResultSet.cs:line 43
   --- End of inner exception stack trace ---
   at MySql.Data.MySqlClient.MySqlDataReader.ActivateResultSet(ResultSet resultSet) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 81
   at MySql.Data.MySqlClient.MySqlDataReader.ReadFirstResultSetAsync(IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 307
   at MySql.Data.MySqlClient.MySqlDataReader.CreateAsync(MySqlCommand command, CommandBehavior behavior, ResultSetProtocol resultSetProtocol, IOBehavior ioBehavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlDataReader.cs:line 292
   at MySqlConnector.Core.TextCommandExecutor.ExecuteReaderAsync(String commandText, MySqlParameterCollection parameterCollection, CommandBehavior behavior, IOBehavior ioBehavior, CancellationToken cancellationToken) in C:\projects\mysqlconnector\src\MySqlConnector\Core\TextCommandExecutor.cs:line 37
   at MySql.Data.MySqlClient.MySqlCommand.ExecuteDbDataReader(CommandBehavior behavior) in C:\projects\mysqlconnector\src\MySqlConnector\MySql.Data.MySqlClient\MySqlCommand.cs:line 267
   at System.Data.Common.DbCommand.ExecuteReader()
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(DbContext _, ValueTuple`2 parameters)
   at Pomelo.EntityFrameworkCore.MySql.Storage.Internal.MySqlExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IReadOnlyList`1 entries)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IReadOnlyList`1 entriesToSave)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges()
   at LBDIdentityServer4.Quickstart.ConfigurationManage.ApiResource.ApiResourceController.Index() in E:\MyNetCore\LBDIdentityServer4\Quickstart\ConfigurationManage\ApiResource\ApiResourceController.cs:line 35
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.Extensions.Internal.ObjectMethodExecutor.Execute(Object target, Object[] parameters)
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.SyncActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 11:31:18.547 +08:00 [DBG] TaskCanceledException. Exiting.
2019-09-19 11:31:18.772 +08:00 [DBG] Stopping grant removal
2019-09-19 11:31:52.954 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 11:31:53.303 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 11:31:53.303 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 11:31:53.304 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 11:31:53.304 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 11:31:53.304 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 11:31:53.305 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 11:31:53.751 +08:00 [DBG] Starting grant removal
2019-09-19 11:32:04.268 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 11:32:04.270 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 11:32:04.271 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 11:32:04.272 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 11:32:04.272 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 11:32:04.273 +08:00 [DBG] Error Url: /home/error
2019-09-19 11:32:04.273 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 11:32:09.262 +08:00 [ERR] The view 'Index' was not found. Searched locations: ["/Views/ApiResource/Index.cshtml","/Views/Shared/Index.cshtml","/Pages/Shared/Index.cshtml"]
2019-09-19 11:32:09.759 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'Index' was not found. The following locations were searched:
/Views/ApiResource/Index.cshtml
/Views/Shared/Index.cshtml
/Pages/Shared/Index.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 11:32:28.910 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 11:32:28.932 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 11:32:28.934 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 11:32:28.943 +08:00 [DBG] Start token request.
2019-09-19 11:32:28.953 +08:00 [DBG] Start client validation
2019-09-19 11:32:28.960 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 11:32:28.974 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 11:32:28.994 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 11:32:28.994 +08:00 [DBG] Secret id found: passWordClient
2019-09-19 11:32:29.977 +08:00 [DBG] passWordClient found in database: true
2019-09-19 11:32:29.987 +08:00 [DBG] client configuration validation for client passWordClient succeeded.
2019-09-19 11:32:29.996 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 11:32:29.997 +08:00 [DBG] Client validation success
2019-09-19 11:32:30.010 +08:00 [INF] {"ClientId":"passWordClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSM7LVALD0:00000001","TimeStamp":"2019-09-19T03:32:30.0000000Z","ProcessId":10532,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 11:32:30.024 +08:00 [DBG] Start token request validation
2019-09-19 11:32:30.037 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 11:32:30.216 +08:00 [DBG] Found ["openid","profile","roles"] identity scopes in database
2019-09-19 11:32:30.744 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 11:32:30.880 +08:00 [DBG] Found ["openid","profile","roles"] identity scopes in database
2019-09-19 11:32:31.223 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 11:32:31.418 +08:00 [INF] {"Details":"System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 414\r\n   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 151\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 138\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 88\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 70\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Hosting\\IdentityServerMiddleware.cs:line 54","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.","ActivityId":"0HLPSM7LVALD0:00000001","TimeStamp":"2019-09-19T03:32:31.0000000Z","ProcessId":10532,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2019-09-19 11:32:31.423 +08:00 [FTL] Unhandled exception: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 11:32:31.559 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 11:33:06.066 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 11:33:06.079 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 11:33:06.080 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 11:33:06.081 +08:00 [DBG] Start token request.
2019-09-19 11:33:06.081 +08:00 [DBG] Start client validation
2019-09-19 11:33:06.082 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 11:33:06.082 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 11:33:06.087 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 11:33:06.088 +08:00 [DBG] Secret id found: passWordClient
2019-09-19 11:33:07.455 +08:00 [DBG] passWordClient found in database: true
2019-09-19 11:33:07.455 +08:00 [DBG] client configuration validation for client passWordClient succeeded.
2019-09-19 11:33:07.457 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 11:33:07.457 +08:00 [DBG] Client validation success
2019-09-19 11:33:07.457 +08:00 [INF] {"ClientId":"passWordClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSM7LVALD0:00000002","TimeStamp":"2019-09-19T03:33:07.0000000Z","ProcessId":10532,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 11:33:07.458 +08:00 [DBG] Start token request validation
2019-09-19 11:33:07.461 +08:00 [DBG] Start client credentials token request validation
2019-09-19 11:33:07.810 +08:00 [DBG] Found ["openid","profile","roles"] identity scopes in database
2019-09-19 11:33:08.151 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 11:33:08.276 +08:00 [DBG] Found ["openid","profile","roles"] identity scopes in database
2019-09-19 11:33:08.619 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 11:33:08.620 +08:00 [DBG] passWordClient credentials token request validation success
2019-09-19 11:33:08.626 +08:00 [INF] Token request validation success, {"ClientId":"passWordClient","ClientName":null,"GrantType":"client_credentials","Scopes":"openid profile roles rss","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"client_credentials","client_id":"passWordClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 11:33:08.650 +08:00 [DBG] Getting claims for access token for client: passWordClient
2019-09-19 11:33:08.728 +08:00 [INF] {"ClientId":"passWordClient","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"rss","GrantType":"client_credentials","Tokens":[{"TokenType":"access_token","TokenValue":"****4JwA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPSM7LVALD0:00000002","TimeStamp":"2019-09-19T03:33:08.0000000Z","ProcessId":10532,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-09-19 11:33:08.733 +08:00 [DBG] Token request success.
2019-09-19 11:40:18.951 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 11:40:19.330 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 11:40:19.331 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 11:40:19.331 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 11:40:19.331 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 11:40:19.331 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 11:40:19.331 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 11:40:19.759 +08:00 [DBG] Starting grant removal
2019-09-19 11:40:23.232 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 11:40:23.238 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 11:40:23.240 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 11:40:23.241 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 11:40:23.241 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 11:40:23.242 +08:00 [DBG] Error Url: /home/error
2019-09-19 11:40:23.242 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 11:40:23.280 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 11:40:23.308 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 11:40:23.310 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 11:40:23.316 +08:00 [DBG] Start token request.
2019-09-19 11:40:23.326 +08:00 [DBG] Start client validation
2019-09-19 11:40:23.331 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 11:40:23.337 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 11:40:23.360 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 11:40:23.361 +08:00 [DBG] Secret id found: passWordClient
2019-09-19 11:40:25.497 +08:00 [DBG] passWordClient found in database: true
2019-09-19 11:40:25.509 +08:00 [DBG] client configuration validation for client passWordClient succeeded.
2019-09-19 11:40:25.519 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 11:40:25.519 +08:00 [DBG] Client validation success
2019-09-19 11:40:25.532 +08:00 [INF] {"ClientId":"passWordClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSMCD0KEI0:00000001","TimeStamp":"2019-09-19T03:40:25.0000000Z","ProcessId":18692,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 11:40:25.561 +08:00 [DBG] Start token request validation
2019-09-19 11:40:25.575 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 11:40:25.764 +08:00 [DBG] Found ["openid","profile","roles"] identity scopes in database
2019-09-19 11:40:26.325 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 11:40:26.462 +08:00 [DBG] Found ["openid","profile","roles"] identity scopes in database
2019-09-19 11:40:26.805 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 11:40:27.118 +08:00 [INF] {"Details":"System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 414\r\n   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 151\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 138\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 88\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 70\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Hosting\\IdentityServerMiddleware.cs:line 54","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.","ActivityId":"0HLPSMCD0KEI0:00000001","TimeStamp":"2019-09-19T03:40:27.0000000Z","ProcessId":18692,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2019-09-19 11:40:27.127 +08:00 [FTL] Unhandled exception: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 11:40:27.263 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 11:40:35.864 +08:00 [DBG] TaskCanceledException. Exiting.
2019-09-19 11:40:36.005 +08:00 [DBG] Stopping grant removal
2019-09-19 11:42:17.938 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 11:42:18.284 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 11:42:18.285 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 11:42:18.286 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 11:42:18.286 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 11:42:18.286 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 11:42:18.286 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 11:42:18.742 +08:00 [DBG] Starting grant removal
2019-09-19 11:42:21.637 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 11:42:21.640 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 11:42:21.642 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 11:42:21.642 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 11:42:21.643 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 11:42:21.643 +08:00 [DBG] Error Url: /home/error
2019-09-19 11:42:21.644 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 11:42:21.679 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 11:42:21.713 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 11:42:21.715 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 11:42:21.724 +08:00 [DBG] Start token request.
2019-09-19 11:42:21.729 +08:00 [DBG] Start client validation
2019-09-19 11:42:21.736 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 11:42:21.740 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 11:42:21.763 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 11:42:21.763 +08:00 [DBG] Secret id found: passWordClient
2019-09-19 11:42:24.011 +08:00 [DBG] passWordClient found in database: true
2019-09-19 11:42:24.024 +08:00 [DBG] client configuration validation for client passWordClient succeeded.
2019-09-19 11:42:24.034 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 11:42:24.035 +08:00 [DBG] Client validation success
2019-09-19 11:42:24.050 +08:00 [INF] {"ClientId":"passWordClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSMDG9UEKI:00000001","TimeStamp":"2019-09-19T03:42:24.0000000Z","ProcessId":11252,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 11:42:24.080 +08:00 [DBG] Start token request validation
2019-09-19 11:42:24.094 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 11:42:24.274 +08:00 [DBG] Found ["openid","profile","roles"] identity scopes in database
2019-09-19 11:42:24.772 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 11:42:24.910 +08:00 [DBG] Found ["openid","profile","roles"] identity scopes in database
2019-09-19 11:42:25.259 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 11:42:25.514 +08:00 [INF] {"Details":"System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 414\r\n   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 151\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 138\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 88\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 70\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Hosting\\IdentityServerMiddleware.cs:line 54","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.","ActivityId":"0HLPSMDG9UEKI:00000001","TimeStamp":"2019-09-19T03:42:25.0000000Z","ProcessId":11252,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2019-09-19 11:42:25.522 +08:00 [FTL] Unhandled exception: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 11:42:25.662 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 11:42:34.633 +08:00 [DBG] TaskCanceledException. Exiting.
2019-09-19 11:42:34.782 +08:00 [DBG] Stopping grant removal
2019-09-19 13:49:10.564 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 13:49:11.069 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 13:49:11.070 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 13:49:11.071 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 13:49:11.072 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 13:49:11.072 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 13:49:11.072 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 13:49:11.588 +08:00 [DBG] Starting grant removal
2019-09-19 13:49:15.823 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 13:49:15.826 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 13:49:15.827 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 13:49:15.827 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 13:49:15.828 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 13:49:15.828 +08:00 [DBG] Error Url: /home/error
2019-09-19 13:49:15.828 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 13:49:15.853 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 13:49:15.880 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 13:49:15.883 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 13:49:15.893 +08:00 [DBG] Start token request.
2019-09-19 13:49:15.899 +08:00 [DBG] Start client validation
2019-09-19 13:49:15.905 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 13:49:15.910 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 13:49:15.946 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 13:49:15.946 +08:00 [DBG] Secret id found: passWordClient
2019-09-19 13:49:18.320 +08:00 [DBG] passWordClient found in database: true
2019-09-19 13:49:18.331 +08:00 [DBG] client configuration validation for client passWordClient succeeded.
2019-09-19 13:49:18.344 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 13:49:18.344 +08:00 [DBG] Client validation success
2019-09-19 13:49:18.358 +08:00 [INF] {"ClientId":"passWordClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSOKDFL6TG:00000001","TimeStamp":"2019-09-19T05:49:18.0000000Z","ProcessId":776,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 13:49:18.387 +08:00 [DBG] Start token request validation
2019-09-19 13:49:18.401 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 13:49:18.586 +08:00 [DBG] Found ["openid","profile","roles"] identity scopes in database
2019-09-19 13:49:19.124 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 13:49:19.264 +08:00 [DBG] Found ["openid","profile","roles"] identity scopes in database
2019-09-19 13:49:19.616 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 13:49:19.933 +08:00 [INF] {"Details":"System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 414\r\n   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 151\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 138\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 88\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 70\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Hosting\\IdentityServerMiddleware.cs:line 54","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.","ActivityId":"0HLPSOKDFL6TG:00000001","TimeStamp":"2019-09-19T05:49:19.0000000Z","ProcessId":776,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2019-09-19 13:49:19.942 +08:00 [FTL] Unhandled exception: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 13:49:20.104 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 13:50:48.359 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 13:50:48.365 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 13:50:48.366 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 13:50:48.366 +08:00 [DBG] Start token request.
2019-09-19 13:50:48.367 +08:00 [DBG] Start client validation
2019-09-19 13:50:48.368 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 13:50:48.368 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 13:50:48.371 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 13:50:48.371 +08:00 [DBG] Secret id found: passWordClient
2019-09-19 13:50:49.070 +08:00 [DBG] passWordClient found in database: true
2019-09-19 13:50:49.070 +08:00 [DBG] client configuration validation for client passWordClient succeeded.
2019-09-19 13:50:49.073 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 13:50:49.074 +08:00 [DBG] Client validation success
2019-09-19 13:50:49.075 +08:00 [INF] {"ClientId":"passWordClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSOKDFL6TG:00000002","TimeStamp":"2019-09-19T05:50:49.0000000Z","ProcessId":776,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 13:50:49.078 +08:00 [DBG] Start token request validation
2019-09-19 13:50:49.082 +08:00 [DBG] Start client credentials token request validation
2019-09-19 13:50:49.209 +08:00 [DBG] Found ["openid","profile","roles"] identity scopes in database
2019-09-19 13:50:49.560 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 13:50:49.687 +08:00 [DBG] Found ["openid","profile","roles"] identity scopes in database
2019-09-19 13:50:50.041 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 13:50:50.045 +08:00 [DBG] passWordClient credentials token request validation success
2019-09-19 13:50:50.053 +08:00 [INF] Token request validation success, {"ClientId":"passWordClient","ClientName":null,"GrantType":"client_credentials","Scopes":"openid profile roles rss","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"client_credentials","client_id":"passWordClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 13:50:50.083 +08:00 [DBG] Getting claims for access token for client: passWordClient
2019-09-19 13:50:50.202 +08:00 [INF] {"ClientId":"passWordClient","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"rss","GrantType":"client_credentials","Tokens":[{"TokenType":"access_token","TokenValue":"****vaTw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPSOKDFL6TG:00000002","TimeStamp":"2019-09-19T05:50:50.0000000Z","ProcessId":776,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-09-19 13:50:50.209 +08:00 [DBG] Token request success.
2019-09-19 13:51:59.229 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 13:51:59.232 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 13:51:59.233 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 13:51:59.234 +08:00 [DBG] Start token request.
2019-09-19 13:51:59.234 +08:00 [DBG] Start client validation
2019-09-19 13:51:59.234 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 13:51:59.235 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 13:51:59.235 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 13:51:59.235 +08:00 [DBG] Secret id found: passWordClient
2019-09-19 13:51:59.930 +08:00 [DBG] passWordClient found in database: true
2019-09-19 13:51:59.932 +08:00 [DBG] client configuration validation for client passWordClient succeeded.
2019-09-19 13:51:59.935 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 13:51:59.935 +08:00 [DBG] Client validation success
2019-09-19 13:51:59.936 +08:00 [INF] {"ClientId":"passWordClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSOKDFL6TG:00000003","TimeStamp":"2019-09-19T05:51:59.0000000Z","ProcessId":776,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 13:51:59.937 +08:00 [DBG] Start token request validation
2019-09-19 13:51:59.937 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 13:52:00.063 +08:00 [DBG] Found ["openid","profile","roles"] identity scopes in database
2019-09-19 13:52:00.415 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 13:52:00.544 +08:00 [DBG] Found ["openid","profile","roles"] identity scopes in database
2019-09-19 13:52:00.896 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 13:52:01.071 +08:00 [INF] {"Details":"System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 414\r\n   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 151\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 138\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 88\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 70\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Hosting\\IdentityServerMiddleware.cs:line 54","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.","ActivityId":"0HLPSOKDFL6TG:00000003","TimeStamp":"2019-09-19T05:52:01.0000000Z","ProcessId":776,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2019-09-19 13:52:01.080 +08:00 [FTL] Unhandled exception: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 13:52:01.212 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 14:02:46.628 +08:00 [DBG] TaskCanceledException. Exiting.
2019-09-19 14:02:46.794 +08:00 [DBG] Stopping grant removal
2019-09-19 14:15:19.422 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 14:15:19.765 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 14:15:19.766 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 14:15:19.766 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 14:15:19.767 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 14:15:19.767 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 14:15:19.767 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 14:15:20.213 +08:00 [DBG] Starting grant removal
2019-09-19 14:15:23.637 +08:00 [DBG] TaskCanceledException. Exiting.
2019-09-19 14:15:23.739 +08:00 [DBG] Stopping grant removal
2019-09-19 14:17:10.807 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 14:17:11.150 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 14:17:11.150 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 14:17:11.150 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 14:17:11.151 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 14:17:11.151 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 14:17:11.151 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 14:17:11.609 +08:00 [DBG] Starting grant removal
2019-09-19 14:17:23.668 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 14:17:23.672 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 14:17:23.676 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 14:17:23.678 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 14:17:23.679 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 14:17:23.681 +08:00 [DBG] Error Url: /home/error
2019-09-19 14:17:23.683 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 14:17:23.719 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 14:17:23.743 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 14:17:23.746 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 14:17:23.755 +08:00 [DBG] Start token request.
2019-09-19 14:17:23.779 +08:00 [DBG] Start client validation
2019-09-19 14:17:23.788 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 14:17:23.795 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 14:17:23.822 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 14:17:23.825 +08:00 [DBG] Secret id found: passWordClient
2019-09-19 14:17:26.170 +08:00 [DBG] passWordClient found in database: true
2019-09-19 14:17:26.185 +08:00 [DBG] client configuration validation for client passWordClient succeeded.
2019-09-19 14:17:26.197 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 14:17:26.197 +08:00 [DBG] Client validation success
2019-09-19 14:17:26.212 +08:00 [INF] {"ClientId":"passWordClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSP44GQFSV:00000001","TimeStamp":"2019-09-19T06:17:26.0000000Z","ProcessId":11376,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 14:17:26.238 +08:00 [DBG] Start token request validation
2019-09-19 14:17:26.287 +08:00 [DBG] Start client credentials token request validation
2019-09-19 14:17:26.497 +08:00 [DBG] Found ["openid","profile","roles"] identity scopes in database
2019-09-19 14:17:27.097 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 14:17:27.251 +08:00 [DBG] Found ["openid","profile","roles"] identity scopes in database
2019-09-19 14:17:27.623 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 14:17:27.629 +08:00 [DBG] passWordClient credentials token request validation success
2019-09-19 14:17:27.634 +08:00 [INF] Token request validation success, {"ClientId":"passWordClient","ClientName":null,"GrantType":"client_credentials","Scopes":"openid profile roles rss","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"client_credentials","client_id":"passWordClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 14:17:27.661 +08:00 [DBG] Getting claims for access token for client: passWordClient
2019-09-19 14:17:27.750 +08:00 [INF] {"ClientId":"passWordClient","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"rss","GrantType":"client_credentials","Tokens":[{"TokenType":"access_token","TokenValue":"****_EtQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPSP44GQFSV:00000001","TimeStamp":"2019-09-19T06:17:27.0000000Z","ProcessId":11376,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-09-19 14:17:27.755 +08:00 [DBG] Token request success.
2019-09-19 14:18:18.235 +08:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-09-19 14:18:18.248 +08:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-09-19 14:18:18.248 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-09-19 14:18:18.255 +08:00 [DBG] Start userinfo request
2019-09-19 14:18:18.260 +08:00 [DBG] Bearer token found in header
2019-09-19 14:18:19.055 +08:00 [DBG] passWordClient found in database: true
2019-09-19 14:18:19.055 +08:00 [DBG] client configuration validation for client passWordClient succeeded.
2019-09-19 14:18:19.798 +08:00 [DBG] passWordClient found in database: true
2019-09-19 14:18:19.798 +08:00 [DBG] client configuration validation for client passWordClient succeeded.
2019-09-19 14:18:19.801 +08:00 [ERR] Checking for expected scope openid failed
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1568873847,"exp":1568877447,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","rss"],"client_id":"passWordClient","scope":"rss"},"$type":"TokenValidationLog"}
2019-09-19 14:18:49.201 +08:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-09-19 14:18:49.210 +08:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-09-19 14:18:49.215 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-09-19 14:18:49.221 +08:00 [DBG] Start userinfo request
2019-09-19 14:18:49.221 +08:00 [DBG] Bearer token found in header
2019-09-19 14:18:49.962 +08:00 [DBG] passWordClient found in database: true
2019-09-19 14:18:49.963 +08:00 [DBG] client configuration validation for client passWordClient succeeded.
2019-09-19 14:18:50.700 +08:00 [DBG] passWordClient found in database: true
2019-09-19 14:18:50.700 +08:00 [DBG] client configuration validation for client passWordClient succeeded.
2019-09-19 14:18:50.702 +08:00 [ERR] Checking for expected scope openid failed
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1568873847,"exp":1568877447,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","rss"],"client_id":"passWordClient","scope":"rss"},"$type":"TokenValidationLog"}
2019-09-19 14:19:20.161 +08:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-09-19 14:19:20.166 +08:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-09-19 14:19:20.167 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-09-19 14:19:20.168 +08:00 [DBG] Start userinfo request
2019-09-19 14:19:20.168 +08:00 [DBG] Bearer token found in header
2019-09-19 14:19:20.269 +08:00 [ERR] JWT token validation error: IDX12729: Unable to decode the header '[PII is hidden]' as Base64Url encoded string. jwtEncodedString: '[PII is hidden]'.
System.ArgumentException: IDX12729: Unable to decode the header '[PII is hidden]' as Base64Url encoded string. jwtEncodedString: '[PII is hidden]'. ---> System.FormatException: IDX10400: Unable to decode: '[PII is hidden]' as Base64url encoded string.
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.DecodeBytes(String str)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoder.Decode(String arg)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityToken.Decode(String[] tokenParts, String rawData)
   --- End of inner exception stack trace ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityToken.Decode(String[] tokenParts, String rawData)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ReadJwtToken(String token)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateSignature(String token, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at IdentityServer4.Validation.TokenValidator.ValidateJwtAsync(String jwt, String audience, IEnumerable`1 validationKeys, Boolean validateLifetime) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenValidator.cs:line 287
2019-09-19 14:19:28.649 +08:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-09-19 14:19:28.653 +08:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-09-19 14:19:28.655 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-09-19 14:19:28.661 +08:00 [DBG] Start userinfo request
2019-09-19 14:19:28.662 +08:00 [DBG] Bearer token found in header
2019-09-19 14:19:29.401 +08:00 [DBG] passWordClient found in database: true
2019-09-19 14:19:29.401 +08:00 [DBG] client configuration validation for client passWordClient succeeded.
2019-09-19 14:19:30.136 +08:00 [DBG] passWordClient found in database: true
2019-09-19 14:19:30.136 +08:00 [DBG] client configuration validation for client passWordClient succeeded.
2019-09-19 14:19:30.140 +08:00 [ERR] Checking for expected scope openid failed
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1568873847,"exp":1568877447,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","rss"],"client_id":"passWordClient","scope":"rss"},"$type":"TokenValidationLog"}
2019-09-19 14:27:10.837 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 14:27:11.197 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 14:27:11.198 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 14:27:11.198 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 14:27:11.198 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 14:27:11.198 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 14:27:11.199 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 14:27:11.648 +08:00 [DBG] Starting grant removal
2019-09-19 14:27:18.438 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 14:27:18.440 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 14:27:18.445 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 14:27:18.445 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 14:27:18.446 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 14:27:18.446 +08:00 [DBG] Error Url: /home/error
2019-09-19 14:27:18.446 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 14:27:18.481 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 14:27:18.514 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 14:27:18.515 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 14:27:18.522 +08:00 [DBG] Start token request.
2019-09-19 14:27:18.533 +08:00 [DBG] Start client validation
2019-09-19 14:27:18.538 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 14:27:18.543 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 14:27:18.567 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 14:27:18.567 +08:00 [DBG] Secret id found: passWordClient
2019-09-19 14:27:20.816 +08:00 [DBG] passWordClient found in database: true
2019-09-19 14:27:20.829 +08:00 [DBG] client configuration validation for client passWordClient succeeded.
2019-09-19 14:27:20.838 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 14:27:20.839 +08:00 [DBG] Client validation success
2019-09-19 14:27:20.853 +08:00 [INF] {"ClientId":"passWordClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSP9LOU2G8:00000001","TimeStamp":"2019-09-19T06:27:20.0000000Z","ProcessId":7960,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 14:27:20.886 +08:00 [DBG] Start token request validation
2019-09-19 14:27:20.895 +08:00 [DBG] Start client credentials token request validation
2019-09-19 14:27:21.117 +08:00 [DBG] Found ["openid"] identity scopes in database
2019-09-19 14:27:21.285 +08:00 [DBG] Found [] API scopes in database
2019-09-19 14:27:21.462 +08:00 [DBG] Found ["openid"] identity scopes in database
2019-09-19 14:27:21.536 +08:00 [DBG] Found [] API scopes in database
2019-09-19 14:27:21.545 +08:00 [ERR] Client cannot request OpenID scopes in client credentials flow{"clientId":"passWordClient"}, details: {"ClientId":"passWordClient","ClientName":null,"GrantType":"client_credentials","Scopes":"openid","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"client_credentials","client_id":"passWordClient","client_secret":"***REDACTED***","scope":"openid"},"$type":"TokenRequestValidationLog"}
2019-09-19 14:27:21.551 +08:00 [INF] {"ClientId":"passWordClient","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"openid","GrantType":"client_credentials","Error":"invalid_scope","ErrorDescription":null,"Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLPSP9LOU2G8:00000001","TimeStamp":"2019-09-19T06:27:21.0000000Z","ProcessId":7960,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-09-19 14:27:25.002 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 14:27:25.013 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 14:27:25.015 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 14:27:25.018 +08:00 [DBG] Start token request.
2019-09-19 14:27:25.018 +08:00 [DBG] Start client validation
2019-09-19 14:27:25.019 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 14:27:25.021 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 14:27:25.023 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 14:27:25.028 +08:00 [DBG] Secret id found: passWordClient
2019-09-19 14:27:25.696 +08:00 [DBG] passWordClient found in database: true
2019-09-19 14:27:25.697 +08:00 [DBG] client configuration validation for client passWordClient succeeded.
2019-09-19 14:27:25.699 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 14:27:25.700 +08:00 [DBG] Client validation success
2019-09-19 14:27:25.701 +08:00 [INF] {"ClientId":"passWordClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSP9LOU2G8:00000002","TimeStamp":"2019-09-19T06:27:25.0000000Z","ProcessId":7960,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 14:27:25.703 +08:00 [DBG] Start token request validation
2019-09-19 14:27:25.703 +08:00 [DBG] Start client credentials token request validation
2019-09-19 14:27:25.826 +08:00 [DBG] Found ["openid","profile","roles"] identity scopes in database
2019-09-19 14:27:26.275 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 14:27:26.406 +08:00 [DBG] Found ["openid","profile","roles"] identity scopes in database
2019-09-19 14:27:26.739 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 14:27:26.744 +08:00 [DBG] passWordClient credentials token request validation success
2019-09-19 14:27:26.746 +08:00 [INF] Token request validation success, {"ClientId":"passWordClient","ClientName":null,"GrantType":"client_credentials","Scopes":"openid profile roles rss","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"client_credentials","client_id":"passWordClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 14:27:26.768 +08:00 [DBG] Getting claims for access token for client: passWordClient
2019-09-19 14:27:26.837 +08:00 [INF] {"ClientId":"passWordClient","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"rss","GrantType":"client_credentials","Tokens":[{"TokenType":"access_token","TokenValue":"****A1_w","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPSP9LOU2G8:00000002","TimeStamp":"2019-09-19T06:27:26.0000000Z","ProcessId":7960,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-09-19 14:27:26.843 +08:00 [DBG] Token request success.
2019-09-19 14:27:39.697 +08:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-09-19 14:27:39.701 +08:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-09-19 14:27:39.702 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-09-19 14:27:39.716 +08:00 [DBG] Start userinfo request
2019-09-19 14:27:39.721 +08:00 [DBG] Bearer token found in header
2019-09-19 14:27:40.416 +08:00 [DBG] passWordClient found in database: true
2019-09-19 14:27:40.416 +08:00 [DBG] client configuration validation for client passWordClient succeeded.
2019-09-19 14:27:41.078 +08:00 [DBG] passWordClient found in database: true
2019-09-19 14:27:41.079 +08:00 [DBG] client configuration validation for client passWordClient succeeded.
2019-09-19 14:27:41.083 +08:00 [ERR] Checking for expected scope openid failed
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1568874446,"exp":1568878046,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","rss"],"client_id":"passWordClient","scope":"rss"},"$type":"TokenValidationLog"}
2019-09-19 14:27:48.315 +08:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-09-19 14:27:48.318 +08:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-09-19 14:27:48.319 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-09-19 14:27:48.321 +08:00 [DBG] Start userinfo request
2019-09-19 14:27:48.322 +08:00 [DBG] Bearer token found in header
2019-09-19 14:27:48.986 +08:00 [DBG] passWordClient found in database: true
2019-09-19 14:27:48.987 +08:00 [DBG] client configuration validation for client passWordClient succeeded.
2019-09-19 14:27:49.651 +08:00 [DBG] passWordClient found in database: true
2019-09-19 14:27:49.652 +08:00 [DBG] client configuration validation for client passWordClient succeeded.
2019-09-19 14:27:49.655 +08:00 [ERR] Checking for expected scope openid failed
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1568874446,"exp":1568878046,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","rss"],"client_id":"passWordClient","scope":"rss"},"$type":"TokenValidationLog"}
2019-09-19 14:30:29.065 +08:00 [DBG] TaskCanceledException. Exiting.
2019-09-19 14:30:29.218 +08:00 [DBG] Stopping grant removal
2019-09-19 14:35:10.534 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 14:35:10.879 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 14:35:10.880 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 14:35:10.880 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 14:35:10.880 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 14:35:10.880 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 14:35:10.881 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 14:35:11.333 +08:00 [DBG] Starting grant removal
2019-09-19 14:35:16.890 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 14:35:16.892 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 14:35:16.895 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 14:35:16.895 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 14:35:16.896 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 14:35:16.896 +08:00 [DBG] Error Url: /home/error
2019-09-19 14:35:16.896 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 14:35:16.921 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 14:35:16.951 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 14:35:16.952 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 14:35:16.964 +08:00 [DBG] Start token request.
2019-09-19 14:35:16.970 +08:00 [DBG] Start client validation
2019-09-19 14:35:16.978 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 14:35:16.982 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 14:35:17.006 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 14:35:17.007 +08:00 [DBG] Secret id found: passWordClient
2019-09-19 14:35:19.400 +08:00 [DBG] passWordClient found in database: true
2019-09-19 14:35:19.415 +08:00 [DBG] client configuration validation for client passWordClient succeeded.
2019-09-19 14:35:19.423 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 14:35:19.423 +08:00 [DBG] Client validation success
2019-09-19 14:35:19.442 +08:00 [INF] {"ClientId":"passWordClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSPE4C2SO7:00000001","TimeStamp":"2019-09-19T06:35:19.0000000Z","ProcessId":14048,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 14:35:19.472 +08:00 [DBG] Start token request validation
2019-09-19 14:35:19.485 +08:00 [DBG] Start client credentials token request validation
2019-09-19 14:35:19.618 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 14:35:20.138 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 14:35:20.235 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 14:35:20.597 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 14:35:20.601 +08:00 [DBG] passWordClient credentials token request validation success
2019-09-19 14:35:20.607 +08:00 [INF] Token request validation success, {"ClientId":"passWordClient","ClientName":null,"GrantType":"client_credentials","Scopes":"rss","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"client_credentials","client_id":"passWordClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 14:35:20.639 +08:00 [DBG] Getting claims for access token for client: passWordClient
2019-09-19 14:35:20.749 +08:00 [INF] {"ClientId":"passWordClient","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"rss","GrantType":"client_credentials","Tokens":[{"TokenType":"access_token","TokenValue":"****cXvA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPSPE4C2SO7:00000001","TimeStamp":"2019-09-19T06:35:20.0000000Z","ProcessId":14048,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-09-19 14:35:20.755 +08:00 [DBG] Token request success.
2019-09-19 14:35:26.362 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 14:35:26.371 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 14:35:26.377 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 14:35:26.380 +08:00 [DBG] Start token request.
2019-09-19 14:35:26.380 +08:00 [DBG] Start client validation
2019-09-19 14:35:26.381 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 14:35:26.381 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 14:35:26.382 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 14:35:26.382 +08:00 [DBG] Secret id found: passWordClient
2019-09-19 14:35:27.100 +08:00 [DBG] passWordClient found in database: true
2019-09-19 14:35:27.100 +08:00 [DBG] client configuration validation for client passWordClient succeeded.
2019-09-19 14:35:27.103 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 14:35:27.104 +08:00 [DBG] Client validation success
2019-09-19 14:35:27.104 +08:00 [INF] {"ClientId":"passWordClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSPE4C2SO7:00000002","TimeStamp":"2019-09-19T06:35:27.0000000Z","ProcessId":14048,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 14:35:27.107 +08:00 [DBG] Start token request validation
2019-09-19 14:35:27.115 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 14:35:27.193 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 14:35:27.563 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 14:35:27.642 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 14:35:28.007 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 14:35:28.272 +08:00 [INF] {"Details":"System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 414\r\n   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 151\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 138\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 88\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 70\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Hosting\\IdentityServerMiddleware.cs:line 54","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.","ActivityId":"0HLPSPE4C2SO7:00000002","TimeStamp":"2019-09-19T06:35:28.0000000Z","ProcessId":14048,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2019-09-19 14:35:28.283 +08:00 [FTL] Unhandled exception: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 14:35:28.436 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 14:38:59.565 +08:00 [DBG] TaskCanceledException. Exiting.
2019-09-19 14:38:59.738 +08:00 [DBG] Stopping grant removal
2019-09-19 14:44:46.106 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 14:44:46.139 +08:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-09-19 14:44:46.147 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 14:44:46.147 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 14:44:46.147 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 14:44:46.147 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 14:44:46.147 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 14:44:46.147 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 14:44:49.851 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 14:44:49.853 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 14:44:49.855 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 14:44:49.856 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 14:44:49.856 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 14:44:49.857 +08:00 [DBG] Error Url: /home/error
2019-09-19 14:44:49.857 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 14:44:49.885 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 14:44:49.901 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 14:44:49.902 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 14:44:49.910 +08:00 [DBG] Start token request.
2019-09-19 14:44:49.917 +08:00 [DBG] Start client validation
2019-09-19 14:44:49.924 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 14:44:49.929 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 14:44:49.953 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 14:44:49.953 +08:00 [DBG] Secret id found: passWordClient
2019-09-19 14:44:49.970 +08:00 [DBG] client configuration validation for client passWordClient succeeded.
2019-09-19 14:44:49.980 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 14:44:49.980 +08:00 [DBG] Client validation success
2019-09-19 14:44:49.999 +08:00 [INF] {"ClientId":"passWordClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSPJF3EJMI:00000001","TimeStamp":"2019-09-19T06:44:49.0000000Z","ProcessId":3008,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 14:44:50.024 +08:00 [DBG] Start token request validation
2019-09-19 14:44:50.036 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 14:44:50.130 +08:00 [ERR] Error logging Index was outside the bounds of the array., request details: {"ClientId":"passWordClient","ClientName":null,"GrantType":"password","Scopes":"rss","AuthorizationCode":null,"RefreshToken":null,"UserName":"873","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"873","password":"***REDACTED***","grant_type":"password","client_id":"passWordClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 14:44:50.136 +08:00 [INF] {"Username":"873","Endpoint":"UI","ClientId":"passWordClient","Category":"Authentication","Name":"User Login Failure","EventType":"Failure","Id":1001,"Message":"invalid_username_or_password","ActivityId":"0HLPSPJF3EJMI:00000001","TimeStamp":"2019-09-19T06:44:50.0000000Z","ProcessId":3008,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginFailureEvent"}
2019-09-19 14:44:50.140 +08:00 [INF] {"ClientId":"passWordClient","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"rss","GrantType":"password","Error":"invalid_grant","ErrorDescription":"invalid_username_or_password","Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLPSPJF3EJMI:00000001","TimeStamp":"2019-09-19T06:44:50.0000000Z","ProcessId":3008,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-09-19 14:45:41.209 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 14:45:41.226 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 14:45:41.229 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 14:45:41.230 +08:00 [DBG] Start token request.
2019-09-19 14:45:41.231 +08:00 [DBG] Start client validation
2019-09-19 14:45:41.234 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 14:45:41.235 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 14:45:41.236 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 14:45:41.236 +08:00 [DBG] Secret id found: passWordClient
2019-09-19 14:45:41.237 +08:00 [DBG] client configuration validation for client passWordClient succeeded.
2019-09-19 14:45:41.237 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 14:45:41.238 +08:00 [DBG] Client validation success
2019-09-19 14:45:41.238 +08:00 [INF] {"ClientId":"passWordClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSPJF3EJMI:00000002","TimeStamp":"2019-09-19T06:45:41.0000000Z","ProcessId":3008,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 14:45:41.240 +08:00 [DBG] Start token request validation
2019-09-19 14:45:41.240 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 14:45:41.244 +08:00 [DBG] IsActive called from: ResourceOwnerValidation
2019-09-19 14:45:41.248 +08:00 [INF] {"Username":"alice","Provider":null,"ProviderUserId":null,"SubjectId":"818727","DisplayName":null,"Endpoint":"Token","ClientId":"passWordClient","Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPSPJF3EJMI:00000002","TimeStamp":"2019-09-19T06:45:41.0000000Z","ProcessId":3008,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-09-19 14:45:41.250 +08:00 [DBG] Resource owner password token request validation success.
2019-09-19 14:45:41.251 +08:00 [INF] Token request validation success, {"ClientId":"passWordClient","ClientName":null,"GrantType":"password","Scopes":"rss","AuthorizationCode":null,"RefreshToken":null,"UserName":"alice","AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"password","client_id":"passWordClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 14:45:41.272 +08:00 [DBG] Getting claims for access token for client: passWordClient
2019-09-19 14:45:41.273 +08:00 [DBG] Getting claims for access token for subject: 818727
2019-09-19 14:45:41.287 +08:00 [DBG] Get profile called for subject 818727 from client passWordClient with claim types ["name","role"] via ClaimsProviderAccessToken
2019-09-19 14:45:41.404 +08:00 [DBG] Issued claims: ["name"]
2019-09-19 14:45:41.596 +08:00 [INF] {"ClientId":"passWordClient","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":"818727","Scopes":"rss","GrantType":"password","Tokens":[{"TokenType":"access_token","TokenValue":"****NPPQ","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPSPJF3EJMI:00000002","TimeStamp":"2019-09-19T06:45:41.0000000Z","ProcessId":3008,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-09-19 14:45:41.600 +08:00 [DBG] Token request success.
2019-09-19 14:45:51.211 +08:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-09-19 14:45:51.217 +08:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-09-19 14:45:51.218 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-09-19 14:45:51.230 +08:00 [DBG] Start userinfo request
2019-09-19 14:45:51.235 +08:00 [DBG] Bearer token found in header
2019-09-19 14:45:51.284 +08:00 [DBG] client configuration validation for client passWordClient succeeded.
2019-09-19 14:45:51.288 +08:00 [DBG] client configuration validation for client passWordClient succeeded.
2019-09-19 14:45:51.289 +08:00 [DBG] IsActive called from: AccessTokenValidation
2019-09-19 14:45:51.290 +08:00 [ERR] Checking for expected scope openid failed
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1568875541,"exp":1568879141,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","rss"],"client_id":"passWordClient","sub":"818727","auth_time":1568875541,"idp":"local","name":"Alice Smith","scope":"rss","amr":"pwd"},"$type":"TokenValidationLog"}
2019-09-19 14:46:55.003 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 14:46:55.041 +08:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-09-19 14:46:55.049 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 14:46:55.050 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 14:46:55.050 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 14:46:55.050 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 14:46:55.050 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 14:46:55.050 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 14:46:57.133 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 14:46:57.135 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 14:46:57.137 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 14:46:57.137 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 14:46:57.137 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 14:46:57.138 +08:00 [DBG] Error Url: /home/error
2019-09-19 14:46:57.138 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 14:46:57.167 +08:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-09-19 14:46:57.172 +08:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-09-19 14:46:57.173 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-09-19 14:46:57.185 +08:00 [DBG] Start userinfo request
2019-09-19 14:46:57.188 +08:00 [DBG] Bearer token found in header
2019-09-19 14:46:57.282 +08:00 [DBG] client configuration validation for client passWordClient succeeded.
2019-09-19 14:46:57.287 +08:00 [DBG] client configuration validation for client passWordClient succeeded.
2019-09-19 14:46:57.289 +08:00 [DBG] IsActive called from: AccessTokenValidation
2019-09-19 14:46:57.302 +08:00 [ERR] Checking for expected scope openid failed
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1568875541,"exp":1568879141,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","rss"],"client_id":"passWordClient","sub":"818727","auth_time":1568875541,"idp":"local","name":"Alice Smith","scope":"rss","amr":"pwd"},"$type":"TokenValidationLog"}
2019-09-19 14:47:00.735 +08:00 [DBG] Request path /connect/userinfo matched to endpoint type Userinfo
2019-09-19 14:47:00.754 +08:00 [DBG] Endpoint enabled: Userinfo, successfully created handler: IdentityServer4.Endpoints.UserInfoEndpoint
2019-09-19 14:47:00.766 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.UserInfoEndpoint for /connect/userinfo
2019-09-19 14:47:00.767 +08:00 [DBG] Start userinfo request
2019-09-19 14:47:00.768 +08:00 [DBG] Bearer token found in header
2019-09-19 14:47:00.769 +08:00 [DBG] client configuration validation for client passWordClient succeeded.
2019-09-19 14:47:00.770 +08:00 [DBG] client configuration validation for client passWordClient succeeded.
2019-09-19 14:47:00.770 +08:00 [DBG] IsActive called from: AccessTokenValidation
2019-09-19 14:47:00.771 +08:00 [ERR] Checking for expected scope openid failed
{"ClientId":null,"ClientName":null,"ValidateLifetime":true,"AccessTokenType":"Jwt","ExpectedScope":"openid","TokenHandle":null,"JwtId":null,"Claims":{"nbf":1568875541,"exp":1568879141,"iss":"http://localhost:5000","aud":["http://localhost:5000/resources","rss"],"client_id":"passWordClient","sub":"818727","auth_time":1568875541,"idp":"local","name":"Alice Smith","scope":"rss","amr":"pwd"},"$type":"TokenValidationLog"}
2019-09-19 14:58:40.389 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 14:58:40.756 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 14:58:40.757 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 14:58:40.757 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 14:58:40.757 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 14:58:40.757 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 14:58:40.758 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 14:58:41.210 +08:00 [DBG] Starting grant removal
2019-09-19 14:58:44.897 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 14:58:44.899 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 14:58:44.901 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 14:58:44.901 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 14:58:44.902 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 14:58:44.902 +08:00 [DBG] Error Url: /home/error
2019-09-19 14:58:44.902 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 14:58:44.931 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 14:58:44.954 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 14:58:44.955 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 14:58:44.965 +08:00 [DBG] Start token request.
2019-09-19 14:58:44.970 +08:00 [DBG] Start client validation
2019-09-19 14:58:44.975 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 14:58:44.983 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 14:58:45.014 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 14:58:45.015 +08:00 [DBG] Secret id found: passWordClient
2019-09-19 14:58:47.258 +08:00 [DBG] passWordClient found in database: true
2019-09-19 14:58:47.273 +08:00 [DBG] client configuration validation for client passWordClient succeeded.
2019-09-19 14:58:47.284 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 14:58:47.284 +08:00 [DBG] Client validation success
2019-09-19 14:58:47.297 +08:00 [INF] {"ClientId":"passWordClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSPR7VPV0L:00000001","TimeStamp":"2019-09-19T06:58:47.0000000Z","ProcessId":17448,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 14:58:47.324 +08:00 [DBG] Start token request validation
2019-09-19 14:58:47.339 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 14:58:47.466 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 14:58:47.969 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 14:58:48.058 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 14:58:48.411 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 14:58:48.723 +08:00 [INF] {"Details":"System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 414\r\n   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 151\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 138\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 88\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 70\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Hosting\\IdentityServerMiddleware.cs:line 54","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.","ActivityId":"0HLPSPR7VPV0L:00000001","TimeStamp":"2019-09-19T06:58:48.0000000Z","ProcessId":17448,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2019-09-19 14:58:48.731 +08:00 [FTL] Unhandled exception: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 14:58:48.864 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 15:01:04.882 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 15:01:05.238 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 15:01:05.239 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 15:01:05.240 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 15:01:05.240 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 15:01:05.240 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 15:01:05.241 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 15:01:05.705 +08:00 [DBG] Starting grant removal
2019-09-19 15:01:15.474 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 15:01:15.475 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 15:01:15.482 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 15:01:15.482 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 15:01:15.482 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 15:01:15.483 +08:00 [DBG] Error Url: /home/error
2019-09-19 15:01:15.483 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 15:01:15.512 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 15:01:15.535 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 15:01:15.536 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 15:01:15.547 +08:00 [DBG] Start token request.
2019-09-19 15:01:15.553 +08:00 [DBG] Start client validation
2019-09-19 15:01:15.558 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 15:01:15.566 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 15:01:15.592 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 15:01:15.594 +08:00 [DBG] Secret id found: passWordClient
2019-09-19 15:01:17.849 +08:00 [DBG] passWordClient found in database: true
2019-09-19 15:01:17.861 +08:00 [DBG] client configuration validation for client passWordClient succeeded.
2019-09-19 15:01:17.872 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 15:01:17.872 +08:00 [DBG] Client validation success
2019-09-19 15:01:17.886 +08:00 [INF] {"ClientId":"passWordClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSPSKREHSE:00000001","TimeStamp":"2019-09-19T07:01:17.0000000Z","ProcessId":16288,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 15:01:17.916 +08:00 [DBG] Start token request validation
2019-09-19 15:01:17.932 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 15:01:18.060 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 15:01:18.557 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 15:01:18.651 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 15:01:19.014 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 15:01:19.257 +08:00 [INF] {"Details":"System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 414\r\n   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 151\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 138\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 88\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 70\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Hosting\\IdentityServerMiddleware.cs:line 54","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.","ActivityId":"0HLPSPSKREHSE:00000001","TimeStamp":"2019-09-19T07:01:19.0000000Z","ProcessId":16288,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2019-09-19 15:01:19.263 +08:00 [FTL] Unhandled exception: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 15:01:19.470 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 15:01:58.294 +08:00 [DBG] TaskCanceledException. Exiting.
2019-09-19 15:01:58.454 +08:00 [DBG] Stopping grant removal
2019-09-19 15:05:02.371 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 15:05:02.741 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 15:05:02.741 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 15:05:02.742 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 15:05:02.742 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 15:05:02.742 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 15:05:02.742 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 15:05:03.292 +08:00 [DBG] Starting grant removal
2019-09-19 15:05:12.985 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 15:05:13.382 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 15:05:13.383 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 15:05:13.383 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 15:05:13.383 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 15:05:13.384 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 15:05:13.384 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 15:05:13.831 +08:00 [DBG] Starting grant removal
2019-09-19 15:05:27.833 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 15:05:28.174 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 15:05:28.175 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 15:05:28.175 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 15:05:28.175 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 15:05:28.176 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 15:05:28.176 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 15:05:28.614 +08:00 [DBG] Starting grant removal
2019-09-19 15:05:30.742 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 15:05:30.748 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 15:05:30.751 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 15:05:30.751 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 15:05:30.751 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 15:05:30.752 +08:00 [DBG] Error Url: /home/error
2019-09-19 15:05:30.752 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 15:05:30.798 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 15:05:30.822 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 15:05:30.823 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 15:05:30.834 +08:00 [DBG] Start token request.
2019-09-19 15:05:30.840 +08:00 [DBG] Start client validation
2019-09-19 15:05:30.848 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 15:05:30.851 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 15:05:30.880 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 15:05:30.880 +08:00 [DBG] Secret id found: passWordClient
2019-09-19 15:05:33.167 +08:00 [DBG] passWordClient found in database: true
2019-09-19 15:05:33.179 +08:00 [DBG] client configuration validation for client passWordClient succeeded.
2019-09-19 15:05:33.189 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 15:05:33.189 +08:00 [DBG] Client validation success
2019-09-19 15:05:33.208 +08:00 [INF] {"ClientId":"passWordClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSPV0U7TAF:00000001","TimeStamp":"2019-09-19T07:05:33.0000000Z","ProcessId":12688,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 15:05:33.237 +08:00 [DBG] Start token request validation
2019-09-19 15:05:33.252 +08:00 [DBG] Start resource owner password token request validation
2019-09-19 15:05:33.374 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 15:05:33.874 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 15:05:33.966 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 15:05:34.323 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 15:05:34.588 +08:00 [INF] {"Details":"System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)\r\n   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 414\r\n   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 151\r\n   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Validation\\Default\\TokenRequestValidator.cs:line 138\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 88\r\n   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Endpoints\\TokenEndpoint.cs:line 70\r\n   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\\local\\identity\\server4\\IdentityServer4\\src\\IdentityServer4\\src\\Hosting\\IdentityServerMiddleware.cs:line 54","Category":"Error","Name":"Unhandled Exception","EventType":"Error","Id":3000,"Message":"Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.","ActivityId":"0HLPSPV0U7TAF:00000001","TimeStamp":"2019-09-19T07:05:34.0000000Z","ProcessId":12688,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UnhandledExceptionEvent"}
2019-09-19 15:05:34.596 +08:00 [FTL] Unhandled exception: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
2019-09-19 15:05:34.782 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.MissingMethodException: Method not found: 'Void IdentityServer4.Events.UserLoginFailureEvent..ctor(System.String, System.String, Boolean)'.
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at System.Runtime.CompilerServices.AsyncMethodBuilderCore.Start[TStateMachine](TStateMachine& stateMachine)
   at IdentityServer4.AspNetIdentity.ResourceOwnerPasswordValidator`1.ValidateAsync(ResourceOwnerPasswordValidationContext context)
   at IdentityServer4.Validation.TokenRequestValidator.ValidateResourceOwnerCredentialRequestAsync(NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 414
   at IdentityServer4.Validation.TokenRequestValidator.RunValidationAsync(Func`2 validationFunc, NameValueCollection parameters) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 151
   at IdentityServer4.Validation.TokenRequestValidator.ValidateRequestAsync(NameValueCollection parameters, ClientSecretValidationResult clientValidationResult) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Validation\Default\TokenRequestValidator.cs:line 138
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessTokenRequestAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 88
   at IdentityServer4.Endpoints.TokenEndpoint.ProcessAsync(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Endpoints\TokenEndpoint.cs:line 70
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 54
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 69
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 15:08:20.559 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 15:08:20.909 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 15:08:20.910 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 15:08:20.911 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 15:08:20.911 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 15:08:20.911 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 15:08:20.911 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 15:08:21.374 +08:00 [DBG] Starting grant removal
2019-09-19 15:08:35.469 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 15:08:35.471 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 15:08:35.473 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 15:08:35.474 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 15:08:35.474 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 15:08:35.474 +08:00 [DBG] Error Url: /home/error
2019-09-19 15:08:35.475 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 15:08:35.519 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 15:08:35.552 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 15:08:35.555 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 15:08:35.564 +08:00 [DBG] Start token request.
2019-09-19 15:08:35.571 +08:00 [DBG] Start client validation
2019-09-19 15:08:35.577 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 15:08:35.583 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 15:08:35.620 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 15:08:35.621 +08:00 [DBG] Secret id found: passWordClient
2019-09-19 15:08:37.947 +08:00 [DBG] passWordClient found in database: true
2019-09-19 15:08:37.957 +08:00 [DBG] client configuration validation for client passWordClient succeeded.
2019-09-19 15:08:37.968 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 15:08:37.968 +08:00 [DBG] Client validation success
2019-09-19 15:08:37.984 +08:00 [INF] {"ClientId":"passWordClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSQ0NVS1EC:00000001","TimeStamp":"2019-09-19T07:08:37.0000000Z","ProcessId":18004,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 15:08:38.019 +08:00 [DBG] Start token request validation
2019-09-19 15:08:38.026 +08:00 [DBG] Start client credentials token request validation
2019-09-19 15:08:38.154 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 15:08:38.665 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 15:08:38.762 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 15:08:39.146 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 15:08:39.151 +08:00 [DBG] passWordClient credentials token request validation success
2019-09-19 15:08:39.158 +08:00 [INF] Token request validation success, {"ClientId":"passWordClient","ClientName":null,"GrantType":"client_credentials","Scopes":"rss","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"client_credentials","client_id":"passWordClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 15:08:39.185 +08:00 [DBG] Getting claims for access token for client: passWordClient
2019-09-19 15:08:39.260 +08:00 [INF] {"ClientId":"passWordClient","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"rss","GrantType":"client_credentials","Tokens":[{"TokenType":"access_token","TokenValue":"****jGFw","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPSQ0NVS1EC:00000001","TimeStamp":"2019-09-19T07:08:39.0000000Z","ProcessId":18004,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-09-19 15:08:39.267 +08:00 [DBG] Token request success.
2019-09-19 15:27:49.898 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 15:27:50.251 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 15:27:50.252 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 15:27:50.253 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 15:27:50.253 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 15:27:50.253 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 15:27:50.253 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 15:27:50.693 +08:00 [DBG] Starting grant removal
2019-09-19 15:27:52.802 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 15:27:52.804 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 15:27:52.807 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 15:27:52.808 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 15:27:52.808 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 15:27:52.809 +08:00 [DBG] Error Url: /home/error
2019-09-19 15:27:52.809 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 15:27:52.842 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 15:27:52.868 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 15:27:52.870 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 15:27:52.877 +08:00 [DBG] Start token request.
2019-09-19 15:27:52.887 +08:00 [DBG] Start client validation
2019-09-19 15:27:52.892 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 15:27:52.900 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 15:27:52.923 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 15:27:52.923 +08:00 [DBG] Secret id found: passWordClient
2019-09-19 15:27:55.235 +08:00 [DBG] passWordClient found in database: true
2019-09-19 15:27:55.252 +08:00 [ERR] Invalid client configuration for client passWordClient: No redirect URI configured.
2019-09-19 15:27:55.268 +08:00 [INF] {"ClientId":"passWordClient","ClientName":"unknown name","Category":"Error","Name":"Invalid Client Configuration","EventType":"Error","Id":3001,"Message":"No redirect URI configured.","ActivityId":"0HLPSQBGT643E:00000001","TimeStamp":"2019-09-19T07:27:55.0000000Z","ProcessId":16896,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"InvalidClientConfigurationEvent"}
2019-09-19 15:27:55.289 +08:00 [INF] {"ClientId":"passWordClient","Category":"Authentication","Name":"Client Authentication Failure","EventType":"Failure","Id":1011,"Message":"Unknown client","ActivityId":"0HLPSQBGT643E:00000001","TimeStamp":"2019-09-19T07:27:55.0000000Z","ProcessId":16896,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationFailureEvent"}
2019-09-19 15:27:55.290 +08:00 [ERR] No client with id 'passWordClient' found. aborting
2019-09-19 15:28:00.697 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 15:28:00.713 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 15:28:00.715 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 15:28:00.715 +08:00 [DBG] Start token request.
2019-09-19 15:28:00.716 +08:00 [DBG] Start client validation
2019-09-19 15:28:00.716 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 15:28:00.716 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 15:28:00.717 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 15:28:00.717 +08:00 [DBG] Secret id found: passWordClient
2019-09-19 15:28:01.459 +08:00 [DBG] passWordClient found in database: true
2019-09-19 15:28:01.459 +08:00 [ERR] Invalid client configuration for client passWordClient: No redirect URI configured.
2019-09-19 15:28:01.463 +08:00 [INF] {"ClientId":"passWordClient","ClientName":"unknown name","Category":"Error","Name":"Invalid Client Configuration","EventType":"Error","Id":3001,"Message":"No redirect URI configured.","ActivityId":"0HLPSQBGT643E:00000002","TimeStamp":"2019-09-19T07:28:01.0000000Z","ProcessId":16896,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"InvalidClientConfigurationEvent"}
2019-09-19 15:28:01.466 +08:00 [INF] {"ClientId":"passWordClient","Category":"Authentication","Name":"Client Authentication Failure","EventType":"Failure","Id":1011,"Message":"Unknown client","ActivityId":"0HLPSQBGT643E:00000002","TimeStamp":"2019-09-19T07:28:01.0000000Z","ProcessId":16896,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationFailureEvent"}
2019-09-19 15:28:01.468 +08:00 [ERR] No client with id 'passWordClient' found. aborting
2019-09-19 15:28:53.236 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 15:29:09.032 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 15:29:22.423 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 15:29:22.668 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 15:29:22.669 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 15:29:22.669 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 15:29:22.669 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 15:29:22.670 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 15:29:22.670 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 15:29:23.123 +08:00 [DBG] Starting grant removal
2019-09-19 15:29:28.701 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 15:29:28.703 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 15:29:28.705 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 15:29:28.706 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 15:29:28.706 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 15:29:28.707 +08:00 [DBG] Error Url: /home/error
2019-09-19 15:29:28.707 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 15:29:28.737 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 15:29:28.758 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 15:29:28.764 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 15:29:28.772 +08:00 [DBG] Start token request.
2019-09-19 15:29:28.782 +08:00 [DBG] Start client validation
2019-09-19 15:29:28.788 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 15:29:28.792 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 15:29:28.822 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 15:29:28.822 +08:00 [DBG] Secret id found: passWordClient
2019-09-19 15:29:31.105 +08:00 [DBG] passWordClient found in database: true
2019-09-19 15:29:31.121 +08:00 [DBG] client configuration validation for client passWordClient succeeded.
2019-09-19 15:29:31.137 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-19 15:29:31.138 +08:00 [DBG] Client validation success
2019-09-19 15:29:31.169 +08:00 [INF] {"ClientId":"passWordClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSQCDFHJJS:00000001","TimeStamp":"2019-09-19T07:29:31.0000000Z","ProcessId":10596,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 15:29:31.225 +08:00 [DBG] Start token request validation
2019-09-19 15:29:31.238 +08:00 [DBG] Start client credentials token request validation
2019-09-19 15:29:31.369 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 15:29:31.907 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 15:29:31.996 +08:00 [DBG] Found [] identity scopes in database
2019-09-19 15:29:32.341 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-19 15:29:32.352 +08:00 [DBG] passWordClient credentials token request validation success
2019-09-19 15:29:32.361 +08:00 [INF] Token request validation success, {"ClientId":"passWordClient","ClientName":null,"GrantType":"client_credentials","Scopes":"rss","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"client_credentials","client_id":"passWordClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-19 15:29:32.403 +08:00 [DBG] Getting claims for access token for client: passWordClient
2019-09-19 15:29:32.519 +08:00 [INF] {"ClientId":"passWordClient","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"rss","GrantType":"client_credentials","Tokens":[{"TokenType":"access_token","TokenValue":"****859A","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPSQCDFHJJS:00000001","TimeStamp":"2019-09-19T07:29:32.0000000Z","ProcessId":10596,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-09-19 15:29:32.524 +08:00 [DBG] Token request success.
2019-09-19 15:29:49.089 +08:00 [WRN] Query: '(from ClientRedirectUri t in [x].RedirectUris select [t].RedirectUri).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-19 15:29:49.093 +08:00 [WRN] Query: '(from ClientPostLogoutRedirectUri r in [x].PostLogoutRedirectUris select [r].PostLogoutRedirectUri)....' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-19 15:29:49.093 +08:00 [WRN] Query: '(from ClientSecret t in [x].ClientSecrets select [t].Value).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-19 15:31:22.583 +08:00 [DBG] TaskCanceledException. Exiting.
2019-09-19 15:31:23.430 +08:00 [DBG] Stopping grant removal
2019-09-19 15:33:49.469 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 15:33:49.508 +08:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-09-19 15:33:49.516 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 15:33:49.516 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 15:33:49.516 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 15:33:49.517 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 15:33:49.517 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 15:33:49.517 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 15:34:17.844 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 15:34:17.848 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 15:34:17.851 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 15:34:17.852 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 15:34:17.853 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 15:34:17.853 +08:00 [DBG] Error Url: /home/error
2019-09-19 15:34:17.853 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 15:34:17.885 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-19 15:34:17.893 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-19 15:34:17.894 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-19 15:34:17.909 +08:00 [DBG] Start token request.
2019-09-19 15:34:17.917 +08:00 [DBG] Start client validation
2019-09-19 15:34:17.922 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-19 15:34:17.925 +08:00 [DBG] Start parsing for secret in post body
2019-09-19 15:34:17.953 +08:00 [DBG] client id without secret found
2019-09-19 15:34:17.954 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-19 15:34:17.955 +08:00 [DBG] Secret id found: mvc
2019-09-19 15:34:17.976 +08:00 [DBG] client configuration validation for client mvc succeeded.
2019-09-19 15:34:17.980 +08:00 [DBG] Public Client - skipping secret validation success
2019-09-19 15:34:17.980 +08:00 [DBG] Client validation success
2019-09-19 15:34:18.001 +08:00 [INF] {"ClientId":"mvc","AuthenticationMethod":"NoSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPSQF3KSDBT:00000001","TimeStamp":"2019-09-19T07:34:17.0000000Z","ProcessId":13092,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-19 15:34:18.025 +08:00 [DBG] Start token request validation
2019-09-19 15:34:18.038 +08:00 [DBG] Start validation of custom grant token request
2019-09-19 15:34:18.047 +08:00 [ERR] No validator is registered for the grant type{"grantType":"implicit"}, details: {"ClientId":"mvc","ClientName":"MVC Client","GrantType":"implicit","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"implicit","client_id":"mvc"},"$type":"TokenRequestValidationLog"}
2019-09-19 15:34:18.052 +08:00 [INF] {"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":null,"GrantType":"implicit","Error":"unsupported_grant_type","ErrorDescription":null,"Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLPSQF3KSDBT:00000001","TimeStamp":"2019-09-19T07:34:18.0000000Z","ProcessId":13092,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-09-19 15:35:28.221 +08:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-09-19 15:35:28.235 +08:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-09-19 15:35:28.237 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-09-19 15:35:28.242 +08:00 [DBG] Start discovery request
2019-09-19 15:35:28.468 +08:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-09-19 15:35:28.470 +08:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-09-19 15:35:28.471 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-09-19 15:35:28.475 +08:00 [DBG] Start key discovery request
2019-09-19 15:35:28.559 +08:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-09-19 15:35:28.568 +08:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-09-19 15:35:28.569 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-09-19 15:35:28.573 +08:00 [DBG] Start authorize request
2019-09-19 15:35:28.582 +08:00 [DBG] No user present in authorize request
2019-09-19 15:35:28.588 +08:00 [DBG] Start authorize request protocol validation
2019-09-19 15:35:28.593 +08:00 [DBG] client configuration validation for client mvc succeeded.
2019-09-19 15:35:28.635 +08:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-09-19 15:35:28.640 +08:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://127.0.0.1:5002/signin-oidc","AllowedRedirectUris":["http://127.0.0.1:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8FwV9b6NwmJCgxR0MpJQz1kAuOLS5HQ4_2xkOUprAkRkJWz7Ur3zphaRvGKgVNh8JNzCLmbWjSuiCMT_2f4xHzh62dL_vSf0WjqgS1NkASkq3EonUyjItp9wV6fYJxnGEjFlvLQSmIa2pKdE_QP2C0FSGuqInt_EVOIsa6VlDX8yNYg2PwczgF5Ylir684nh6dRCuySl9GSC1RAnDAvCh66IsVwCG3zh0EdOiSUNgO2aflNcjP42h-JOvmzfkqyY1T_tX4lP4sbo2p3bfCFhEcit9rNnHXhFQU24W74W_EdNYkchQIT_dINOM8gpkR8mnVPT15evGA0AOfTg_mbhsOQ","UiLocales":null,"Nonce":"637044753285143735.NzU0MzQ1ZjUtMmIyZC00NjMxLWI5ZGQtZWZkMTNhZTkyNTAwNDYzOGFmMmMtMjE3Ni00ZGM2LWE5ZGItMjRjZDVhODBlOGIz","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://127.0.0.1:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"637044753285143735.NzU0MzQ1ZjUtMmIyZC00NjMxLWI5ZGQtZWZkMTNhZTkyNTAwNDYzOGFmMmMtMjE3Ni00ZGM2LWE5ZGItMjRjZDVhODBlOGIz","state":"CfDJ8FwV9b6NwmJCgxR0MpJQz1kAuOLS5HQ4_2xkOUprAkRkJWz7Ur3zphaRvGKgVNh8JNzCLmbWjSuiCMT_2f4xHzh62dL_vSf0WjqgS1NkASkq3EonUyjItp9wV6fYJxnGEjFlvLQSmIa2pKdE_QP2C0FSGuqInt_EVOIsa6VlDX8yNYg2PwczgF5Ylir684nh6dRCuySl9GSC1RAnDAvCh66IsVwCG3zh0EdOiSUNgO2aflNcjP42h-JOvmzfkqyY1T_tX4lP4sbo2p3bfCFhEcit9rNnHXhFQU24W74W_EdNYkchQIT_dINOM8gpkR8mnVPT15evGA0AOfTg_mbhsOQ","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-09-19 15:35:28.658 +08:00 [INF] Showing login: User is not authenticated
2019-09-19 15:35:29.750 +08:00 [DBG] Start authorize request protocol validation
2019-09-19 15:35:29.751 +08:00 [DBG] client configuration validation for client mvc succeeded.
2019-09-19 15:35:29.753 +08:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-09-19 15:35:29.756 +08:00 [DBG] client configuration validation for client mvc succeeded.
2019-09-19 15:35:37.732 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'IdentityServer4.EntityFramework.DbContexts.ConfigurationDbContext' while attempting to activate 'LBDIdentityServer4.Quickstart.ConfigurationManage.ConfigurationManageController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 15:35:41.941 +08:00 [DBG] Start authorize request protocol validation
2019-09-19 15:35:41.941 +08:00 [DBG] client configuration validation for client mvc succeeded.
2019-09-19 15:35:41.944 +08:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-09-19 15:35:41.946 +08:00 [DBG] client configuration validation for client mvc succeeded.
2019-09-19 15:35:53.853 +08:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-19 15:36:08.760 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'IdentityServer4.EntityFramework.DbContexts.ConfigurationDbContext' while attempting to activate 'LBDIdentityServer4.Quickstart.ConfigurationManage.ConfigurationManageController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean isDefaultParameterRequired)
   at lambda_method(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass4_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass5_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 15:36:10.573 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-19 15:38:03.781 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 15:38:03.816 +08:00 [INF] You are using the in-memory version of the persisted grant store. This will store consent decisions, authorization codes, refresh and reference tokens in memory only. If you are using any of those features in production, you want to switch to a different store implementation.
2019-09-19 15:38:03.823 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 15:38:03.824 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 15:38:03.824 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 15:38:03.824 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 15:38:03.825 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 15:38:03.825 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 15:38:16.322 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 15:38:16.324 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 15:38:16.326 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 15:38:16.327 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 15:38:16.328 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 15:38:16.329 +08:00 [DBG] Error Url: /home/error
2019-09-19 15:38:16.330 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 15:38:16.356 +08:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-09-19 15:38:16.362 +08:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-09-19 15:38:16.363 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-09-19 15:38:16.366 +08:00 [DBG] Start discovery request
2019-09-19 15:38:16.584 +08:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-09-19 15:38:16.597 +08:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-09-19 15:38:16.598 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-09-19 15:38:16.603 +08:00 [DBG] Start key discovery request
2019-09-19 15:38:16.699 +08:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-09-19 15:38:16.725 +08:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-09-19 15:38:16.727 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-09-19 15:38:16.738 +08:00 [DBG] Start authorize request
2019-09-19 15:38:16.754 +08:00 [DBG] No user present in authorize request
2019-09-19 15:38:16.761 +08:00 [DBG] Start authorize request protocol validation
2019-09-19 15:38:16.783 +08:00 [DBG] client configuration validation for client mvc succeeded.
2019-09-19 15:38:16.831 +08:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-09-19 15:38:16.850 +08:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://127.0.0.1:5002/signin-oidc","AllowedRedirectUris":["http://127.0.0.1:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8FwV9b6NwmJCgxR0MpJQz1lGCwTmiXipKrymFIkS8zJ0AlviapZoYWTFyL-3lrSp3X9Kh6Tq7s1CmjHHa4BzrZ3SK-cAZ80bm_QfdC_A9WBZV1GHiEdey2O3oa7XgHcIthWRVcGvvWDfKkjyY5dl_7wnAMbWdB3NvuzOZ0Z9wQZrgwut9tzXQGz9WEjjtW8dGz_ym2g6E-ha0KLUKnftXTNHEcVx7f2sBt4KP_6JJPENZeNgWA0RPK6OtxOn3cfOajFGupxko1K8Vt-cEtRSAK9ZZdxWoFCouPOdbHzguKgREBRRkPzKz-eUc3MqxwfV5Lx-3yeu510EfECgey2KCvc","UiLocales":null,"Nonce":"637044754966600579.MzAwYmQ1Y2QtNjcxYy00OTgyLTkxNjItYjg0NTg4OTliMGQ3Y2I0MDY0ZDMtNDBmMC00OGYyLThhNGUtOTIzNzEzZTFlOGRk","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://127.0.0.1:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"637044754966600579.MzAwYmQ1Y2QtNjcxYy00OTgyLTkxNjItYjg0NTg4OTliMGQ3Y2I0MDY0ZDMtNDBmMC00OGYyLThhNGUtOTIzNzEzZTFlOGRk","state":"CfDJ8FwV9b6NwmJCgxR0MpJQz1lGCwTmiXipKrymFIkS8zJ0AlviapZoYWTFyL-3lrSp3X9Kh6Tq7s1CmjHHa4BzrZ3SK-cAZ80bm_QfdC_A9WBZV1GHiEdey2O3oa7XgHcIthWRVcGvvWDfKkjyY5dl_7wnAMbWdB3NvuzOZ0Z9wQZrgwut9tzXQGz9WEjjtW8dGz_ym2g6E-ha0KLUKnftXTNHEcVx7f2sBt4KP_6JJPENZeNgWA0RPK6OtxOn3cfOajFGupxko1K8Vt-cEtRSAK9ZZdxWoFCouPOdbHzguKgREBRRkPzKz-eUc3MqxwfV5Lx-3yeu510EfECgey2KCvc","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-09-19 15:38:16.888 +08:00 [INF] Showing login: User is not authenticated
2019-09-19 15:38:17.533 +08:00 [DBG] Start authorize request protocol validation
2019-09-19 15:38:17.533 +08:00 [DBG] client configuration validation for client mvc succeeded.
2019-09-19 15:38:17.537 +08:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-09-19 15:38:17.541 +08:00 [DBG] client configuration validation for client mvc succeeded.
2019-09-19 15:39:16.939 +08:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-09-19 15:39:16.944 +08:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-09-19 15:39:16.948 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-09-19 15:39:16.949 +08:00 [DBG] Start authorize request
2019-09-19 15:39:16.949 +08:00 [DBG] No user present in authorize request
2019-09-19 15:39:16.950 +08:00 [DBG] Start authorize request protocol validation
2019-09-19 15:39:16.950 +08:00 [DBG] client configuration validation for client mvc succeeded.
2019-09-19 15:39:16.951 +08:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-09-19 15:39:16.952 +08:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://127.0.0.1:5002/signin-oidc","AllowedRedirectUris":["http://127.0.0.1:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8FwV9b6NwmJCgxR0MpJQz1lGCwTmiXipKrymFIkS8zJ0AlviapZoYWTFyL-3lrSp3X9Kh6Tq7s1CmjHHa4BzrZ3SK-cAZ80bm_QfdC_A9WBZV1GHiEdey2O3oa7XgHcIthWRVcGvvWDfKkjyY5dl_7wnAMbWdB3NvuzOZ0Z9wQZrgwut9tzXQGz9WEjjtW8dGz_ym2g6E-ha0KLUKnftXTNHEcVx7f2sBt4KP_6JJPENZeNgWA0RPK6OtxOn3cfOajFGupxko1K8Vt-cEtRSAK9ZZdxWoFCouPOdbHzguKgREBRRkPzKz-eUc3MqxwfV5Lx-3yeu510EfECgey2KCvc","UiLocales":null,"Nonce":"637044754966600579.MzAwYmQ1Y2QtNjcxYy00OTgyLTkxNjItYjg0NTg4OTliMGQ3Y2I0MDY0ZDMtNDBmMC00OGYyLThhNGUtOTIzNzEzZTFlOGRk","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://127.0.0.1:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"637044754966600579.MzAwYmQ1Y2QtNjcxYy00OTgyLTkxNjItYjg0NTg4OTliMGQ3Y2I0MDY0ZDMtNDBmMC00OGYyLThhNGUtOTIzNzEzZTFlOGRk","state":"CfDJ8FwV9b6NwmJCgxR0MpJQz1lGCwTmiXipKrymFIkS8zJ0AlviapZoYWTFyL-3lrSp3X9Kh6Tq7s1CmjHHa4BzrZ3SK-cAZ80bm_QfdC_A9WBZV1GHiEdey2O3oa7XgHcIthWRVcGvvWDfKkjyY5dl_7wnAMbWdB3NvuzOZ0Z9wQZrgwut9tzXQGz9WEjjtW8dGz_ym2g6E-ha0KLUKnftXTNHEcVx7f2sBt4KP_6JJPENZeNgWA0RPK6OtxOn3cfOajFGupxko1K8Vt-cEtRSAK9ZZdxWoFCouPOdbHzguKgREBRRkPzKz-eUc3MqxwfV5Lx-3yeu510EfECgey2KCvc","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-09-19 15:39:16.961 +08:00 [INF] Showing login: User is not authenticated
2019-09-19 15:39:17.020 +08:00 [DBG] Start authorize request protocol validation
2019-09-19 15:39:17.021 +08:00 [DBG] client configuration validation for client mvc succeeded.
2019-09-19 15:39:17.031 +08:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-09-19 15:39:17.033 +08:00 [DBG] client configuration validation for client mvc succeeded.
2019-09-19 15:39:55.061 +08:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-19 15:41:34.320 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 15:41:34.657 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 15:41:34.658 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 15:41:34.658 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 15:41:34.658 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 15:41:34.658 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 15:41:34.659 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 15:41:35.082 +08:00 [DBG] Starting grant removal
2019-09-19 15:41:46.126 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 15:41:46.128 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 15:41:46.130 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 15:41:46.131 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 15:41:46.132 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 15:41:46.132 +08:00 [DBG] Error Url: /home/error
2019-09-19 15:41:46.133 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 15:42:03.906 +08:00 [ERR] The view 'Index' was not found. Searched locations: ["/Views/ApiResource/Index.cshtml","/Views/Shared/Index.cshtml","/Pages/Shared/Index.cshtml"]
2019-09-19 15:42:04.514 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The view 'Index' was not found. The following locations were searched:
/Views/ApiResource/Index.cshtml
/Views/Shared/Index.cshtml
/Pages/Shared/Index.cshtml
   at Microsoft.AspNetCore.Mvc.ViewEngines.ViewEngineResult.EnsureSuccessful(IEnumerable`1 originalLocations)
   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)
   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-19 15:42:46.982 +08:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-09-19 15:42:47.001 +08:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-09-19 15:42:47.002 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-09-19 15:42:47.005 +08:00 [DBG] Start discovery request
2019-09-19 15:42:47.848 +08:00 [DBG] Found ["openid","profile","roles","rss"] as all scopes in database
2019-09-19 15:42:48.017 +08:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-09-19 15:42:48.019 +08:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-09-19 15:42:48.020 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-09-19 15:42:48.024 +08:00 [DBG] Start key discovery request
2019-09-19 15:42:48.088 +08:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-09-19 15:42:48.093 +08:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-09-19 15:42:48.093 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-09-19 15:42:48.098 +08:00 [DBG] Start authorize request
2019-09-19 15:42:48.107 +08:00 [DBG] No user present in authorize request
2019-09-19 15:42:48.112 +08:00 [DBG] Start authorize request protocol validation
2019-09-19 15:42:48.971 +08:00 [DBG] mvc found in database: true
2019-09-19 15:42:48.982 +08:00 [DBG] client configuration validation for client mvc succeeded.
2019-09-19 15:42:49.165 +08:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-09-19 15:42:49.281 +08:00 [DBG] Found [] API scopes in database
2019-09-19 15:42:49.416 +08:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-09-19 15:42:49.494 +08:00 [DBG] Found [] API scopes in database
2019-09-19 15:42:49.505 +08:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-09-19 15:42:49.516 +08:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://127.0.0.1:5002/signin-oidc","AllowedRedirectUris":["http://127.0.0.1:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8FwV9b6NwmJCgxR0MpJQz1nK1SToiHxkC4w4hURcm3cqsvX_vhAinPnb_ayQACiCMSUGLWv6X5R7Jnl6R9szQQiwXN9IJP6pWX2en5u6EfMge2eVmSMtOXSHLvcHLjuuvihr-1S9fA6Nrgt0DEbLvCaT_YRm8Cq0rLRjBwg65jx38BDQXtbIW1B4QqbgLN51YFytAy7_VvYjH03IrtygBXZ2mgcAnl1XSNT8Gj9ve1oLJiYkDKrwAJdmkyIpANG8og1iy1n0asT3j2b79leP5addaLr72fG3gCtA3UCaYL-7TaXR2baZfhHSBS12AY1rvT1dZjSx4vsj1ZW9qo29fWU","UiLocales":null,"Nonce":"637044757680656711.ZmI5NWZmZDktNmEyOS00ZWFiLTk3NjgtMTFjMmUyMWM0MDNkZGRiZTYwYjMtMWQzYS00YTllLWIzZDYtYmU5YTFlYmY3MWYz","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://127.0.0.1:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"637044757680656711.ZmI5NWZmZDktNmEyOS00ZWFiLTk3NjgtMTFjMmUyMWM0MDNkZGRiZTYwYjMtMWQzYS00YTllLWIzZDYtYmU5YTFlYmY3MWYz","state":"CfDJ8FwV9b6NwmJCgxR0MpJQz1nK1SToiHxkC4w4hURcm3cqsvX_vhAinPnb_ayQACiCMSUGLWv6X5R7Jnl6R9szQQiwXN9IJP6pWX2en5u6EfMge2eVmSMtOXSHLvcHLjuuvihr-1S9fA6Nrgt0DEbLvCaT_YRm8Cq0rLRjBwg65jx38BDQXtbIW1B4QqbgLN51YFytAy7_VvYjH03IrtygBXZ2mgcAnl1XSNT8Gj9ve1oLJiYkDKrwAJdmkyIpANG8og1iy1n0asT3j2b79leP5addaLr72fG3gCtA3UCaYL-7TaXR2baZfhHSBS12AY1rvT1dZjSx4vsj1ZW9qo29fWU","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-09-19 15:42:49.536 +08:00 [INF] Showing login: User is not authenticated
2019-09-19 15:42:49.634 +08:00 [DBG] Start authorize request protocol validation
2019-09-19 15:42:50.333 +08:00 [DBG] mvc found in database: true
2019-09-19 15:42:50.333 +08:00 [DBG] client configuration validation for client mvc succeeded.
2019-09-19 15:42:50.462 +08:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-09-19 15:42:50.539 +08:00 [DBG] Found [] API scopes in database
2019-09-19 15:42:50.666 +08:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-09-19 15:42:50.744 +08:00 [DBG] Found [] API scopes in database
2019-09-19 15:42:50.747 +08:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-09-19 15:42:51.450 +08:00 [DBG] mvc found in database: true
2019-09-19 15:42:51.450 +08:00 [DBG] client configuration validation for client mvc succeeded.
2019-09-19 15:43:07.484 +08:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-19 15:43:16.287 +08:00 [DBG] Augmenting SignInContext
2019-09-19 15:43:16.290 +08:00 [DBG] Adding idp claim with value: local
2019-09-19 15:43:16.290 +08:00 [DBG] Adding amr claim with value: pwd
2019-09-19 15:43:16.291 +08:00 [DBG] Adding auth_time claim with value: 1568878996
2019-09-19 15:43:16.306 +08:00 [INF] AuthenticationScheme: Identity.Application signed in.
2019-09-19 15:43:16.319 +08:00 [INF] {"Username":"873","Provider":null,"ProviderUserId":null,"SubjectId":"32d76073-03aa-4e1b-8eb3-a6d89745ac5c","DisplayName":"873","Endpoint":"UI","ClientId":null,"Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPSQJ92HG8S:00000003","TimeStamp":"2019-09-19T07:43:16.0000000Z","ProcessId":13668,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-09-19 15:43:16.363 +08:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-09-19 15:43:16.367 +08:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-09-19 15:43:16.368 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-09-19 15:43:16.375 +08:00 [DBG] Start authorize callback request
2019-09-19 15:43:16.385 +08:00 [DBG] User in authorize request: 32d76073-03aa-4e1b-8eb3-a6d89745ac5c
2019-09-19 15:43:16.386 +08:00 [DBG] Start authorize request protocol validation
2019-09-19 15:43:17.089 +08:00 [DBG] mvc found in database: true
2019-09-19 15:43:17.089 +08:00 [DBG] client configuration validation for client mvc succeeded.
2019-09-19 15:43:17.219 +08:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-09-19 15:43:17.296 +08:00 [DBG] Found [] API scopes in database
2019-09-19 15:43:17.425 +08:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-09-19 15:43:17.502 +08:00 [DBG] Found [] API scopes in database
2019-09-19 15:43:17.503 +08:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-09-19 15:43:17.504 +08:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://127.0.0.1:5002/signin-oidc","AllowedRedirectUris":["http://127.0.0.1:5002/signin-oidc"],"SubjectId":"32d76073-03aa-4e1b-8eb3-a6d89745ac5c","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8FwV9b6NwmJCgxR0MpJQz1nK1SToiHxkC4w4hURcm3cqsvX_vhAinPnb_ayQACiCMSUGLWv6X5R7Jnl6R9szQQiwXN9IJP6pWX2en5u6EfMge2eVmSMtOXSHLvcHLjuuvihr-1S9fA6Nrgt0DEbLvCaT_YRm8Cq0rLRjBwg65jx38BDQXtbIW1B4QqbgLN51YFytAy7_VvYjH03IrtygBXZ2mgcAnl1XSNT8Gj9ve1oLJiYkDKrwAJdmkyIpANG8og1iy1n0asT3j2b79leP5addaLr72fG3gCtA3UCaYL-7TaXR2baZfhHSBS12AY1rvT1dZjSx4vsj1ZW9qo29fWU","UiLocales":null,"Nonce":"637044757680656711.ZmI5NWZmZDktNmEyOS00ZWFiLTk3NjgtMTFjMmUyMWM0MDNkZGRiZTYwYjMtMWQzYS00YTllLWIzZDYtYmU5YTFlYmY3MWYz","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"190119fd1d43ca293dfe4accf980ca07","Raw":{"client_id":"mvc","redirect_uri":"http://127.0.0.1:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"637044757680656711.ZmI5NWZmZDktNmEyOS00ZWFiLTk3NjgtMTFjMmUyMWM0MDNkZGRiZTYwYjMtMWQzYS00YTllLWIzZDYtYmU5YTFlYmY3MWYz","state":"CfDJ8FwV9b6NwmJCgxR0MpJQz1nK1SToiHxkC4w4hURcm3cqsvX_vhAinPnb_ayQACiCMSUGLWv6X5R7Jnl6R9szQQiwXN9IJP6pWX2en5u6EfMge2eVmSMtOXSHLvcHLjuuvihr-1S9fA6Nrgt0DEbLvCaT_YRm8Cq0rLRjBwg65jx38BDQXtbIW1B4QqbgLN51YFytAy7_VvYjH03IrtygBXZ2mgcAnl1XSNT8Gj9ve1oLJiYkDKrwAJdmkyIpANG8og1iy1n0asT3j2b79leP5addaLr72fG3gCtA3UCaYL-7TaXR2baZfhHSBS12AY1rvT1dZjSx4vsj1ZW9qo29fWU","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-09-19 15:43:17.721 +08:00 [DBG] Z3I4DixnVKVqk+RhiPmqLHVW/d9TuZfSkg1yzFsYIWc= found in database: false
2019-09-19 15:43:17.723 +08:00 [DBG] user_consent grant with value: mvc|32d76073-03aa-4e1b-8eb3-a6d89745ac5c not found in store.
2019-09-19 15:43:17.724 +08:00 [DBG] Found no prior consent from consent store, consent is required
2019-09-19 15:43:17.724 +08:00 [INF] Showing consent: User has not yet consented
2019-09-19 15:43:17.789 +08:00 [DBG] Start authorize request protocol validation
2019-09-19 15:43:18.491 +08:00 [DBG] mvc found in database: true
2019-09-19 15:43:18.494 +08:00 [DBG] client configuration validation for client mvc succeeded.
2019-09-19 15:43:18.624 +08:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-09-19 15:43:18.701 +08:00 [DBG] Found [] API scopes in database
2019-09-19 15:43:18.830 +08:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-09-19 15:43:18.910 +08:00 [DBG] Found [] API scopes in database
2019-09-19 15:43:18.913 +08:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-09-19 15:43:19.615 +08:00 [DBG] mvc found in database: true
2019-09-19 15:43:19.616 +08:00 [DBG] client configuration validation for client mvc succeeded.
2019-09-19 15:43:19.745 +08:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-09-19 15:43:19.822 +08:00 [DBG] Found [] API scopes in database
2019-09-19 15:44:14.648 +08:00 [DBG] CORS request made for path: /consent from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-19 15:44:14.712 +08:00 [DBG] Start authorize request protocol validation
2019-09-19 15:44:15.415 +08:00 [DBG] mvc found in database: true
2019-09-19 15:44:15.415 +08:00 [DBG] client configuration validation for client mvc succeeded.
2019-09-19 15:44:15.547 +08:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-09-19 15:44:15.623 +08:00 [DBG] Found [] API scopes in database
2019-09-19 15:44:15.753 +08:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-09-19 15:44:15.829 +08:00 [DBG] Found [] API scopes in database
2019-09-19 15:44:15.830 +08:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-09-19 15:44:15.832 +08:00 [INF] {"SubjectId":"32d76073-03aa-4e1b-8eb3-a6d89745ac5c","ClientId":"mvc","RequestedScopes":["openid","profile"],"GrantedScopes":["openid","profile"],"ConsentRemembered":true,"Category":"Grants","Name":"Consent granted","EventType":"Information","Id":4000,"Message":null,"ActivityId":"0HLPSQJ92HG8S:00000008","TimeStamp":"2019-09-19T07:44:15.0000000Z","ProcessId":13668,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ConsentGrantedEvent"}
2019-09-19 15:44:16.554 +08:00 [DBG] mvc found in database: true
2019-09-19 15:44:16.554 +08:00 [DBG] client configuration validation for client mvc succeeded.
2019-09-19 15:44:16.568 +08:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-09-19 15:44:16.569 +08:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-09-19 15:44:16.570 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-09-19 15:44:16.574 +08:00 [DBG] Start authorize callback request
2019-09-19 15:44:16.581 +08:00 [DBG] User in authorize request: 32d76073-03aa-4e1b-8eb3-a6d89745ac5c
2019-09-19 15:44:16.582 +08:00 [DBG] Start authorize request protocol validation
2019-09-19 15:44:17.287 +08:00 [DBG] mvc found in database: true
2019-09-19 15:44:17.287 +08:00 [DBG] client configuration validation for client mvc succeeded.
2019-09-19 15:44:17.416 +08:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-09-19 15:44:17.492 +08:00 [DBG] Found [] API scopes in database
2019-09-19 15:44:17.620 +08:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-09-19 15:44:17.695 +08:00 [DBG] Found [] API scopes in database
2019-09-19 15:44:17.697 +08:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-09-19 15:44:17.699 +08:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://127.0.0.1:5002/signin-oidc","AllowedRedirectUris":["http://127.0.0.1:5002/signin-oidc"],"SubjectId":"32d76073-03aa-4e1b-8eb3-a6d89745ac5c","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8FwV9b6NwmJCgxR0MpJQz1nK1SToiHxkC4w4hURcm3cqsvX_vhAinPnb_ayQACiCMSUGLWv6X5R7Jnl6R9szQQiwXN9IJP6pWX2en5u6EfMge2eVmSMtOXSHLvcHLjuuvihr-1S9fA6Nrgt0DEbLvCaT_YRm8Cq0rLRjBwg65jx38BDQXtbIW1B4QqbgLN51YFytAy7_VvYjH03IrtygBXZ2mgcAnl1XSNT8Gj9ve1oLJiYkDKrwAJdmkyIpANG8og1iy1n0asT3j2b79leP5addaLr72fG3gCtA3UCaYL-7TaXR2baZfhHSBS12AY1rvT1dZjSx4vsj1ZW9qo29fWU","UiLocales":null,"Nonce":"637044757680656711.ZmI5NWZmZDktNmEyOS00ZWFiLTk3NjgtMTFjMmUyMWM0MDNkZGRiZTYwYjMtMWQzYS00YTllLWIzZDYtYmU5YTFlYmY3MWYz","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"190119fd1d43ca293dfe4accf980ca07","Raw":{"client_id":"mvc","redirect_uri":"http://127.0.0.1:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"637044757680656711.ZmI5NWZmZDktNmEyOS00ZWFiLTk3NjgtMTFjMmUyMWM0MDNkZGRiZTYwYjMtMWQzYS00YTllLWIzZDYtYmU5YTFlYmY3MWYz","state":"CfDJ8FwV9b6NwmJCgxR0MpJQz1nK1SToiHxkC4w4hURcm3cqsvX_vhAinPnb_ayQACiCMSUGLWv6X5R7Jnl6R9szQQiwXN9IJP6pWX2en5u6EfMge2eVmSMtOXSHLvcHLjuuvihr-1S9fA6Nrgt0DEbLvCaT_YRm8Cq0rLRjBwg65jx38BDQXtbIW1B4QqbgLN51YFytAy7_VvYjH03IrtygBXZ2mgcAnl1XSNT8Gj9ve1oLJiYkDKrwAJdmkyIpANG8og1iy1n0asT3j2b79leP5addaLr72fG3gCtA3UCaYL-7TaXR2baZfhHSBS12AY1rvT1dZjSx4vsj1ZW9qo29fWU","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-09-19 15:44:17.854 +08:00 [DBG] Z3I4DixnVKVqk+RhiPmqLHVW/d9TuZfSkg1yzFsYIWc= found in database: false
2019-09-19 15:44:17.857 +08:00 [DBG] user_consent grant with value: mvc|32d76073-03aa-4e1b-8eb3-a6d89745ac5c not found in store.
2019-09-19 15:44:17.858 +08:00 [DBG] Found no prior consent from consent store, consent is required
2019-09-19 15:44:17.862 +08:00 [INF] User consented to scopes: ["openid","profile"]
2019-09-19 15:44:17.864 +08:00 [DBG] User indicated to remember consent for scopes: ["openid","profile"]
2019-09-19 15:44:17.868 +08:00 [DBG] Client allows remembering consent, and consent given. Updating consent store for subject: 32d76073-03aa-4e1b-8eb3-a6d89745ac5c
2019-09-19 15:44:17.964 +08:00 [DBG] Z3I4DixnVKVqk+RhiPmqLHVW/d9TuZfSkg1yzFsYIWc= not found in database
2019-09-19 15:44:18.115 +08:00 [DBG] Creating Implicit Flow response.
2019-09-19 15:44:18.122 +08:00 [DBG] Getting claims for identity token for subject: 32d76073-03aa-4e1b-8eb3-a6d89745ac5c and client: mvc
2019-09-19 15:44:18.519 +08:00 [INF] {"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://127.0.0.1:5002/signin-oidc","Endpoint":"Authorize","SubjectId":"32d76073-03aa-4e1b-8eb3-a6d89745ac5c","Scopes":"openid profile","GrantType":"implicit","Tokens":[{"TokenType":"id_token","TokenValue":"****FroA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPSQJ92HG8S:00000009","TimeStamp":"2019-09-19T07:44:18.0000000Z","ProcessId":13668,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-09-19 15:44:18.528 +08:00 [DBG] Authorize endpoint response
{"SubjectId":"32d76073-03aa-4e1b-8eb3-a6d89745ac5c","ClientId":"mvc","RedirectUri":"http://127.0.0.1:5002/signin-oidc","State":"CfDJ8FwV9b6NwmJCgxR0MpJQz1nK1SToiHxkC4w4hURcm3cqsvX_vhAinPnb_ayQACiCMSUGLWv6X5R7Jnl6R9szQQiwXN9IJP6pWX2en5u6EfMge2eVmSMtOXSHLvcHLjuuvihr-1S9fA6Nrgt0DEbLvCaT_YRm8Cq0rLRjBwg65jx38BDQXtbIW1B4QqbgLN51YFytAy7_VvYjH03IrtygBXZ2mgcAnl1XSNT8Gj9ve1oLJiYkDKrwAJdmkyIpANG8og1iy1n0asT3j2b79leP5addaLr72fG3gCtA3UCaYL-7TaXR2baZfhHSBS12AY1rvT1dZjSx4vsj1ZW9qo29fWU","Scope":"openid profile","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2019-09-19 15:44:18.549 +08:00 [DBG] Augmenting SignInContext
2019-09-19 15:44:18.549 +08:00 [INF] AuthenticationScheme: Identity.Application signed in.
2019-09-19 15:44:32.547 +08:00 [DBG] Request path /connect/endsession matched to endpoint type Endsession
2019-09-19 15:44:32.550 +08:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionEndpoint
2019-09-19 15:44:32.551 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionEndpoint for /connect/endsession
2019-09-19 15:44:32.555 +08:00 [DBG] Processing signout request for 32d76073-03aa-4e1b-8eb3-a6d89745ac5c
2019-09-19 15:44:32.561 +08:00 [DBG] Start end session request validation
2019-09-19 15:44:32.569 +08:00 [DBG] Start identity token validation
2019-09-19 15:44:33.275 +08:00 [DBG] mvc found in database: true
2019-09-19 15:44:33.276 +08:00 [DBG] client configuration validation for client mvc succeeded.
2019-09-19 15:44:33.278 +08:00 [DBG] Client found: mvc / MVC Client
2019-09-19 15:44:33.374 +08:00 [DBG] Calling into custom token validator: IdentityServer4.Validation.DefaultCustomTokenValidator
2019-09-19 15:44:33.376 +08:00 [DBG] Token validation success
{"ClientId":"mvc","ClientName":"MVC Client","ValidateLifetime":false,"AccessTokenType":null,"ExpectedScope":null,"TokenHandle":null,"JwtId":null,"Claims":{"nbf":1568879058,"exp":1568879358,"iss":"http://localhost:5000","aud":"mvc","nonce":"637044757680656711.ZmI5NWZmZDktNmEyOS00ZWFiLTk3NjgtMTFjMmUyMWM0MDNkZGRiZTYwYjMtMWQzYS00YTllLWIzZDYtYmU5YTFlYmY3MWYz","iat":1568879058,"sid":"190119fd1d43ca293dfe4accf980ca07","sub":"32d76073-03aa-4e1b-8eb3-a6d89745ac5c","auth_time":1568878996,"idp":"local","preferred_username":"873","name":"873","amr":"pwd"},"$type":"TokenValidationLog"}
2019-09-19 15:44:33.382 +08:00 [INF] End session request validation success
{"ClientId":"mvc","ClientName":"MVC Client","SubjectId":"32d76073-03aa-4e1b-8eb3-a6d89745ac5c","PostLogOutUri":"http://127.0.0.1:5002/signout-callback-oidc","State":"CfDJ8FwV9b6NwmJCgxR0MpJQz1nXiHJId5dEmpRDJjKxzLIq2FWjjc8z7ojTR9B0mSFibzCXIvkR3QPGtzsPAgaL0sJ-SYu5h1fDCIkGDrDSrX_kIB5KOIKnsLE53Am2YKO25q0LAHKvX8Uea4i4PCSqFtq0g2teASx_umgudadiuy5y","Raw":{"post_logout_redirect_uri":"http://127.0.0.1:5002/signout-callback-oidc","id_token_hint":"***REDACTED***","state":"CfDJ8FwV9b6NwmJCgxR0MpJQz1nXiHJId5dEmpRDJjKxzLIq2FWjjc8z7ojTR9B0mSFibzCXIvkR3QPGtzsPAgaL0sJ-SYu5h1fDCIkGDrDSrX_kIB5KOIKnsLE53Am2YKO25q0LAHKvX8Uea4i4PCSqFtq0g2teASx_umgudadiuy5y","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"EndSessionRequestValidationLog"}
2019-09-19 15:44:33.387 +08:00 [DBG] Success validating end session request from mvc
2019-09-19 15:44:33.499 +08:00 [INF] AuthenticationScheme: Identity.Application signed out.
2019-09-19 15:44:33.501 +08:00 [INF] AuthenticationScheme: Identity.External signed out.
2019-09-19 15:44:33.503 +08:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2019-09-19 15:44:33.504 +08:00 [INF] {"SubjectId":"32d76073-03aa-4e1b-8eb3-a6d89745ac5c","DisplayName":"873","Category":"Authentication","Name":"User Logout Success","EventType":"Success","Id":1002,"Message":null,"ActivityId":"0HLPSQJ92HG8S:0000000B","TimeStamp":"2019-09-19T07:44:33.0000000Z","ProcessId":13668,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLogoutSuccessEvent"}
2019-09-19 15:44:33.775 +08:00 [DBG] Request path /connect/endsession/callback matched to endpoint type Endsession
2019-09-19 15:44:33.784 +08:00 [DBG] Endpoint enabled: Endsession, successfully created handler: IdentityServer4.Endpoints.EndSessionCallbackEndpoint
2019-09-19 15:44:33.785 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.EndSessionCallbackEndpoint for /connect/endsession/callback
2019-09-19 15:44:33.791 +08:00 [DBG] Processing signout callback request
2019-09-19 15:44:34.509 +08:00 [DBG] mvc found in database: true
2019-09-19 15:44:34.509 +08:00 [DBG] client configuration validation for client mvc succeeded.
2019-09-19 15:44:34.512 +08:00 [DBG] No client front-channel logout URLs
2019-09-19 15:44:34.513 +08:00 [DBG] No client back-channel logout URLs
2019-09-19 15:44:34.513 +08:00 [INF] Successful signout callback.
2019-09-19 15:44:34.513 +08:00 [DBG] No client front-channel iframe urls
2019-09-19 15:44:34.513 +08:00 [DBG] No client back-channel iframe urls
2019-09-19 15:44:35.940 +08:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-09-19 15:44:35.944 +08:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-09-19 15:44:35.944 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-09-19 15:44:35.946 +08:00 [DBG] Start authorize request
2019-09-19 15:44:35.948 +08:00 [DBG] No user present in authorize request
2019-09-19 15:44:35.948 +08:00 [DBG] Start authorize request protocol validation
2019-09-19 15:44:36.651 +08:00 [DBG] mvc found in database: true
2019-09-19 15:44:36.651 +08:00 [DBG] client configuration validation for client mvc succeeded.
2019-09-19 15:44:36.781 +08:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-09-19 15:44:36.857 +08:00 [DBG] Found [] API scopes in database
2019-09-19 15:44:36.984 +08:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-09-19 15:44:37.062 +08:00 [DBG] Found [] API scopes in database
2019-09-19 15:44:37.063 +08:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-09-19 15:44:37.064 +08:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://127.0.0.1:5002/signin-oidc","AllowedRedirectUris":["http://127.0.0.1:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile","State":"CfDJ8FwV9b6NwmJCgxR0MpJQz1k-OFewHmvP6SNxVLzSW_skIB4t0uzju1D18jxu8JBrCxlfvU1XRubp440IDhGK2gT8d0CcZd5X6gUa-KEuj6TnOuRPJl_V7oZCL-mg5vLlA44ok4086XKRha26ljogQfhoBkJkAMCwVekbYpDP0vwBX3LA0XZh-SADtAYeIsBlkk9ketkONVAJxcF03BxVLFROYq4IM2hCnlgUVyoP1wwQf95nAVPDGT_DJkkhH8CRHj5RiSQ71Wwisjlbom8HX8BD9eAUTRX9ZXBc57D8MQ-_-iX2FurNYI_J7HQ94prKBXL7wiF2PwRsAWiSfy1j7LY","UiLocales":null,"Nonce":"637044758759243987.YzQwMjRjM2YtMzlkZC00YTNlLWE3MmEtMWViMGYzY2JmOGFjZGQzZDczZGMtN2RiNy00NGMyLWJiZTMtNGJlMjA3MjcwNzQw","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://127.0.0.1:5002/signin-oidc","response_type":"id_token","scope":"openid profile","response_mode":"form_post","nonce":"637044758759243987.YzQwMjRjM2YtMzlkZC00YTNlLWE3MmEtMWViMGYzY2JmOGFjZGQzZDczZGMtN2RiNy00NGMyLWJiZTMtNGJlMjA3MjcwNzQw","state":"CfDJ8FwV9b6NwmJCgxR0MpJQz1k-OFewHmvP6SNxVLzSW_skIB4t0uzju1D18jxu8JBrCxlfvU1XRubp440IDhGK2gT8d0CcZd5X6gUa-KEuj6TnOuRPJl_V7oZCL-mg5vLlA44ok4086XKRha26ljogQfhoBkJkAMCwVekbYpDP0vwBX3LA0XZh-SADtAYeIsBlkk9ketkONVAJxcF03BxVLFROYq4IM2hCnlgUVyoP1wwQf95nAVPDGT_DJkkhH8CRHj5RiSQ71Wwisjlbom8HX8BD9eAUTRX9ZXBc57D8MQ-_-iX2FurNYI_J7HQ94prKBXL7wiF2PwRsAWiSfy1j7LY","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-09-19 15:44:37.068 +08:00 [INF] Showing login: User is not authenticated
2019-09-19 15:44:37.108 +08:00 [DBG] Start authorize request protocol validation
2019-09-19 15:44:37.809 +08:00 [DBG] mvc found in database: true
2019-09-19 15:44:37.810 +08:00 [DBG] client configuration validation for client mvc succeeded.
2019-09-19 15:44:37.938 +08:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-09-19 15:44:38.017 +08:00 [DBG] Found [] API scopes in database
2019-09-19 15:44:38.147 +08:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-09-19 15:44:38.224 +08:00 [DBG] Found [] API scopes in database
2019-09-19 15:44:38.226 +08:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-09-19 15:44:38.930 +08:00 [DBG] mvc found in database: true
2019-09-19 15:44:38.931 +08:00 [DBG] client configuration validation for client mvc succeeded.
2019-09-19 15:44:46.447 +08:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-19 15:44:58.757 +08:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-19 15:45:00.254 +08:00 [DBG] Augmenting SignInContext
2019-09-19 15:45:00.254 +08:00 [DBG] Adding idp claim with value: local
2019-09-19 15:45:00.255 +08:00 [DBG] Adding amr claim with value: pwd
2019-09-19 15:45:00.256 +08:00 [DBG] Adding auth_time claim with value: 1568879100
2019-09-19 15:45:00.257 +08:00 [INF] AuthenticationScheme: Identity.Application signed in.
2019-09-19 15:45:00.259 +08:00 [INF] {"Username":"873","Provider":null,"ProviderUserId":null,"SubjectId":"32d76073-03aa-4e1b-8eb3-a6d89745ac5c","DisplayName":"873","Endpoint":"UI","ClientId":null,"Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPSQJ92HG8Q:0000000A","TimeStamp":"2019-09-19T07:45:00.0000000Z","ProcessId":13668,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-09-19 15:45:08.424 +08:00 [WRN] Query: '(from ClientRedirectUri t in [x].RedirectUris select [t].RedirectUri).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-19 15:45:08.425 +08:00 [WRN] Query: '(from ClientPostLogoutRedirectUri r in [x].PostLogoutRedirectUris select [r].PostLogoutRedirectUri)....' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-19 15:45:08.427 +08:00 [WRN] Query: '(from ClientSecret t in [x].ClientSecrets select [t].Value).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-19 16:51:26.588 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-19 16:51:27.167 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-19 16:51:27.170 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-19 16:51:27.170 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-19 16:51:27.171 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-19 16:51:27.171 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-19 16:51:27.171 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-19 16:51:27.786 +08:00 [DBG] Starting grant removal
2019-09-19 16:51:35.473 +08:00 [DBG] Login Url: /Account/Login
2019-09-19 16:51:35.522 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-19 16:51:35.524 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-19 16:51:35.524 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-19 16:51:35.524 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-19 16:51:35.524 +08:00 [DBG] Error Url: /home/error
2019-09-19 16:51:35.537 +08:00 [DBG] Error Id Parameter: errorId
2019-09-19 16:52:06.603 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-19 16:52:16.008 +08:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-19 16:52:20.431 +08:00 [DBG] Augmenting SignInContext
2019-09-19 16:52:20.434 +08:00 [DBG] Adding idp claim with value: local
2019-09-19 16:52:20.435 +08:00 [DBG] Adding amr claim with value: pwd
2019-09-19 16:52:20.437 +08:00 [DBG] Adding auth_time claim with value: 1568883140
2019-09-19 16:52:20.469 +08:00 [INF] AuthenticationScheme: Identity.Application signed in.
2019-09-19 16:52:20.489 +08:00 [INF] {"Username":"873","Provider":null,"ProviderUserId":null,"SubjectId":"32d76073-03aa-4e1b-8eb3-a6d89745ac5c","DisplayName":"873","Endpoint":"UI","ClientId":null,"Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPSRQ97PEBI:00000004","TimeStamp":"2019-09-19T08:52:20.0000000Z","ProcessId":20444,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-09-19 16:52:54.953 +08:00 [DBG] CORS request made for path: /Device/UserCodeCapture from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-19 16:54:30.702 +08:00 [DBG] CORS request made for path: /Device/UserCodeCapture from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-19 16:55:23.645 +08:00 [DBG] CORS request made for path: /Device/UserCodeCapture from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-19 16:56:23.480 +08:00 [DBG] 1 persisted grants found for 32d76073-03aa-4e1b-8eb3-a6d89745ac5c
2019-09-19 16:56:25.065 +08:00 [DBG] mvc found in database: true
2019-09-19 16:56:25.074 +08:00 [DBG] client configuration validation for client mvc succeeded.
2019-09-19 16:56:25.264 +08:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-09-19 16:56:25.441 +08:00 [DBG] Found [] API scopes in database
2019-09-19 16:56:41.422 +08:00 [DBG] 1 persisted grants found for 32d76073-03aa-4e1b-8eb3-a6d89745ac5c
2019-09-19 16:56:42.155 +08:00 [DBG] mvc found in database: true
2019-09-19 16:56:42.156 +08:00 [DBG] client configuration validation for client mvc succeeded.
2019-09-19 16:56:42.295 +08:00 [DBG] Found ["openid","profile"] identity scopes in database
2019-09-19 16:56:42.375 +08:00 [DBG] Found [] API scopes in database
2019-09-19 16:57:08.523 +08:00 [DBG] CORS request made for path: /Grants/Revoke from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-19 16:57:08.662 +08:00 [DBG] removing 1 persisted grants from database for subject 32d76073-03aa-4e1b-8eb3-a6d89745ac5c, clientId mvc
2019-09-19 16:57:08.860 +08:00 [INF] {"SubjectId":"32d76073-03aa-4e1b-8eb3-a6d89745ac5c","ClientId":"mvc","Category":"Grants","Name":"Grants revoked","EventType":"Information","Id":4002,"Message":null,"ActivityId":"0HLPSRQ97PEBQ:00000004","TimeStamp":"2019-09-19T08:57:08.0000000Z","ProcessId":20444,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"GrantsRevokedEvent"}
2019-09-19 16:57:08.988 +08:00 [DBG] 0 persisted grants found for 32d76073-03aa-4e1b-8eb3-a6d89745ac5c
2019-09-19 16:58:16.951 +08:00 [ERR] No consent request matching request: null
2019-09-19 17:01:05.818 +08:00 [DBG] 0 persisted grants found for 32d76073-03aa-4e1b-8eb3-a6d89745ac5c
2019-09-19 17:01:06.955 +08:00 [WRN] Query: '(from ClientRedirectUri t in [x].RedirectUris select [t].RedirectUri).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-19 17:01:06.957 +08:00 [WRN] Query: '(from ClientPostLogoutRedirectUri r in [x].PostLogoutRedirectUris select [r].PostLogoutRedirectUri)....' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-19 17:01:06.957 +08:00 [WRN] Query: '(from ClientSecret t in [x].ClientSecrets select [t].Value).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-19 17:01:09.973 +08:00 [DBG] 0 persisted grants found for 32d76073-03aa-4e1b-8eb3-a6d89745ac5c
2019-09-19 17:01:11.785 +08:00 [DBG] 0 persisted grants found for 32d76073-03aa-4e1b-8eb3-a6d89745ac5c
2019-09-19 17:01:14.737 +08:00 [DBG] 0 persisted grants found for 32d76073-03aa-4e1b-8eb3-a6d89745ac5c
2019-09-20 08:52:17.283 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-20 08:52:17.476 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-20 08:52:17.477 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-20 08:52:17.477 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-20 08:52:17.477 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-20 08:52:17.477 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-20 08:52:17.477 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-20 08:52:17.631 +08:00 [DBG] Starting grant removal
2019-09-20 08:52:18.164 +08:00 [DBG] Login Url: /Account/Login
2019-09-20 08:52:18.166 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-20 08:52:18.168 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-20 08:52:18.168 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-20 08:52:18.168 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-20 08:52:18.169 +08:00 [DBG] Error Url: /home/error
2019-09-20 08:52:18.169 +08:00 [DBG] Error Id Parameter: errorId
2019-09-20 08:52:19.700 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-20 08:52:21.816 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-20 08:52:22.569 +08:00 [WRN] Query: '(from ClientRedirectUri t in [x].RedirectUris select [t].RedirectUri).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 08:52:22.576 +08:00 [WRN] Query: '(from ClientPostLogoutRedirectUri r in [x].PostLogoutRedirectUris select [r].PostLogoutRedirectUri)....' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 08:52:22.576 +08:00 [WRN] Query: '(from ClientSecret t in [x].ClientSecrets select [t].Value).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 08:52:37.824 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-20 08:52:39.053 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-20 08:52:47.617 +08:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-20 08:52:48.320 +08:00 [DBG] Augmenting SignInContext
2019-09-20 08:52:48.323 +08:00 [DBG] Adding idp claim with value: local
2019-09-20 08:52:48.323 +08:00 [DBG] Adding amr claim with value: pwd
2019-09-20 08:52:48.323 +08:00 [DBG] Adding auth_time claim with value: 1568940768
2019-09-20 08:52:48.333 +08:00 [INF] AuthenticationScheme: Identity.Application signed in.
2019-09-20 08:52:48.351 +08:00 [INF] {"Username":"873","Provider":null,"ProviderUserId":null,"SubjectId":"32d76073-03aa-4e1b-8eb3-a6d89745ac5c","DisplayName":"873","Endpoint":"UI","ClientId":null,"Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPTCJ4K841R:0000000E","TimeStamp":"2019-09-20T00:52:48.0000000Z","ProcessId":856,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-09-20 08:52:48.495 +08:00 [DBG] 0 persisted grants found for 32d76073-03aa-4e1b-8eb3-a6d89745ac5c
2019-09-20 08:52:50.501 +08:00 [DBG] 0 persisted grants found for 32d76073-03aa-4e1b-8eb3-a6d89745ac5c
2019-09-20 08:52:56.406 +08:00 [DBG] 0 persisted grants found for 32d76073-03aa-4e1b-8eb3-a6d89745ac5c
2019-09-20 08:52:59.592 +08:00 [DBG] 0 persisted grants found for 32d76073-03aa-4e1b-8eb3-a6d89745ac5c
2019-09-20 08:53:14.688 +08:00 [DBG] 0 persisted grants found for 32d76073-03aa-4e1b-8eb3-a6d89745ac5c
2019-09-20 09:52:17.902 +08:00 [INF] Removing 0 grants
2019-09-20 09:54:01.665 +08:00 [DBG] TaskCanceledException. Exiting.
2019-09-20 09:54:01.674 +08:00 [DBG] Stopping grant removal
2019-09-20 09:54:15.034 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-20 09:54:15.500 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-20 09:54:15.501 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-20 09:54:15.501 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-20 09:54:15.501 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-20 09:54:15.501 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-20 09:54:15.501 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-20 09:54:16.016 +08:00 [DBG] Starting grant removal
2019-09-20 09:54:25.393 +08:00 [DBG] Login Url: /Account/Login
2019-09-20 09:54:25.395 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-20 09:54:25.396 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-20 09:54:25.397 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-20 09:54:25.397 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-20 09:54:25.398 +08:00 [DBG] Error Url: /home/error
2019-09-20 09:54:25.399 +08:00 [DBG] Error Id Parameter: errorId
2019-09-20 09:54:45.235 +08:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-09-20 09:54:45.242 +08:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-09-20 09:54:45.243 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-09-20 09:54:45.247 +08:00 [DBG] Start discovery request
2019-09-20 09:54:46.416 +08:00 [DBG] Found ["openid","profile","roles","rss"] as all scopes in database
2019-09-20 09:54:46.616 +08:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-09-20 09:54:46.619 +08:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-09-20 09:54:46.620 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-09-20 09:54:46.624 +08:00 [DBG] Start key discovery request
2019-09-20 09:54:47.085 +08:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-09-20 09:54:47.090 +08:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-09-20 09:54:47.091 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-09-20 09:54:47.095 +08:00 [DBG] Start authorize request
2019-09-20 09:54:47.115 +08:00 [DBG] User in authorize request: 32d76073-03aa-4e1b-8eb3-a6d89745ac5c
2019-09-20 09:54:47.122 +08:00 [DBG] Start authorize request protocol validation
2019-09-20 09:54:48.094 +08:00 [DBG] mvc found in database: true
2019-09-20 09:54:48.106 +08:00 [DBG] client configuration validation for client mvc succeeded.
2019-09-20 09:54:48.290 +08:00 [DBG] Found ["openid","profile","roles"] identity scopes in database
2019-09-20 09:54:48.404 +08:00 [DBG] Found [] API scopes in database
2019-09-20 09:54:48.536 +08:00 [DBG] Found ["openid","profile","roles"] identity scopes in database
2019-09-20 09:54:48.613 +08:00 [DBG] Found [] API scopes in database
2019-09-20 09:54:48.616 +08:00 [ERR] Requested scope not allowed: roles
2019-09-20 09:54:48.620 +08:00 [ERR] Request validation failed
2019-09-20 09:54:48.632 +08:00 [INF] {"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://127.0.0.1:5002/signin-oidc","AllowedRedirectUris":["http://127.0.0.1:5002/signin-oidc"],"SubjectId":"32d76073-03aa-4e1b-8eb3-a6d89745ac5c","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile roles","State":"CfDJ8FwV9b6NwmJCgxR0MpJQz1lh4ChVwyqX9zv-51Rjr5VFoWxFRqJXRmJe2TRoo4jAuf5RAJub4HRQbgIic_JlQzBWNLJSJ-XijxJR7cPDwUXDmqP6NtiBqvJTZW8-lx8xWTAzGCR7MM5gIVQr08Dk1JdIKUT43Kzs8qp_cl1yQH6UZj-I2k4jP8UuY-9BuGad7sAdYhEARua3eahJA7A882Ehyk4sAane3woGKzmfPffh-W_uKhiFSuboqRcfevy-qf5TCDwoWKLTsA-Z45sWtESrUb6Wf1yYHjz3kTdFuUMjVkhtpMo8H_OYuxOr8civVCFziRVGQYRFMJp05nZmM9M","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://127.0.0.1:5002/signin-oidc","response_type":"id_token","scope":"openid profile roles","response_mode":"form_post","nonce":"637045412866788118.Y2ZkMWY5NzMtNTIyMi00Y2E5LTg1N2YtYTVmZmIzYmRlNjc2ZDA1YzhlZTMtNmZmMS00NGNlLTgxNDktYzc5MWY1MTNiM2Vi","state":"CfDJ8FwV9b6NwmJCgxR0MpJQz1lh4ChVwyqX9zv-51Rjr5VFoWxFRqJXRmJe2TRoo4jAuf5RAJub4HRQbgIic_JlQzBWNLJSJ-XijxJR7cPDwUXDmqP6NtiBqvJTZW8-lx8xWTAzGCR7MM5gIVQr08Dk1JdIKUT43Kzs8qp_cl1yQH6UZj-I2k4jP8UuY-9BuGad7sAdYhEARua3eahJA7A882Ehyk4sAane3woGKzmfPffh-W_uKhiFSuboqRcfevy-qf5TCDwoWKLTsA-Z45sWtESrUb6Wf1yYHjz3kTdFuUMjVkhtpMo8H_OYuxOr8civVCFziRVGQYRFMJp05nZmM9M","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-09-20 09:54:48.655 +08:00 [INF] {"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://127.0.0.1:5002/signin-oidc","Endpoint":"Authorize","SubjectId":"32d76073-03aa-4e1b-8eb3-a6d89745ac5c","Scopes":"openid profile roles","GrantType":"implicit","Error":"unauthorized_client","ErrorDescription":"Invalid scope for client","Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLPTDLR7TO54:00000001","TimeStamp":"2019-09-20T01:54:48.0000000Z","ProcessId":10304,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-09-20 09:55:11.526 +08:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-09-20 09:55:11.529 +08:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-09-20 09:55:11.531 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-09-20 09:55:11.533 +08:00 [DBG] Start authorize request
2019-09-20 09:55:11.534 +08:00 [DBG] User in authorize request: 32d76073-03aa-4e1b-8eb3-a6d89745ac5c
2019-09-20 09:55:11.534 +08:00 [DBG] Start authorize request protocol validation
2019-09-20 09:55:12.227 +08:00 [DBG] mvc found in database: true
2019-09-20 09:55:12.228 +08:00 [ERR] Invalid client configuration for client mvc: Client secret is required for client_credentials, but no client secret is configured.
2019-09-20 09:55:12.231 +08:00 [INF] {"ClientId":"mvc","ClientName":"MVC Client","Category":"Error","Name":"Invalid Client Configuration","EventType":"Error","Id":3001,"Message":"Client secret is required for client_credentials, but no client secret is configured.","ActivityId":"0HLPTDLR7TO56:00000002","TimeStamp":"2019-09-20T01:55:12.0000000Z","ProcessId":10304,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"InvalidClientConfigurationEvent"}
2019-09-20 09:55:12.234 +08:00 [ERR] Unknown client or not enabled: mvc
{"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"32d76073-03aa-4e1b-8eb3-a6d89745ac5c","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://127.0.0.1:5002/signin-oidc","response_type":"id_token","scope":"openid profile roles","response_mode":"form_post","nonce":"637045413115126099.ZjQ1ZTE4OTAtZjYyNy00MmU5LTlhZjQtYzFlYWJiNWU3Yjg1NDdiYjk5ZDAtNTYzNC00YjhhLThjMWMtOTNhODY3Y2U1NjE5","state":"CfDJ8FwV9b6NwmJCgxR0MpJQz1lTYAqR1zCVTH22xt9IlxG8SuDoz3Scw-8ejEmVSmXL1SClf4qQzGkZ2ksuj5wlWAnoGSTUC3cm411Ot5pd7Fffrqdh5NCk__0q_EUMKvXZ11pbPS9GxY-vKxbfhv8ex2ADo_oA2H_COEJcuQt0PSRu9A_qOSRU5QJ_kWrpTDj1Ci1ti-poFBxUAgWGoW6Xzbxw40e-EjjkXrXuokBcLRvcmMZZFUXTrxfu-FYKUr0-5Q54KgNlWl-tEuYAnPWz9cO0gZ9saIM5pOv2wk4u1LmIjtQUwlvZqqZrriBP6Rzoq6_ovGJO10sX966nBV9qbfo","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-09-20 09:55:12.242 +08:00 [ERR] Request validation failed
2019-09-20 09:55:12.242 +08:00 [INF] {"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"32d76073-03aa-4e1b-8eb3-a6d89745ac5c","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://127.0.0.1:5002/signin-oidc","response_type":"id_token","scope":"openid profile roles","response_mode":"form_post","nonce":"637045413115126099.ZjQ1ZTE4OTAtZjYyNy00MmU5LTlhZjQtYzFlYWJiNWU3Yjg1NDdiYjk5ZDAtNTYzNC00YjhhLThjMWMtOTNhODY3Y2U1NjE5","state":"CfDJ8FwV9b6NwmJCgxR0MpJQz1lTYAqR1zCVTH22xt9IlxG8SuDoz3Scw-8ejEmVSmXL1SClf4qQzGkZ2ksuj5wlWAnoGSTUC3cm411Ot5pd7Fffrqdh5NCk__0q_EUMKvXZ11pbPS9GxY-vKxbfhv8ex2ADo_oA2H_COEJcuQt0PSRu9A_qOSRU5QJ_kWrpTDj1Ci1ti-poFBxUAgWGoW6Xzbxw40e-EjjkXrXuokBcLRvcmMZZFUXTrxfu-FYKUr0-5Q54KgNlWl-tEuYAnPWz9cO0gZ9saIM5pOv2wk4u1LmIjtQUwlvZqqZrriBP6Rzoq6_ovGJO10sX966nBV9qbfo","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-09-20 09:55:12.249 +08:00 [INF] {"ClientId":"mvc","ClientName":null,"RedirectUri":null,"Endpoint":"Authorize","SubjectId":"32d76073-03aa-4e1b-8eb3-a6d89745ac5c","Scopes":"","GrantType":null,"Error":"unauthorized_client","ErrorDescription":"Unknown client or client not enabled","Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLPTDLR7TO56:00000002","TimeStamp":"2019-09-20T01:55:12.0000000Z","ProcessId":10304,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-09-20 09:55:52.934 +08:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-09-20 09:55:52.938 +08:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-09-20 09:55:52.939 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-09-20 09:55:52.939 +08:00 [DBG] Start authorize request
2019-09-20 09:55:52.940 +08:00 [DBG] User in authorize request: 32d76073-03aa-4e1b-8eb3-a6d89745ac5c
2019-09-20 09:55:52.941 +08:00 [DBG] Start authorize request protocol validation
2019-09-20 09:55:53.633 +08:00 [DBG] mvc found in database: true
2019-09-20 09:55:53.633 +08:00 [DBG] client configuration validation for client mvc succeeded.
2019-09-20 09:55:53.766 +08:00 [DBG] Found ["openid","profile","roles"] identity scopes in database
2019-09-20 09:55:53.842 +08:00 [DBG] Found [] API scopes in database
2019-09-20 09:55:53.974 +08:00 [DBG] Found ["openid","profile","roles"] identity scopes in database
2019-09-20 09:55:54.050 +08:00 [DBG] Found [] API scopes in database
2019-09-20 09:55:54.052 +08:00 [ERR] Requested scope not allowed: roles
2019-09-20 09:55:54.053 +08:00 [ERR] Request validation failed
2019-09-20 09:55:54.054 +08:00 [INF] {"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://127.0.0.1:5002/signin-oidc","AllowedRedirectUris":["http://127.0.0.1:5002/signin-oidc"],"SubjectId":"32d76073-03aa-4e1b-8eb3-a6d89745ac5c","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile roles","State":"CfDJ8FwV9b6NwmJCgxR0MpJQz1mZLHWaEpT8ochot2PzLcV6FBaAq2US7tTyYnt9Zn14vpZjWrfq7SL3Nkyp-UbcYDTBIs1p1TiSnOfM3WtsK8SYJO-SL-U30wugAbCeskQ5rYmvIC6FsxZXEWyJargIj7QE7Wq3xfdO9qTUEiMezVJb6LCht0mLqJDJ4N2hP00EnH_1PRKMqzRQCuDhzaJCt1brAlM-MZKYYswY5tA9J205o8qRGdYQ8vMyuMC-zMcy6ZCL-zjPUoP6kVEP3eVNCnH3ZyrwvaQQhpg6hd3Xue8udfm0qJ3JuGsqpozSAEvJgqYvPQunqiVsg0YdKYQxBJE","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://127.0.0.1:5002/signin-oidc","response_type":"id_token","scope":"openid profile roles","response_mode":"form_post","nonce":"637045413529191442.MjFhNjk2Y2ItZjc1Mi00YzZlLWJmMzgtZWVkNzFiNmZkZDE3NDg3YjhhYjktODhkMC00ZmEzLWFlYWMtNzhiOTE3OTkxOTQ1","state":"CfDJ8FwV9b6NwmJCgxR0MpJQz1mZLHWaEpT8ochot2PzLcV6FBaAq2US7tTyYnt9Zn14vpZjWrfq7SL3Nkyp-UbcYDTBIs1p1TiSnOfM3WtsK8SYJO-SL-U30wugAbCeskQ5rYmvIC6FsxZXEWyJargIj7QE7Wq3xfdO9qTUEiMezVJb6LCht0mLqJDJ4N2hP00EnH_1PRKMqzRQCuDhzaJCt1brAlM-MZKYYswY5tA9J205o8qRGdYQ8vMyuMC-zMcy6ZCL-zjPUoP6kVEP3eVNCnH3ZyrwvaQQhpg6hd3Xue8udfm0qJ3JuGsqpozSAEvJgqYvPQunqiVsg0YdKYQxBJE","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-09-20 09:55:54.065 +08:00 [INF] {"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://127.0.0.1:5002/signin-oidc","Endpoint":"Authorize","SubjectId":"32d76073-03aa-4e1b-8eb3-a6d89745ac5c","Scopes":"openid profile roles","GrantType":"implicit","Error":"unauthorized_client","ErrorDescription":"Invalid scope for client","Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLPTDLR7TO57:00000004","TimeStamp":"2019-09-20T01:55:54.0000000Z","ProcessId":10304,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-09-20 09:56:10.795 +08:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-09-20 09:56:10.800 +08:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-09-20 09:56:10.802 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-09-20 09:56:10.804 +08:00 [DBG] Start discovery request
2019-09-20 09:56:11.248 +08:00 [DBG] Found ["openid","profile","roles","rss"] as all scopes in database
2019-09-20 09:56:11.406 +08:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-09-20 09:56:11.408 +08:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-09-20 09:56:11.409 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-09-20 09:56:11.410 +08:00 [DBG] Start key discovery request
2019-09-20 09:56:11.471 +08:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-09-20 09:56:11.474 +08:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-09-20 09:56:11.474 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-09-20 09:56:11.475 +08:00 [DBG] Start authorize request
2019-09-20 09:56:11.475 +08:00 [DBG] No user present in authorize request
2019-09-20 09:56:11.475 +08:00 [DBG] Start authorize request protocol validation
2019-09-20 09:56:12.168 +08:00 [DBG] mvc found in database: true
2019-09-20 09:56:12.168 +08:00 [DBG] client configuration validation for client mvc succeeded.
2019-09-20 09:56:12.295 +08:00 [DBG] Found ["openid","profile","roles"] identity scopes in database
2019-09-20 09:56:12.370 +08:00 [DBG] Found [] API scopes in database
2019-09-20 09:56:12.497 +08:00 [DBG] Found ["openid","profile","roles"] identity scopes in database
2019-09-20 09:56:12.574 +08:00 [DBG] Found [] API scopes in database
2019-09-20 09:56:12.575 +08:00 [ERR] Requested scope not allowed: roles
2019-09-20 09:56:12.577 +08:00 [ERR] Request validation failed
2019-09-20 09:56:12.578 +08:00 [INF] {"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://127.0.0.1:5002/signin-oidc","AllowedRedirectUris":["http://127.0.0.1:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile roles","State":"CfDJ8FwV9b6NwmJCgxR0MpJQz1mXTJP0dQPGDCjRQTkuHMPM--THbZxYVlGzFsteorvFC4yEv6N43CWvCfGptaGxkDx0-PwI0b0w6PkREGFdwN8TCz1wDVyMkj1nNdv-Z-JR4ueCAJxysOQ7_uQLI1gEr6dQUnIj6mr7Y6_syMClLnPdd7qRKShKKDsUEloXG5NDOKlWR7xd2Npilj_bTvnirLMbcqYGLgOEyEuC5Dm6Hpat8zHhr0xrb2cC-PTXqFd96QWFQJsPT40OGTbt-gwyAqQQS6cCB0rZ0u29Tq2Qgd5WoIhonYveFaCBRNW4uq0JZODhjYP_NlsxgliSxIQEOBc","UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://127.0.0.1:5002/signin-oidc","response_type":"id_token","scope":"openid profile roles","response_mode":"form_post","nonce":"637045413714401734.YTlhZGJmMjItOGZhZi00YmFmLTgwODAtMDg0Mjk0YzdjYjNiODc4YTI5MTctODk1Yy00MjJhLThjYTAtMzVhZGI4OTgyNzk5","state":"CfDJ8FwV9b6NwmJCgxR0MpJQz1mXTJP0dQPGDCjRQTkuHMPM--THbZxYVlGzFsteorvFC4yEv6N43CWvCfGptaGxkDx0-PwI0b0w6PkREGFdwN8TCz1wDVyMkj1nNdv-Z-JR4ueCAJxysOQ7_uQLI1gEr6dQUnIj6mr7Y6_syMClLnPdd7qRKShKKDsUEloXG5NDOKlWR7xd2Npilj_bTvnirLMbcqYGLgOEyEuC5Dm6Hpat8zHhr0xrb2cC-PTXqFd96QWFQJsPT40OGTbt-gwyAqQQS6cCB0rZ0u29Tq2Qgd5WoIhonYveFaCBRNW4uq0JZODhjYP_NlsxgliSxIQEOBc","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-09-20 09:56:12.585 +08:00 [INF] {"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://127.0.0.1:5002/signin-oidc","Endpoint":"Authorize","SubjectId":null,"Scopes":"openid profile roles","GrantType":"implicit","Error":"unauthorized_client","ErrorDescription":"Invalid scope for client","Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLPTDLR7TO59:00000001","TimeStamp":"2019-09-20T01:56:12.0000000Z","ProcessId":10304,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-09-20 09:56:35.159 +08:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-09-20 09:56:35.174 +08:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-09-20 09:56:35.175 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-09-20 09:56:35.175 +08:00 [DBG] Start authorize request
2019-09-20 09:56:35.176 +08:00 [DBG] No user present in authorize request
2019-09-20 09:56:35.176 +08:00 [DBG] Start authorize request protocol validation
2019-09-20 09:56:35.865 +08:00 [DBG] mvc found in database: true
2019-09-20 09:56:35.865 +08:00 [DBG] client configuration validation for client mvc succeeded.
2019-09-20 09:56:35.991 +08:00 [DBG] Found ["openid","profile","roles"] identity scopes in database
2019-09-20 09:56:36.068 +08:00 [DBG] Found [] API scopes in database
2019-09-20 09:56:36.194 +08:00 [DBG] Found ["openid","profile","roles"] identity scopes in database
2019-09-20 09:56:36.272 +08:00 [DBG] Found [] API scopes in database
2019-09-20 09:56:36.280 +08:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-09-20 09:56:36.281 +08:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://127.0.0.1:5002/signin-oidc","AllowedRedirectUris":["http://127.0.0.1:5002/signin-oidc"],"SubjectId":"anonymous","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile roles","State":"CfDJ8FwV9b6NwmJCgxR0MpJQz1m78hd265ANOlPh5L4vT1wnwg_md9vSoLudcJxAkRgG4WlSPxYrZ8yqwlFOeZX7irF0N94wlF_tkvRLyFlyP5BZvbyCtF6Ch0lbkjJW-Sr54JKELZgcmKpcieaLQhxHIB9or3ltldu-Z8-ORhZCkJ5rkiv0hgP7jSR93tJXy8kMRRPgT2cUU2qYuq5xZV85cPYwj3U6spxJuVFKMAgE3J17NM4YHLz5NPjCS3IB_6FRChs1zPQJ_M4uISU1fuG3KzakNF74KvgaLHmLEkIzkiA06pquVRj6Ta3elP3qHI8J6wrZUzVdzhXwAKg_M7F72-w","UiLocales":null,"Nonce":"637045413951440630.ZjhjMDNmNTktZWNhMS00NWQ5LTkxZWUtZTExZTdmNDRlNDE2ZWM0YzU0YjItYmY3Yi00ZTdmLWFjYjUtODRjMzU3MTgwNGMw","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://127.0.0.1:5002/signin-oidc","response_type":"id_token","scope":"openid profile roles","response_mode":"form_post","nonce":"637045413951440630.ZjhjMDNmNTktZWNhMS00NWQ5LTkxZWUtZTExZTdmNDRlNDE2ZWM0YzU0YjItYmY3Yi00ZTdmLWFjYjUtODRjMzU3MTgwNGMw","state":"CfDJ8FwV9b6NwmJCgxR0MpJQz1m78hd265ANOlPh5L4vT1wnwg_md9vSoLudcJxAkRgG4WlSPxYrZ8yqwlFOeZX7irF0N94wlF_tkvRLyFlyP5BZvbyCtF6Ch0lbkjJW-Sr54JKELZgcmKpcieaLQhxHIB9or3ltldu-Z8-ORhZCkJ5rkiv0hgP7jSR93tJXy8kMRRPgT2cUU2qYuq5xZV85cPYwj3U6spxJuVFKMAgE3J17NM4YHLz5NPjCS3IB_6FRChs1zPQJ_M4uISU1fuG3KzakNF74KvgaLHmLEkIzkiA06pquVRj6Ta3elP3qHI8J6wrZUzVdzhXwAKg_M7F72-w","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-09-20 09:56:36.295 +08:00 [INF] Showing login: User is not authenticated
2019-09-20 09:56:36.364 +08:00 [DBG] Start authorize request protocol validation
2019-09-20 09:56:37.054 +08:00 [DBG] mvc found in database: true
2019-09-20 09:56:37.054 +08:00 [DBG] client configuration validation for client mvc succeeded.
2019-09-20 09:56:37.183 +08:00 [DBG] Found ["openid","profile","roles"] identity scopes in database
2019-09-20 09:56:37.259 +08:00 [DBG] Found [] API scopes in database
2019-09-20 09:56:37.385 +08:00 [DBG] Found ["openid","profile","roles"] identity scopes in database
2019-09-20 09:56:37.460 +08:00 [DBG] Found [] API scopes in database
2019-09-20 09:56:37.463 +08:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-09-20 09:56:38.154 +08:00 [DBG] mvc found in database: true
2019-09-20 09:56:38.154 +08:00 [DBG] client configuration validation for client mvc succeeded.
2019-09-20 09:57:08.407 +08:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-20 09:57:08.999 +08:00 [DBG] Augmenting SignInContext
2019-09-20 09:57:09.002 +08:00 [DBG] Adding idp claim with value: local
2019-09-20 09:57:09.002 +08:00 [DBG] Adding amr claim with value: pwd
2019-09-20 09:57:09.002 +08:00 [DBG] Adding auth_time claim with value: 1568944629
2019-09-20 09:57:09.010 +08:00 [INF] AuthenticationScheme: Identity.Application signed in.
2019-09-20 09:57:09.014 +08:00 [INF] {"Username":"873","Provider":null,"ProviderUserId":null,"SubjectId":"32d76073-03aa-4e1b-8eb3-a6d89745ac5c","DisplayName":"873","Endpoint":"UI","ClientId":null,"Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPTDLR7TO5A:00000003","TimeStamp":"2019-09-20T01:57:09.0000000Z","ProcessId":10304,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-09-20 09:57:09.065 +08:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-09-20 09:57:09.068 +08:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-09-20 09:57:09.069 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-09-20 09:57:09.077 +08:00 [DBG] Start authorize callback request
2019-09-20 09:57:09.086 +08:00 [DBG] User in authorize request: 32d76073-03aa-4e1b-8eb3-a6d89745ac5c
2019-09-20 09:57:09.086 +08:00 [DBG] Start authorize request protocol validation
2019-09-20 09:57:09.780 +08:00 [DBG] mvc found in database: true
2019-09-20 09:57:09.780 +08:00 [DBG] client configuration validation for client mvc succeeded.
2019-09-20 09:57:09.909 +08:00 [DBG] Found ["openid","profile","roles"] identity scopes in database
2019-09-20 09:57:09.985 +08:00 [DBG] Found [] API scopes in database
2019-09-20 09:57:10.111 +08:00 [DBG] Found ["openid","profile","roles"] identity scopes in database
2019-09-20 09:57:10.187 +08:00 [DBG] Found [] API scopes in database
2019-09-20 09:57:10.189 +08:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-09-20 09:57:10.190 +08:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://127.0.0.1:5002/signin-oidc","AllowedRedirectUris":["http://127.0.0.1:5002/signin-oidc"],"SubjectId":"32d76073-03aa-4e1b-8eb3-a6d89745ac5c","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile roles","State":"CfDJ8FwV9b6NwmJCgxR0MpJQz1m78hd265ANOlPh5L4vT1wnwg_md9vSoLudcJxAkRgG4WlSPxYrZ8yqwlFOeZX7irF0N94wlF_tkvRLyFlyP5BZvbyCtF6Ch0lbkjJW-Sr54JKELZgcmKpcieaLQhxHIB9or3ltldu-Z8-ORhZCkJ5rkiv0hgP7jSR93tJXy8kMRRPgT2cUU2qYuq5xZV85cPYwj3U6spxJuVFKMAgE3J17NM4YHLz5NPjCS3IB_6FRChs1zPQJ_M4uISU1fuG3KzakNF74KvgaLHmLEkIzkiA06pquVRj6Ta3elP3qHI8J6wrZUzVdzhXwAKg_M7F72-w","UiLocales":null,"Nonce":"637045413951440630.ZjhjMDNmNTktZWNhMS00NWQ5LTkxZWUtZTExZTdmNDRlNDE2ZWM0YzU0YjItYmY3Yi00ZTdmLWFjYjUtODRjMzU3MTgwNGMw","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"640d9fbe0034768621bf4ed065f727e9","Raw":{"client_id":"mvc","redirect_uri":"http://127.0.0.1:5002/signin-oidc","response_type":"id_token","scope":"openid profile roles","response_mode":"form_post","nonce":"637045413951440630.ZjhjMDNmNTktZWNhMS00NWQ5LTkxZWUtZTExZTdmNDRlNDE2ZWM0YzU0YjItYmY3Yi00ZTdmLWFjYjUtODRjMzU3MTgwNGMw","state":"CfDJ8FwV9b6NwmJCgxR0MpJQz1m78hd265ANOlPh5L4vT1wnwg_md9vSoLudcJxAkRgG4WlSPxYrZ8yqwlFOeZX7irF0N94wlF_tkvRLyFlyP5BZvbyCtF6Ch0lbkjJW-Sr54JKELZgcmKpcieaLQhxHIB9or3ltldu-Z8-ORhZCkJ5rkiv0hgP7jSR93tJXy8kMRRPgT2cUU2qYuq5xZV85cPYwj3U6spxJuVFKMAgE3J17NM4YHLz5NPjCS3IB_6FRChs1zPQJ_M4uISU1fuG3KzakNF74KvgaLHmLEkIzkiA06pquVRj6Ta3elP3qHI8J6wrZUzVdzhXwAKg_M7F72-w","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-09-20 09:57:10.388 +08:00 [DBG] Z3I4DixnVKVqk+RhiPmqLHVW/d9TuZfSkg1yzFsYIWc= found in database: false
2019-09-20 09:57:10.389 +08:00 [DBG] user_consent grant with value: mvc|32d76073-03aa-4e1b-8eb3-a6d89745ac5c not found in store.
2019-09-20 09:57:10.391 +08:00 [DBG] Found no prior consent from consent store, consent is required
2019-09-20 09:57:10.391 +08:00 [INF] Showing consent: User has not yet consented
2019-09-20 09:57:13.425 +08:00 [DBG] Start authorize request protocol validation
2019-09-20 09:57:14.116 +08:00 [DBG] mvc found in database: true
2019-09-20 09:57:14.116 +08:00 [DBG] client configuration validation for client mvc succeeded.
2019-09-20 09:57:14.247 +08:00 [DBG] Found ["openid","profile","roles"] identity scopes in database
2019-09-20 09:57:14.322 +08:00 [DBG] Found [] API scopes in database
2019-09-20 09:57:14.449 +08:00 [DBG] Found ["openid","profile","roles"] identity scopes in database
2019-09-20 09:57:14.525 +08:00 [DBG] Found [] API scopes in database
2019-09-20 09:57:14.528 +08:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-09-20 09:57:15.217 +08:00 [DBG] mvc found in database: true
2019-09-20 09:57:15.217 +08:00 [DBG] client configuration validation for client mvc succeeded.
2019-09-20 09:57:15.344 +08:00 [DBG] Found ["openid","profile","roles"] identity scopes in database
2019-09-20 09:57:15.419 +08:00 [DBG] Found [] API scopes in database
2019-09-20 09:58:22.535 +08:00 [DBG] CORS request made for path: /consent from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-20 09:58:22.615 +08:00 [DBG] Start authorize request protocol validation
2019-09-20 09:58:23.304 +08:00 [DBG] mvc found in database: true
2019-09-20 09:58:23.305 +08:00 [DBG] client configuration validation for client mvc succeeded.
2019-09-20 09:58:23.436 +08:00 [DBG] Found ["openid","profile","roles"] identity scopes in database
2019-09-20 09:58:23.552 +08:00 [DBG] Found [] API scopes in database
2019-09-20 09:58:23.765 +08:00 [DBG] Found ["openid","profile","roles"] identity scopes in database
2019-09-20 09:58:23.841 +08:00 [DBG] Found [] API scopes in database
2019-09-20 09:58:23.843 +08:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-09-20 09:58:23.846 +08:00 [INF] {"SubjectId":"32d76073-03aa-4e1b-8eb3-a6d89745ac5c","ClientId":"mvc","RequestedScopes":["openid","profile","roles"],"GrantedScopes":["openid","profile","roles"],"ConsentRemembered":true,"Category":"Grants","Name":"Consent granted","EventType":"Information","Id":4000,"Message":null,"ActivityId":"0HLPTDLR7TO5A:00000008","TimeStamp":"2019-09-20T01:58:23.0000000Z","ProcessId":10304,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ConsentGrantedEvent"}
2019-09-20 09:58:24.549 +08:00 [DBG] mvc found in database: true
2019-09-20 09:58:24.549 +08:00 [DBG] client configuration validation for client mvc succeeded.
2019-09-20 09:58:24.574 +08:00 [DBG] Request path /connect/authorize/callback matched to endpoint type Authorize
2019-09-20 09:58:24.577 +08:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint
2019-09-20 09:58:24.578 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeCallbackEndpoint for /connect/authorize/callback
2019-09-20 09:58:24.579 +08:00 [DBG] Start authorize callback request
2019-09-20 09:58:24.581 +08:00 [DBG] User in authorize request: 32d76073-03aa-4e1b-8eb3-a6d89745ac5c
2019-09-20 09:58:24.583 +08:00 [DBG] Start authorize request protocol validation
2019-09-20 09:58:25.286 +08:00 [DBG] mvc found in database: true
2019-09-20 09:58:25.287 +08:00 [DBG] client configuration validation for client mvc succeeded.
2019-09-20 09:58:25.414 +08:00 [DBG] Found ["openid","profile","roles"] identity scopes in database
2019-09-20 09:58:25.492 +08:00 [DBG] Found [] API scopes in database
2019-09-20 09:58:25.620 +08:00 [DBG] Found ["openid","profile","roles"] identity scopes in database
2019-09-20 09:58:25.695 +08:00 [DBG] Found [] API scopes in database
2019-09-20 09:58:25.697 +08:00 [DBG] Calling into custom validator: IdentityServer4.Validation.DefaultCustomAuthorizeRequestValidator
2019-09-20 09:58:25.698 +08:00 [DBG] ValidatedAuthorizeRequest
{"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://127.0.0.1:5002/signin-oidc","AllowedRedirectUris":["http://127.0.0.1:5002/signin-oidc"],"SubjectId":"32d76073-03aa-4e1b-8eb3-a6d89745ac5c","ResponseType":"id_token","ResponseMode":"form_post","GrantType":"implicit","RequestedScopes":"openid profile roles","State":"CfDJ8FwV9b6NwmJCgxR0MpJQz1m78hd265ANOlPh5L4vT1wnwg_md9vSoLudcJxAkRgG4WlSPxYrZ8yqwlFOeZX7irF0N94wlF_tkvRLyFlyP5BZvbyCtF6Ch0lbkjJW-Sr54JKELZgcmKpcieaLQhxHIB9or3ltldu-Z8-ORhZCkJ5rkiv0hgP7jSR93tJXy8kMRRPgT2cUU2qYuq5xZV85cPYwj3U6spxJuVFKMAgE3J17NM4YHLz5NPjCS3IB_6FRChs1zPQJ_M4uISU1fuG3KzakNF74KvgaLHmLEkIzkiA06pquVRj6Ta3elP3qHI8J6wrZUzVdzhXwAKg_M7F72-w","UiLocales":null,"Nonce":"637045413951440630.ZjhjMDNmNTktZWNhMS00NWQ5LTkxZWUtZTExZTdmNDRlNDE2ZWM0YzU0YjItYmY3Yi00ZTdmLWFjYjUtODRjMzU3MTgwNGMw","AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":"640d9fbe0034768621bf4ed065f727e9","Raw":{"client_id":"mvc","redirect_uri":"http://127.0.0.1:5002/signin-oidc","response_type":"id_token","scope":"openid profile roles","response_mode":"form_post","nonce":"637045413951440630.ZjhjMDNmNTktZWNhMS00NWQ5LTkxZWUtZTExZTdmNDRlNDE2ZWM0YzU0YjItYmY3Yi00ZTdmLWFjYjUtODRjMzU3MTgwNGMw","state":"CfDJ8FwV9b6NwmJCgxR0MpJQz1m78hd265ANOlPh5L4vT1wnwg_md9vSoLudcJxAkRgG4WlSPxYrZ8yqwlFOeZX7irF0N94wlF_tkvRLyFlyP5BZvbyCtF6Ch0lbkjJW-Sr54JKELZgcmKpcieaLQhxHIB9or3ltldu-Z8-ORhZCkJ5rkiv0hgP7jSR93tJXy8kMRRPgT2cUU2qYuq5xZV85cPYwj3U6spxJuVFKMAgE3J17NM4YHLz5NPjCS3IB_6FRChs1zPQJ_M4uISU1fuG3KzakNF74KvgaLHmLEkIzkiA06pquVRj6Ta3elP3qHI8J6wrZUzVdzhXwAKg_M7F72-w","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-09-20 09:58:25.856 +08:00 [DBG] Z3I4DixnVKVqk+RhiPmqLHVW/d9TuZfSkg1yzFsYIWc= found in database: false
2019-09-20 09:58:25.858 +08:00 [DBG] user_consent grant with value: mvc|32d76073-03aa-4e1b-8eb3-a6d89745ac5c not found in store.
2019-09-20 09:58:25.859 +08:00 [DBG] Found no prior consent from consent store, consent is required
2019-09-20 09:58:25.863 +08:00 [INF] User consented to scopes: ["openid","profile","roles"]
2019-09-20 09:58:25.865 +08:00 [DBG] User indicated to remember consent for scopes: ["openid","profile","roles"]
2019-09-20 09:58:25.872 +08:00 [DBG] Client allows remembering consent, and consent given. Updating consent store for subject: 32d76073-03aa-4e1b-8eb3-a6d89745ac5c
2019-09-20 09:58:25.964 +08:00 [DBG] Z3I4DixnVKVqk+RhiPmqLHVW/d9TuZfSkg1yzFsYIWc= not found in database
2019-09-20 09:58:26.177 +08:00 [DBG] Creating Implicit Flow response.
2019-09-20 09:58:26.186 +08:00 [DBG] Getting claims for identity token for subject: 32d76073-03aa-4e1b-8eb3-a6d89745ac5c and client: mvc
2019-09-20 09:58:26.571 +08:00 [INF] {"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":"http://127.0.0.1:5002/signin-oidc","Endpoint":"Authorize","SubjectId":"32d76073-03aa-4e1b-8eb3-a6d89745ac5c","Scopes":"openid profile roles","GrantType":"implicit","Tokens":[{"TokenType":"id_token","TokenValue":"****YY5Q","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPTDLR7TO5A:00000009","TimeStamp":"2019-09-20T01:58:26.0000000Z","ProcessId":10304,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-09-20 09:58:26.577 +08:00 [DBG] Authorize endpoint response
{"SubjectId":"32d76073-03aa-4e1b-8eb3-a6d89745ac5c","ClientId":"mvc","RedirectUri":"http://127.0.0.1:5002/signin-oidc","State":"CfDJ8FwV9b6NwmJCgxR0MpJQz1m78hd265ANOlPh5L4vT1wnwg_md9vSoLudcJxAkRgG4WlSPxYrZ8yqwlFOeZX7irF0N94wlF_tkvRLyFlyP5BZvbyCtF6Ch0lbkjJW-Sr54JKELZgcmKpcieaLQhxHIB9or3ltldu-Z8-ORhZCkJ5rkiv0hgP7jSR93tJXy8kMRRPgT2cUU2qYuq5xZV85cPYwj3U6spxJuVFKMAgE3J17NM4YHLz5NPjCS3IB_6FRChs1zPQJ_M4uISU1fuG3KzakNF74KvgaLHmLEkIzkiA06pquVRj6Ta3elP3qHI8J6wrZUzVdzhXwAKg_M7F72-w","Scope":"openid profile roles","Error":null,"ErrorDescription":null,"$type":"AuthorizeResponseLog"}
2019-09-20 09:58:26.594 +08:00 [DBG] Augmenting SignInContext
2019-09-20 09:58:26.595 +08:00 [INF] AuthenticationScheme: Identity.Application signed in.
2019-09-20 10:44:50.093 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-20 10:44:50.544 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-20 10:44:50.545 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-20 10:44:50.545 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-20 10:44:50.546 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-20 10:44:50.546 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-20 10:44:50.546 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-20 10:44:51.216 +08:00 [DBG] Starting grant removal
2019-09-20 10:45:06.219 +08:00 [DBG] Login Url: /Account/Login
2019-09-20 10:45:06.221 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-20 10:45:06.221 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-20 10:45:06.222 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-20 10:45:06.222 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-20 10:45:06.222 +08:00 [DBG] Error Url: /home/error
2019-09-20 10:45:06.222 +08:00 [DBG] Error Id Parameter: errorId
2019-09-20 10:45:06.249 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-20 10:45:06.269 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-20 10:45:06.270 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-20 10:45:06.283 +08:00 [DBG] Start token request.
2019-09-20 10:45:06.288 +08:00 [DBG] Start client validation
2019-09-20 10:45:06.294 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-20 10:45:06.297 +08:00 [DBG] Start parsing for secret in post body
2019-09-20 10:45:06.320 +08:00 [DBG] client id without secret found
2019-09-20 10:45:06.320 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-20 10:45:06.321 +08:00 [DBG] Secret id found: mvc
2019-09-20 10:45:09.204 +08:00 [DBG] mvc found in database: true
2019-09-20 10:45:09.219 +08:00 [DBG] client configuration validation for client mvc succeeded.
2019-09-20 10:45:09.221 +08:00 [DBG] Public Client - skipping secret validation success
2019-09-20 10:45:09.221 +08:00 [DBG] Client validation success
2019-09-20 10:45:09.238 +08:00 [INF] {"ClientId":"mvc","AuthenticationMethod":"NoSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPTEI5LT9T5:00000001","TimeStamp":"2019-09-20T02:45:09.0000000Z","ProcessId":13452,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-20 10:45:09.269 +08:00 [DBG] Start token request validation
2019-09-20 10:45:09.283 +08:00 [DBG] Start validation of custom grant token request
2019-09-20 10:45:09.293 +08:00 [ERR] No validator is registered for the grant type{"grantType":"implicit"}, details: {"ClientId":"mvc","ClientName":"MVC Client","GrantType":"implicit","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"username":"alice","password":"***REDACTED***","grant_type":"implicit","client_id":"mvc"},"$type":"TokenRequestValidationLog"}
2019-09-20 10:45:09.299 +08:00 [INF] {"ClientId":"mvc","ClientName":"MVC Client","RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":null,"GrantType":"implicit","Error":"unsupported_grant_type","ErrorDescription":null,"Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLPTEI5LT9T5:00000001","TimeStamp":"2019-09-20T02:45:09.0000000Z","ProcessId":13452,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-09-20 10:46:37.907 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-20 10:46:37.950 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-20 10:46:37.951 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-20 10:46:37.951 +08:00 [DBG] Start token request.
2019-09-20 10:46:37.952 +08:00 [DBG] Start client validation
2019-09-20 10:46:37.952 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-20 10:46:37.952 +08:00 [DBG] Start parsing for secret in post body
2019-09-20 10:46:37.953 +08:00 [DBG] client id without secret found
2019-09-20 10:46:37.953 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-20 10:46:37.953 +08:00 [DBG] Secret id found: mvc
2019-09-20 10:46:38.685 +08:00 [DBG] mvc found in database: true
2019-09-20 10:46:38.686 +08:00 [ERR] Invalid client configuration for client mvc: Client secret is required for client_credentials, but no client secret is configured.
2019-09-20 10:46:38.687 +08:00 [INF] {"ClientId":"mvc","ClientName":"MVC Client","Category":"Error","Name":"Invalid Client Configuration","EventType":"Error","Id":3001,"Message":"Client secret is required for client_credentials, but no client secret is configured.","ActivityId":"0HLPTEI5LT9T5:00000002","TimeStamp":"2019-09-20T02:46:38.0000000Z","ProcessId":13452,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"InvalidClientConfigurationEvent"}
2019-09-20 10:46:38.690 +08:00 [INF] {"ClientId":"mvc","Category":"Authentication","Name":"Client Authentication Failure","EventType":"Failure","Id":1011,"Message":"Unknown client","ActivityId":"0HLPTEI5LT9T5:00000002","TimeStamp":"2019-09-20T02:46:38.0000000Z","ProcessId":13452,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationFailureEvent"}
2019-09-20 10:46:38.691 +08:00 [ERR] No client with id 'mvc' found. aborting
2019-09-20 10:46:44.355 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-20 10:46:44.369 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-20 10:46:44.370 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-20 10:46:44.370 +08:00 [DBG] Start token request.
2019-09-20 10:46:44.371 +08:00 [DBG] Start client validation
2019-09-20 10:46:44.371 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-20 10:46:44.371 +08:00 [DBG] Start parsing for secret in post body
2019-09-20 10:46:44.371 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-20 10:46:44.372 +08:00 [DBG] Secret id found: mvc
2019-09-20 10:46:45.102 +08:00 [DBG] mvc found in database: true
2019-09-20 10:46:45.104 +08:00 [ERR] Invalid client configuration for client mvc: Client secret is required for client_credentials, but no client secret is configured.
2019-09-20 10:46:45.105 +08:00 [INF] {"ClientId":"mvc","ClientName":"MVC Client","Category":"Error","Name":"Invalid Client Configuration","EventType":"Error","Id":3001,"Message":"Client secret is required for client_credentials, but no client secret is configured.","ActivityId":"0HLPTEI5LT9T5:00000003","TimeStamp":"2019-09-20T02:46:45.0000000Z","ProcessId":13452,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"InvalidClientConfigurationEvent"}
2019-09-20 10:46:45.106 +08:00 [INF] {"ClientId":"mvc","Category":"Authentication","Name":"Client Authentication Failure","EventType":"Failure","Id":1011,"Message":"Unknown client","ActivityId":"0HLPTEI5LT9T5:00000003","TimeStamp":"2019-09-20T02:46:45.0000000Z","ProcessId":13452,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationFailureEvent"}
2019-09-20 10:46:45.107 +08:00 [ERR] No client with id 'mvc' found. aborting
2019-09-20 10:47:23.393 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-20 10:47:23.395 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-20 10:47:23.396 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-20 10:47:23.396 +08:00 [DBG] Start token request.
2019-09-20 10:47:23.397 +08:00 [DBG] Start client validation
2019-09-20 10:47:23.397 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-20 10:47:23.398 +08:00 [DBG] Start parsing for secret in post body
2019-09-20 10:47:23.398 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-20 10:47:23.398 +08:00 [DBG] Secret id found: passWordClient
2019-09-20 10:47:24.135 +08:00 [DBG] passWordClient found in database: true
2019-09-20 10:47:24.135 +08:00 [DBG] client configuration validation for client passWordClient succeeded.
2019-09-20 10:47:24.149 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-20 10:47:24.151 +08:00 [DBG] Client validation success
2019-09-20 10:47:24.152 +08:00 [INF] {"ClientId":"passWordClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPTEI5LT9T5:00000004","TimeStamp":"2019-09-20T02:47:24.0000000Z","ProcessId":13452,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-20 10:47:24.153 +08:00 [DBG] Start token request validation
2019-09-20 10:47:24.154 +08:00 [DBG] Start validation of custom grant token request
2019-09-20 10:47:24.155 +08:00 [ERR] Client does not have the custom grant type in the allowed list, therefore requested grant is not allowed{"clientId":"passWordClient"}, details: {"ClientId":"passWordClient","ClientName":null,"GrantType":"implicit","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"implicit","client_id":"passWordClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-20 10:47:24.157 +08:00 [INF] {"ClientId":"passWordClient","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":null,"GrantType":"implicit","Error":"unsupported_grant_type","ErrorDescription":null,"Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLPTEI5LT9T5:00000004","TimeStamp":"2019-09-20T02:47:24.0000000Z","ProcessId":13452,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-09-20 10:47:34.285 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-20 10:47:34.288 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-20 10:47:34.288 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-20 10:47:34.290 +08:00 [DBG] Start token request.
2019-09-20 10:47:34.291 +08:00 [DBG] Start client validation
2019-09-20 10:47:34.291 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-20 10:47:34.291 +08:00 [DBG] Start parsing for secret in post body
2019-09-20 10:47:34.293 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-20 10:47:34.293 +08:00 [DBG] Secret id found: mvc
2019-09-20 10:47:35.020 +08:00 [DBG] mvc found in database: true
2019-09-20 10:47:35.021 +08:00 [ERR] Invalid client configuration for client mvc: Client secret is required for client_credentials, but no client secret is configured.
2019-09-20 10:47:35.022 +08:00 [INF] {"ClientId":"mvc","ClientName":"MVC Client","Category":"Error","Name":"Invalid Client Configuration","EventType":"Error","Id":3001,"Message":"Client secret is required for client_credentials, but no client secret is configured.","ActivityId":"0HLPTEI5LT9T5:00000005","TimeStamp":"2019-09-20T02:47:35.0000000Z","ProcessId":13452,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"InvalidClientConfigurationEvent"}
2019-09-20 10:47:35.026 +08:00 [INF] {"ClientId":"mvc","Category":"Authentication","Name":"Client Authentication Failure","EventType":"Failure","Id":1011,"Message":"Unknown client","ActivityId":"0HLPTEI5LT9T5:00000005","TimeStamp":"2019-09-20T02:47:35.0000000Z","ProcessId":13452,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationFailureEvent"}
2019-09-20 10:47:35.028 +08:00 [ERR] No client with id 'mvc' found. aborting
2019-09-20 10:47:41.268 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-20 10:47:41.288 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-20 10:47:41.293 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-20 10:47:41.318 +08:00 [DBG] Start token request.
2019-09-20 10:47:41.321 +08:00 [DBG] Start client validation
2019-09-20 10:47:41.323 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-20 10:47:41.324 +08:00 [DBG] Start parsing for secret in post body
2019-09-20 10:47:41.326 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-20 10:47:41.327 +08:00 [DBG] Secret id found: passWordClient
2019-09-20 10:47:42.058 +08:00 [DBG] passWordClient found in database: true
2019-09-20 10:47:42.058 +08:00 [DBG] client configuration validation for client passWordClient succeeded.
2019-09-20 10:47:42.060 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-20 10:47:42.060 +08:00 [DBG] Client validation success
2019-09-20 10:47:42.061 +08:00 [INF] {"ClientId":"passWordClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPTEI5LT9T5:00000006","TimeStamp":"2019-09-20T02:47:42.0000000Z","ProcessId":13452,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-20 10:47:42.062 +08:00 [DBG] Start token request validation
2019-09-20 10:47:42.065 +08:00 [DBG] Start client credentials token request validation
2019-09-20 10:47:42.184 +08:00 [DBG] Found [] identity scopes in database
2019-09-20 10:47:42.688 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-20 10:47:42.779 +08:00 [DBG] Found [] identity scopes in database
2019-09-20 10:47:43.144 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-20 10:47:43.147 +08:00 [DBG] passWordClient credentials token request validation success
2019-09-20 10:47:43.148 +08:00 [INF] Token request validation success, {"ClientId":"passWordClient","ClientName":null,"GrantType":"client_credentials","Scopes":"rss","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"passWordClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-20 10:47:43.184 +08:00 [DBG] Getting claims for access token for client: passWordClient
2019-09-20 10:47:43.266 +08:00 [INF] {"ClientId":"passWordClient","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"rss","GrantType":"client_credentials","Tokens":[{"TokenType":"access_token","TokenValue":"****YR1w","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPTEI5LT9T5:00000006","TimeStamp":"2019-09-20T02:47:43.0000000Z","ProcessId":13452,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-09-20 10:47:43.271 +08:00 [DBG] Token request success.
2019-09-20 10:48:57.426 +08:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-09-20 10:48:57.430 +08:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-09-20 10:48:57.435 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-09-20 10:48:57.442 +08:00 [DBG] Start discovery request
2019-09-20 10:48:58.021 +08:00 [DBG] Found ["openid","profile","roles","rss"] as all scopes in database
2019-09-20 10:54:26.231 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-20 10:54:26.234 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-20 10:54:26.235 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-20 10:54:26.236 +08:00 [DBG] Start token request.
2019-09-20 10:54:26.236 +08:00 [DBG] Start client validation
2019-09-20 10:54:26.236 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-20 10:54:26.237 +08:00 [DBG] Start parsing for secret in post body
2019-09-20 10:54:26.238 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-20 10:54:26.238 +08:00 [DBG] Secret id found: passWordClient
2019-09-20 10:54:27.077 +08:00 [DBG] passWordClient found in database: true
2019-09-20 10:54:27.077 +08:00 [DBG] client configuration validation for client passWordClient succeeded.
2019-09-20 10:54:27.080 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-20 10:54:27.081 +08:00 [DBG] Client validation success
2019-09-20 10:54:27.081 +08:00 [INF] {"ClientId":"passWordClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPTEI5LT9T5:00000007","TimeStamp":"2019-09-20T02:54:27.0000000Z","ProcessId":13452,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-20 10:54:27.083 +08:00 [DBG] Start token request validation
2019-09-20 10:54:27.083 +08:00 [DBG] Start client credentials token request validation
2019-09-20 10:54:27.258 +08:00 [DBG] Found ["openid"] identity scopes in database
2019-09-20 10:54:27.333 +08:00 [DBG] Found [] API scopes in database
2019-09-20 10:54:27.334 +08:00 [ERR] Requested scope not allowed: openid
2019-09-20 10:54:27.335 +08:00 [ERR] {"ClientId":"passWordClient","ClientName":null,"GrantType":"client_credentials","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"passWordClient","client_secret":"***REDACTED***","scope":"openid"},"$type":"TokenRequestValidationLog"}
2019-09-20 10:54:27.339 +08:00 [INF] {"ClientId":"passWordClient","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":null,"GrantType":"client_credentials","Error":"invalid_scope","ErrorDescription":null,"Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLPTEI5LT9T5:00000007","TimeStamp":"2019-09-20T02:54:27.0000000Z","ProcessId":13452,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-09-20 10:54:31.076 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-20 10:54:31.078 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-20 10:54:31.078 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-20 10:54:31.079 +08:00 [DBG] Start token request.
2019-09-20 10:54:31.080 +08:00 [DBG] Start client validation
2019-09-20 10:54:31.081 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-20 10:54:31.081 +08:00 [DBG] Start parsing for secret in post body
2019-09-20 10:54:31.081 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-20 10:54:31.081 +08:00 [DBG] Secret id found: passWordClient
2019-09-20 10:54:31.757 +08:00 [DBG] passWordClient found in database: true
2019-09-20 10:54:31.759 +08:00 [DBG] client configuration validation for client passWordClient succeeded.
2019-09-20 10:54:31.760 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-20 10:54:31.760 +08:00 [DBG] Client validation success
2019-09-20 10:54:31.761 +08:00 [INF] {"ClientId":"passWordClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPTEI5LT9T5:00000008","TimeStamp":"2019-09-20T02:54:31.0000000Z","ProcessId":13452,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-20 10:54:31.762 +08:00 [DBG] Start token request validation
2019-09-20 10:54:31.762 +08:00 [DBG] Start client credentials token request validation
2019-09-20 10:54:31.835 +08:00 [DBG] Found [] identity scopes in database
2019-09-20 10:54:32.177 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-20 10:54:32.249 +08:00 [DBG] Found [] identity scopes in database
2019-09-20 10:54:32.590 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-20 10:54:32.592 +08:00 [DBG] passWordClient credentials token request validation success
2019-09-20 10:54:32.592 +08:00 [INF] Token request validation success, {"ClientId":"passWordClient","ClientName":null,"GrantType":"client_credentials","Scopes":"rss","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"passWordClient","client_secret":"***REDACTED***","scope":"rss"},"$type":"TokenRequestValidationLog"}
2019-09-20 10:54:32.596 +08:00 [DBG] Getting claims for access token for client: passWordClient
2019-09-20 10:54:32.598 +08:00 [INF] {"ClientId":"passWordClient","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"rss","GrantType":"client_credentials","Tokens":[{"TokenType":"access_token","TokenValue":"****Q_PA","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPTEI5LT9T5:00000008","TimeStamp":"2019-09-20T02:54:32.0000000Z","ProcessId":13452,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-09-20 10:54:32.602 +08:00 [DBG] Token request success.
2019-09-20 10:54:36.302 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-20 10:54:36.305 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-20 10:54:36.307 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-20 10:54:36.308 +08:00 [DBG] Start token request.
2019-09-20 10:54:36.309 +08:00 [DBG] Start client validation
2019-09-20 10:54:36.309 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-20 10:54:36.310 +08:00 [DBG] Start parsing for secret in post body
2019-09-20 10:54:36.311 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-20 10:54:36.311 +08:00 [DBG] Secret id found: passWordClient
2019-09-20 10:54:37.051 +08:00 [DBG] passWordClient found in database: true
2019-09-20 10:54:37.051 +08:00 [DBG] client configuration validation for client passWordClient succeeded.
2019-09-20 10:54:37.055 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-20 10:54:37.057 +08:00 [DBG] Client validation success
2019-09-20 10:54:37.058 +08:00 [INF] {"ClientId":"passWordClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPTEI5LT9T5:00000009","TimeStamp":"2019-09-20T02:54:37.0000000Z","ProcessId":13452,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-20 10:54:37.060 +08:00 [DBG] Start token request validation
2019-09-20 10:54:37.060 +08:00 [DBG] Start client credentials token request validation
2019-09-20 10:54:37.134 +08:00 [DBG] Found [] identity scopes in database
2019-09-20 10:54:37.473 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-20 10:54:37.548 +08:00 [DBG] Found [] identity scopes in database
2019-09-20 10:54:37.887 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-20 10:54:37.890 +08:00 [DBG] passWordClient credentials token request validation success
2019-09-20 10:54:37.891 +08:00 [INF] Token request validation success, {"ClientId":"passWordClient","ClientName":null,"GrantType":"client_credentials","Scopes":"rss","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"passWordClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-20 10:54:37.894 +08:00 [DBG] Getting claims for access token for client: passWordClient
2019-09-20 10:54:37.896 +08:00 [INF] {"ClientId":"passWordClient","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"rss","GrantType":"client_credentials","Tokens":[{"TokenType":"access_token","TokenValue":"****Pdww","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPTEI5LT9T5:00000009","TimeStamp":"2019-09-20T02:54:37.0000000Z","ProcessId":13452,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-09-20 10:54:37.899 +08:00 [DBG] Token request success.
2019-09-20 10:55:47.829 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-20 10:55:47.830 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-20 10:55:47.831 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-20 10:55:47.831 +08:00 [DBG] Start token request.
2019-09-20 10:55:47.832 +08:00 [DBG] Start client validation
2019-09-20 10:55:47.832 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-20 10:55:47.832 +08:00 [DBG] Start parsing for secret in post body
2019-09-20 10:55:47.833 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-20 10:55:47.833 +08:00 [DBG] Secret id found: passWordClient
2019-09-20 10:55:48.509 +08:00 [DBG] passWordClient found in database: true
2019-09-20 10:55:48.509 +08:00 [DBG] client configuration validation for client passWordClient succeeded.
2019-09-20 10:55:48.512 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-20 10:55:48.512 +08:00 [DBG] Client validation success
2019-09-20 10:55:48.513 +08:00 [INF] {"ClientId":"passWordClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPTEI5LT9T5:0000000A","TimeStamp":"2019-09-20T02:55:48.0000000Z","ProcessId":13452,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-20 10:55:48.516 +08:00 [DBG] Start token request validation
2019-09-20 10:55:48.516 +08:00 [DBG] Start client credentials token request validation
2019-09-20 10:55:48.589 +08:00 [DBG] Found [] identity scopes in database
2019-09-20 10:55:48.932 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-20 10:55:48.933 +08:00 [ERR] Requested scope not allowed: rol
2019-09-20 10:55:48.934 +08:00 [ERR] {"ClientId":"passWordClient","ClientName":null,"GrantType":"client_credentials","Scopes":null,"AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"passWordClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-20 10:55:48.935 +08:00 [INF] {"ClientId":"passWordClient","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":null,"GrantType":"client_credentials","Error":"invalid_scope","ErrorDescription":null,"Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLPTEI5LT9T5:0000000A","TimeStamp":"2019-09-20T02:55:48.0000000Z","ProcessId":13452,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-09-20 10:56:01.077 +08:00 [DBG] Request path /connect/token matched to endpoint type Token
2019-09-20 10:56:01.078 +08:00 [DBG] Endpoint enabled: Token, successfully created handler: IdentityServer4.Endpoints.TokenEndpoint
2019-09-20 10:56:01.079 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.TokenEndpoint for /connect/token
2019-09-20 10:56:01.080 +08:00 [DBG] Start token request.
2019-09-20 10:56:01.080 +08:00 [DBG] Start client validation
2019-09-20 10:56:01.080 +08:00 [DBG] Start parsing Basic Authentication secret
2019-09-20 10:56:01.081 +08:00 [DBG] Start parsing for secret in post body
2019-09-20 10:56:01.082 +08:00 [DBG] Parser found secret: PostBodySecretParser
2019-09-20 10:56:01.083 +08:00 [DBG] Secret id found: passWordClient
2019-09-20 10:56:01.760 +08:00 [DBG] passWordClient found in database: true
2019-09-20 10:56:01.761 +08:00 [DBG] client configuration validation for client passWordClient succeeded.
2019-09-20 10:56:01.762 +08:00 [DBG] Secret validator success: HashedSharedSecretValidator
2019-09-20 10:56:01.763 +08:00 [DBG] Client validation success
2019-09-20 10:56:01.763 +08:00 [INF] {"ClientId":"passWordClient","AuthenticationMethod":"SharedSecret","Category":"Authentication","Name":"Client Authentication Success","EventType":"Success","Id":1010,"Message":null,"ActivityId":"0HLPTEI5LT9T5:0000000B","TimeStamp":"2019-09-20T02:56:01.0000000Z","ProcessId":13452,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"ClientAuthenticationSuccessEvent"}
2019-09-20 10:56:01.765 +08:00 [DBG] Start token request validation
2019-09-20 10:56:01.765 +08:00 [DBG] Start client credentials token request validation
2019-09-20 10:56:01.838 +08:00 [DBG] Found [] identity scopes in database
2019-09-20 10:56:02.177 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-20 10:56:02.251 +08:00 [DBG] Found [] identity scopes in database
2019-09-20 10:56:02.590 +08:00 [DBG] Found ["rss"] API scopes in database
2019-09-20 10:56:02.593 +08:00 [DBG] passWordClient credentials token request validation success
2019-09-20 10:56:02.594 +08:00 [INF] Token request validation success, {"ClientId":"passWordClient","ClientName":null,"GrantType":"client_credentials","Scopes":"rss","AuthorizationCode":null,"RefreshToken":null,"UserName":null,"AuthenticationContextReferenceClasses":null,"Tenant":null,"IdP":null,"Raw":{"grant_type":"client_credentials","client_id":"passWordClient","client_secret":"***REDACTED***"},"$type":"TokenRequestValidationLog"}
2019-09-20 10:56:02.596 +08:00 [DBG] Getting claims for access token for client: passWordClient
2019-09-20 10:56:02.598 +08:00 [INF] {"ClientId":"passWordClient","ClientName":null,"RedirectUri":null,"Endpoint":"Token","SubjectId":null,"Scopes":"rss","GrantType":"client_credentials","Tokens":[{"TokenType":"access_token","TokenValue":"****Efbg","$type":"Token"}],"Category":"Token","Name":"Token Issued Success","EventType":"Success","Id":2000,"Message":null,"ActivityId":"0HLPTEI5LT9T5:0000000B","TimeStamp":"2019-09-20T02:56:02.0000000Z","ProcessId":13452,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedSuccessEvent"}
2019-09-20 10:56:02.601 +08:00 [DBG] Token request success.
2019-09-20 11:14:03.121 +08:00 [DBG] TaskCanceledException. Exiting.
2019-09-20 11:14:03.303 +08:00 [DBG] Stopping grant removal
2019-09-20 14:20:48.966 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-20 14:21:39.949 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-20 14:21:40.463 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-20 14:21:40.465 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-20 14:21:40.465 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-20 14:21:40.465 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-20 14:21:40.465 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-20 14:21:40.465 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-20 14:21:41.013 +08:00 [DBG] Starting grant removal
2019-09-20 14:21:41.999 +08:00 [DBG] Login Url: /Account/Login
2019-09-20 14:21:42.001 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-20 14:21:42.004 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-20 14:21:42.004 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-20 14:21:42.005 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-20 14:21:42.005 +08:00 [DBG] Error Url: /home/error
2019-09-20 14:21:42.006 +08:00 [DBG] Error Id Parameter: errorId
2019-09-20 14:21:45.774 +08:00 [WRN] Query: '(from ClientRedirectUri t in [x].RedirectUris select [t].RedirectUri).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 14:21:45.779 +08:00 [WRN] Query: '(from ClientPostLogoutRedirectUri r in [x].PostLogoutRedirectUris select [r].PostLogoutRedirectUri)....' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 14:21:45.781 +08:00 [WRN] Query: '(from ClientSecret t in [x].ClientSecrets select [t].Value).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-09-20 14:22:15.214 +08:00 [DBG] Request path /.well-known/openid-configuration matched to endpoint type Discovery
2019-09-20 14:22:15.229 +08:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryEndpoint
2019-09-20 14:22:15.231 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryEndpoint for /.well-known/openid-configuration
2019-09-20 14:22:15.236 +08:00 [DBG] Start discovery request
2019-09-20 14:22:16.309 +08:00 [DBG] Found ["openid","profile","roles","rss"] as all scopes in database
2019-09-20 14:22:16.579 +08:00 [DBG] Request path /.well-known/openid-configuration/jwks matched to endpoint type Discovery
2019-09-20 14:22:16.581 +08:00 [DBG] Endpoint enabled: Discovery, successfully created handler: IdentityServer4.Endpoints.DiscoveryKeyEndpoint
2019-09-20 14:22:16.582 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.DiscoveryKeyEndpoint for /.well-known/openid-configuration/jwks
2019-09-20 14:22:16.585 +08:00 [DBG] Start key discovery request
2019-09-20 14:22:16.655 +08:00 [DBG] Request path /connect/authorize matched to endpoint type Authorize
2019-09-20 14:22:16.662 +08:00 [DBG] Endpoint enabled: Authorize, successfully created handler: IdentityServer4.Endpoints.AuthorizeEndpoint
2019-09-20 14:22:16.663 +08:00 [INF] Invoking IdentityServer endpoint: IdentityServer4.Endpoints.AuthorizeEndpoint for /connect/authorize
2019-09-20 14:22:16.668 +08:00 [DBG] Start authorize request
2019-09-20 14:22:16.675 +08:00 [DBG] No user present in authorize request
2019-09-20 14:22:16.686 +08:00 [DBG] Start authorize request protocol validation
2019-09-20 14:22:17.664 +08:00 [DBG] mvc found in database: true
2019-09-20 14:22:17.681 +08:00 [ERR] Invalid client configuration for client mvc: Client secret is required for client_credentials, but no client secret is configured.
2019-09-20 14:22:17.696 +08:00 [INF] {"ClientId":"mvc","ClientName":"MVC Client","Category":"Error","Name":"Invalid Client Configuration","EventType":"Error","Id":3001,"Message":"Client secret is required for client_credentials, but no client secret is configured.","ActivityId":"0HLPTIB6HL0GK:00000001","TimeStamp":"2019-09-20T06:22:17.0000000Z","ProcessId":10548,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"InvalidClientConfigurationEvent"}
2019-09-20 14:22:17.711 +08:00 [ERR] Unknown client or not enabled: mvc
{"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://127.0.0.1:5002/signin-oidc","response_type":"id_token","scope":"openid profile roles","response_mode":"form_post","nonce":"637045573366304895.OTk5MmJhOTQtYTM0NS00YzAyLTgxZWMtYzZjODNhODg0MzliMDM1ZDg0NDAtMDJjYy00Y2YzLWE5ZGQtMGNlODg0MjlkMmU0","state":"CfDJ8FwV9b6NwmJCgxR0MpJQz1m6iH0qnv8tRWX9DgzyQ0HMAduDdNnaTgn8oguuOVsPqpbwNyuCoawykTFaxrb1uLb_qTSHn8hmsPpPEHIWCO4EnV8sJA4uwBy_picPQASBU4quygFEyZiGQfMw2Zyi7pAXs2iX4FR0PjcYhkjFAg562rt40htpMVXxCUpkHpQ1-QWCHOddAH1CwtlecD-u-BUj20LFIJn_SRuIKsGLMZKXsBcEzfHoi1p5713rC72PhDVXTAEiBd_2GORBDzoJrU6U4odop1KVUKece-E_t9c-ct4wRabOAjR12-aEL37r2khmK_-gEfdIjgK-YcdMITk","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-09-20 14:22:17.722 +08:00 [ERR] Request validation failed
2019-09-20 14:22:17.722 +08:00 [INF] {"ClientId":null,"ClientName":null,"RedirectUri":null,"AllowedRedirectUris":null,"SubjectId":"anonymous","ResponseType":null,"ResponseMode":null,"GrantType":null,"RequestedScopes":"","State":null,"UiLocales":null,"Nonce":null,"AuthenticationContextReferenceClasses":null,"DisplayMode":null,"PromptMode":null,"MaxAge":null,"LoginHint":null,"SessionId":null,"Raw":{"client_id":"mvc","redirect_uri":"http://127.0.0.1:5002/signin-oidc","response_type":"id_token","scope":"openid profile roles","response_mode":"form_post","nonce":"637045573366304895.OTk5MmJhOTQtYTM0NS00YzAyLTgxZWMtYzZjODNhODg0MzliMDM1ZDg0NDAtMDJjYy00Y2YzLWE5ZGQtMGNlODg0MjlkMmU0","state":"CfDJ8FwV9b6NwmJCgxR0MpJQz1m6iH0qnv8tRWX9DgzyQ0HMAduDdNnaTgn8oguuOVsPqpbwNyuCoawykTFaxrb1uLb_qTSHn8hmsPpPEHIWCO4EnV8sJA4uwBy_picPQASBU4quygFEyZiGQfMw2Zyi7pAXs2iX4FR0PjcYhkjFAg562rt40htpMVXxCUpkHpQ1-QWCHOddAH1CwtlecD-u-BUj20LFIJn_SRuIKsGLMZKXsBcEzfHoi1p5713rC72PhDVXTAEiBd_2GORBDzoJrU6U4odop1KVUKece-E_t9c-ct4wRabOAjR12-aEL37r2khmK_-gEfdIjgK-YcdMITk","x-client-SKU":"ID_NETSTANDARD2_0","x-client-ver":"5.3.0.0"},"$type":"AuthorizeRequestValidationLog"}
2019-09-20 14:22:17.728 +08:00 [INF] {"ClientId":"mvc","ClientName":null,"RedirectUri":null,"Endpoint":"Authorize","SubjectId":null,"Scopes":"","GrantType":null,"Error":"unauthorized_client","ErrorDescription":"Unknown client or client not enabled","Category":"Token","Name":"Token Issued Failure","EventType":"Failure","Id":2001,"Message":null,"ActivityId":"0HLPTIB6HL0GK:00000001","TimeStamp":"2019-09-20T06:22:17.0000000Z","ProcessId":10548,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"TokenIssuedFailureEvent"}
2019-09-20 14:22:21.095 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-20 14:22:30.679 +08:00 [DBG] CORS request made for path: /Account/Logout from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-20 14:22:30.754 +08:00 [INF] AuthenticationScheme: Identity.Application signed out.
2019-09-20 14:22:30.756 +08:00 [INF] AuthenticationScheme: Identity.External signed out.
2019-09-20 14:22:30.758 +08:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2019-09-20 14:22:30.760 +08:00 [INF] {"SubjectId":"32d76073-03aa-4e1b-8eb3-a6d89745ac5c","DisplayName":"873","Category":"Authentication","Name":"User Logout Success","EventType":"Success","Id":1002,"Message":null,"ActivityId":"0HLPTIB6HL0GS:00000004","TimeStamp":"2019-09-20T06:22:30.0000000Z","ProcessId":10548,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLogoutSuccessEvent"}
2019-09-20 14:22:31.836 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-20 14:22:38.414 +08:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-20 14:23:03.464 +08:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-20 14:23:03.862 +08:00 [DBG] Augmenting SignInContext
2019-09-20 14:23:03.865 +08:00 [DBG] Adding idp claim with value: local
2019-09-20 14:23:03.865 +08:00 [DBG] Adding amr claim with value: pwd
2019-09-20 14:23:03.865 +08:00 [DBG] Adding auth_time claim with value: 1568960583
2019-09-20 14:23:03.871 +08:00 [INF] AuthenticationScheme: Identity.Application signed in.
2019-09-20 14:23:03.875 +08:00 [INF] {"Username":"873448329","Provider":null,"ProviderUserId":null,"SubjectId":"a1348747-213c-4576-a6cd-2fd2f9566e86","DisplayName":"873448329","Endpoint":"UI","ClientId":null,"Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPTIB6HL0GS:00000009","TimeStamp":"2019-09-20T06:23:03.0000000Z","ProcessId":10548,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-09-20 14:23:06.359 +08:00 [INF] AuthenticationScheme: Identity.Application was forbidden.
2019-09-20 14:23:10.998 +08:00 [DBG] 0 persisted grants found for a1348747-213c-4576-a6cd-2fd2f9566e86
2019-09-20 14:23:16.697 +08:00 [DBG] 0 persisted grants found for a1348747-213c-4576-a6cd-2fd2f9566e86
2019-09-20 14:23:21.532 +08:00 [DBG] 0 persisted grants found for a1348747-213c-4576-a6cd-2fd2f9566e86
2019-09-20 14:23:22.814 +08:00 [INF] AuthenticationScheme: Identity.Application was forbidden.
2019-09-20 14:23:24.317 +08:00 [INF] AuthenticationScheme: Identity.Application was forbidden.
2019-09-20 14:24:40.578 +08:00 [DBG] 0 persisted grants found for a1348747-213c-4576-a6cd-2fd2f9566e86
2019-09-20 14:24:42.093 +08:00 [INF] AuthenticationScheme: Identity.Application was forbidden.
2019-09-20 14:25:12.398 +08:00 [INF] AuthenticationScheme: Identity.Application was forbidden.
2019-09-20 14:25:12.869 +08:00 [INF] AuthenticationScheme: Identity.Application was forbidden.
2019-09-20 14:25:14.454 +08:00 [DBG] CORS request made for path: /Account/Logout from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-20 14:25:14.498 +08:00 [INF] AuthenticationScheme: Identity.Application signed out.
2019-09-20 14:25:14.500 +08:00 [INF] AuthenticationScheme: Identity.External signed out.
2019-09-20 14:25:14.501 +08:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2019-09-20 14:25:14.502 +08:00 [INF] {"SubjectId":"a1348747-213c-4576-a6cd-2fd2f9566e86","DisplayName":"873448329","Category":"Authentication","Name":"User Logout Success","EventType":"Success","Id":1002,"Message":null,"ActivityId":"0HLPTIB6HL0GS:00000030","TimeStamp":"2019-09-20T06:25:14.0000000Z","ProcessId":10548,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLogoutSuccessEvent"}
2019-09-20 14:25:15.265 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-20 14:25:22.323 +08:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-20 14:25:22.828 +08:00 [DBG] Augmenting SignInContext
2019-09-20 14:25:22.828 +08:00 [DBG] Adding idp claim with value: local
2019-09-20 14:25:22.831 +08:00 [DBG] Adding amr claim with value: pwd
2019-09-20 14:25:22.831 +08:00 [DBG] Adding auth_time claim with value: 1568960722
2019-09-20 14:25:22.832 +08:00 [INF] AuthenticationScheme: Identity.Application signed in.
2019-09-20 14:25:22.833 +08:00 [INF] {"Username":"873448329","Provider":null,"ProviderUserId":null,"SubjectId":"a1348747-213c-4576-a6cd-2fd2f9566e86","DisplayName":"873448329","Endpoint":"UI","ClientId":null,"Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPTIB6HL0GS:00000033","TimeStamp":"2019-09-20T06:25:22.0000000Z","ProcessId":10548,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-09-20 14:25:25.952 +08:00 [DBG] 0 persisted grants found for a1348747-213c-4576-a6cd-2fd2f9566e86
2019-09-20 14:25:29.335 +08:00 [DBG] 0 persisted grants found for a1348747-213c-4576-a6cd-2fd2f9566e86
2019-09-20 14:25:39.919 +08:00 [DBG] 0 persisted grants found for a1348747-213c-4576-a6cd-2fd2f9566e86
2019-09-20 14:25:46.449 +08:00 [DBG] TaskCanceledException. Exiting.
2019-09-20 14:25:46.590 +08:00 [DBG] Stopping grant removal
2019-09-20 15:16:59.469 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-20 15:16:59.822 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-20 15:16:59.824 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-20 15:16:59.824 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-20 15:16:59.824 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-20 15:16:59.825 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-20 15:16:59.825 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-20 15:17:00.306 +08:00 [DBG] Starting grant removal
2019-09-20 15:17:05.238 +08:00 [DBG] Login Url: /Account/Login
2019-09-20 15:17:05.240 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-20 15:17:05.244 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-20 15:17:05.245 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-20 15:17:05.246 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-20 15:17:05.246 +08:00 [DBG] Error Url: /home/error
2019-09-20 15:17:05.247 +08:00 [DBG] Error Id Parameter: errorId
2019-09-20 15:17:09.381 +08:00 [DBG] 0 persisted grants found for a1348747-213c-4576-a6cd-2fd2f9566e86
2019-09-20 15:23:11.690 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-20 15:23:12.039 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-20 15:23:12.040 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-20 15:23:12.040 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-20 15:23:12.040 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-20 15:23:12.041 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-20 15:23:12.041 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-20 15:23:12.532 +08:00 [DBG] Starting grant removal
2019-09-20 15:23:18.829 +08:00 [DBG] Login Url: /Account/Login
2019-09-20 15:23:18.831 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-20 15:23:18.833 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-20 15:23:18.833 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-20 15:23:18.834 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-20 15:23:18.834 +08:00 [DBG] Error Url: /home/error
2019-09-20 15:23:18.835 +08:00 [DBG] Error Id Parameter: errorId
2019-09-20 15:23:19.041 +08:00 [INF] AuthenticationScheme: Identity.Application was forbidden.
2019-09-20 15:23:20.812 +08:00 [INF] AuthenticationScheme: Identity.Application was forbidden.
2019-09-20 15:23:25.346 +08:00 [INF] AuthenticationScheme: Identity.Application was forbidden.
2019-09-20 15:23:28.236 +08:00 [DBG] 0 persisted grants found for a1348747-213c-4576-a6cd-2fd2f9566e86
2019-09-20 15:23:29.250 +08:00 [INF] AuthenticationScheme: Identity.Application was forbidden.
2019-09-20 15:23:32.126 +08:00 [DBG] 0 persisted grants found for a1348747-213c-4576-a6cd-2fd2f9566e86
2019-09-20 15:23:34.043 +08:00 [INF] AuthenticationScheme: Identity.Application was forbidden.
2019-09-20 15:23:35.307 +08:00 [INF] AuthenticationScheme: Identity.Application was forbidden.
2019-09-20 15:23:36.946 +08:00 [INF] AuthenticationScheme: Identity.Application was forbidden.
2019-09-20 15:27:27.615 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-20 15:27:27.964 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-20 15:27:27.966 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-20 15:27:27.966 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-20 15:27:27.967 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-20 15:27:27.967 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-20 15:27:27.967 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-20 15:27:28.448 +08:00 [DBG] Starting grant removal
2019-09-20 15:27:46.879 +08:00 [DBG] Login Url: /Account/Login
2019-09-20 15:27:46.882 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-20 15:27:46.886 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-20 15:27:46.886 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-20 15:27:46.886 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-20 15:27:46.887 +08:00 [DBG] Error Url: /home/error
2019-09-20 15:27:46.887 +08:00 [DBG] Error Id Parameter: errorId
2019-09-20 15:27:51.205 +08:00 [INF] AuthenticationScheme: Identity.Application was forbidden.
2019-09-20 15:27:53.747 +08:00 [INF] AuthenticationScheme: Identity.Application was forbidden.
2019-09-20 15:27:55.947 +08:00 [INF] AuthenticationScheme: Identity.Application was forbidden.
2019-09-20 15:28:03.322 +08:00 [INF] AuthenticationScheme: Identity.Application was forbidden.
2019-09-20 15:28:04.762 +08:00 [INF] AuthenticationScheme: Identity.Application was forbidden.
2019-09-20 15:29:22.191 +08:00 [DBG] TaskCanceledException. Exiting.
2019-09-20 15:29:22.403 +08:00 [DBG] Stopping grant removal
2019-09-20 16:39:35.194 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-20 16:39:35.679 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-20 16:39:35.680 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-20 16:39:35.681 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-20 16:39:35.681 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-20 16:39:35.681 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-20 16:39:35.681 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-20 16:39:36.311 +08:00 [DBG] Starting grant removal
2019-09-20 16:39:44.895 +08:00 [DBG] Login Url: /Account/Login
2019-09-20 16:39:44.897 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-20 16:39:44.901 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-20 16:39:44.901 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-20 16:39:44.902 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-20 16:39:44.902 +08:00 [DBG] Error Url: /home/error
2019-09-20 16:39:44.903 +08:00 [DBG] Error Id Parameter: errorId
2019-09-20 16:39:48.070 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The AuthorizationPolicy named: 'MyPolicy,Create' was not found.
   at Microsoft.AspNetCore.Authorization.AuthorizationPolicy.CombineAsync(IAuthorizationPolicyProvider policyProvider, IEnumerable`1 authorizeData)
   at Microsoft.AspNetCore.Mvc.Internal.AuthorizationApplicationModelProvider.GetFilter(IAuthorizationPolicyProvider policyProvider, IEnumerable`1 authData)
   at Microsoft.AspNetCore.Mvc.Internal.AuthorizationApplicationModelProvider.OnProvidersExecuting(ApplicationModelProviderContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionDescriptorProvider.BuildModel()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionDescriptorProvider.GetDescriptors()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionDescriptorProvider.OnProvidersExecuting(ActionDescriptorProviderContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.UpdateCollection()
   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.Initialize()
   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.get_ActionDescriptors()
   at Microsoft.AspNetCore.Mvc.Internal.AttributeRoute.GetTreeRouter()
   at Microsoft.AspNetCore.Mvc.Internal.AttributeRoute.RouteAsync(RouteContext context)
   at Microsoft.AspNetCore.Routing.RouteCollection.RouteAsync(RouteContext context)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-20 16:39:49.499 +08:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: The AuthorizationPolicy named: 'MyPolicy,Create' was not found.
   at Microsoft.AspNetCore.Authorization.AuthorizationPolicy.CombineAsync(IAuthorizationPolicyProvider policyProvider, IEnumerable`1 authorizeData)
   at Microsoft.AspNetCore.Mvc.Internal.AuthorizationApplicationModelProvider.GetFilter(IAuthorizationPolicyProvider policyProvider, IEnumerable`1 authData)
   at Microsoft.AspNetCore.Mvc.Internal.AuthorizationApplicationModelProvider.OnProvidersExecuting(ApplicationModelProviderContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionDescriptorProvider.BuildModel()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionDescriptorProvider.GetDescriptors()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionDescriptorProvider.OnProvidersExecuting(ActionDescriptorProviderContext context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.UpdateCollection()
   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.Initialize()
   at Microsoft.AspNetCore.Mvc.Infrastructure.DefaultActionDescriptorCollectionProvider.get_ActionDescriptors()
   at Microsoft.AspNetCore.Mvc.Internal.AttributeRoute.GetTreeRouter()
   at Microsoft.AspNetCore.Mvc.Internal.AttributeRoute.RouteAsync(RouteContext context)
   at Microsoft.AspNetCore.Routing.RouteCollection.RouteAsync(RouteContext context)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at IdentityServer4.Hosting.IdentityServerMiddleware.Invoke(HttpContext context, IEndpointRouter router, IUserSession session, IEventService events) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\IdentityServerMiddleware.cs:line 72
   at IdentityServer4.Hosting.MutualTlsTokenEndpointMiddleware.Invoke(HttpContext context, IAuthenticationSchemeProvider schemes) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\MtlsTokenEndpointMiddleware.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at IdentityServer4.Hosting.BaseUrlMiddleware.Invoke(HttpContext context) in C:\local\identity\server4\IdentityServer4\src\IdentityServer4\src\Hosting\BaseUrlMiddleware.cs:line 36
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.DatabaseErrorPageMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-09-20 16:40:24.048 +08:00 [DBG] TaskCanceledException. Exiting.
2019-09-20 16:40:24.194 +08:00 [DBG] Stopping grant removal
2019-09-20 16:49:14.575 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-20 16:49:14.976 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-20 16:49:14.977 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-20 16:49:14.977 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-20 16:49:14.977 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-20 16:49:14.978 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-20 16:49:14.978 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-20 16:49:15.433 +08:00 [DBG] Starting grant removal
2019-09-20 16:49:20.069 +08:00 [DBG] Login Url: /Account/Login
2019-09-20 16:49:20.071 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-20 16:49:20.076 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-20 16:49:20.077 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-20 16:49:20.077 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-20 16:49:20.078 +08:00 [DBG] Error Url: /home/error
2019-09-20 16:49:20.078 +08:00 [DBG] Error Id Parameter: errorId
2019-09-20 16:49:27.365 +08:00 [INF] AuthenticationScheme: Identity.Application was forbidden.
2019-09-20 16:49:51.681 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-20 16:49:52.030 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-20 16:49:52.031 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-20 16:49:52.031 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-20 16:49:52.031 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-20 16:49:52.031 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-20 16:49:52.032 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-20 16:49:52.579 +08:00 [DBG] Starting grant removal
2019-09-20 16:49:55.929 +08:00 [DBG] Login Url: /Account/Login
2019-09-20 16:49:55.931 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-20 16:49:55.933 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-20 16:49:55.934 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-20 16:49:55.934 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-20 16:49:55.934 +08:00 [DBG] Error Url: /home/error
2019-09-20 16:49:55.935 +08:00 [DBG] Error Id Parameter: errorId
2019-09-23 10:37:28.123 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-23 10:37:28.646 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-23 10:37:28.647 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-23 10:37:28.647 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-23 10:37:28.647 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-23 10:37:28.648 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-23 10:37:28.648 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-23 10:37:29.176 +08:00 [DBG] Starting grant removal
2019-09-23 10:37:32.909 +08:00 [DBG] Login Url: /Account/Login
2019-09-23 10:37:32.911 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-23 10:37:32.913 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-23 10:37:32.913 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-23 10:37:32.913 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-23 10:37:32.914 +08:00 [DBG] Error Url: /home/error
2019-09-23 10:37:32.914 +08:00 [DBG] Error Id Parameter: errorId
2019-09-23 10:37:44.922 +08:00 [INF] AuthenticationScheme: Identity.Application was challenged.
2019-09-23 10:37:54.663 +08:00 [DBG] CORS request made for path: /Account/Login from origin: null but was ignored because path was not for an allowed IdentityServer CORS endpoint
2019-09-23 10:37:56.445 +08:00 [DBG] Augmenting SignInContext
2019-09-23 10:37:56.448 +08:00 [DBG] Adding idp claim with value: local
2019-09-23 10:37:56.449 +08:00 [DBG] Adding amr claim with value: pwd
2019-09-23 10:37:56.449 +08:00 [DBG] Adding auth_time claim with value: 1569206276
2019-09-23 10:37:56.476 +08:00 [INF] AuthenticationScheme: Identity.Application signed in.
2019-09-23 10:37:56.493 +08:00 [INF] {"Username":"873","Provider":null,"ProviderUserId":null,"SubjectId":"32d76073-03aa-4e1b-8eb3-a6d89745ac5c","DisplayName":"873","Endpoint":"UI","ClientId":null,"Category":"Authentication","Name":"User Login Success","EventType":"Success","Id":1000,"Message":null,"ActivityId":"0HLPVPRU0DOHC:00000004","TimeStamp":"2019-09-23T02:37:56.0000000Z","ProcessId":10960,"LocalIpAddress":"::1:5000","RemoteIpAddress":"::1","$type":"UserLoginSuccessEvent"}
2019-09-23 10:51:46.972 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-23 10:51:47.351 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-23 10:51:47.352 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-23 10:51:47.352 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-23 10:51:47.352 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-23 10:51:47.352 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-23 10:51:47.352 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-23 10:51:47.797 +08:00 [DBG] Starting grant removal
2019-09-23 10:51:51.208 +08:00 [DBG] Login Url: /Account/Login
2019-09-23 10:51:51.209 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-23 10:51:51.211 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-23 10:51:51.212 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-23 10:51:51.212 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-23 10:51:51.213 +08:00 [DBG] Error Url: /home/error
2019-09-23 10:51:51.213 +08:00 [DBG] Error Id Parameter: errorId
2019-09-23 11:14:48.671 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-23 11:14:49.015 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-23 11:14:49.016 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-23 11:14:49.017 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-23 11:14:49.017 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-23 11:14:49.017 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-23 11:14:49.017 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-23 11:14:49.463 +08:00 [DBG] Starting grant removal
2019-09-23 11:14:52.598 +08:00 [DBG] Login Url: /Account/Login
2019-09-23 11:14:52.612 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-23 11:14:52.614 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-23 11:14:52.615 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-23 11:14:52.615 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-23 11:14:52.615 +08:00 [DBG] Error Url: /home/error
2019-09-23 11:14:52.615 +08:00 [DBG] Error Id Parameter: errorId
2019-09-23 11:26:09.232 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-23 11:26:09.589 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-23 11:26:09.589 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-23 11:26:09.590 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-23 11:26:09.590 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-23 11:26:09.590 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-23 11:26:09.590 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-23 11:26:10.031 +08:00 [DBG] Starting grant removal
2019-09-23 11:26:12.902 +08:00 [DBG] Login Url: /Account/Login
2019-09-23 11:26:12.904 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-23 11:26:12.906 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-23 11:26:12.906 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-23 11:26:12.907 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-23 11:26:12.907 +08:00 [DBG] Error Url: /home/error
2019-09-23 11:26:12.907 +08:00 [DBG] Error Id Parameter: errorId
2019-09-23 11:27:48.103 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-23 11:27:48.471 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-23 11:27:48.472 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-23 11:27:48.472 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-23 11:27:48.473 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-23 11:27:48.473 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-23 11:27:48.473 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-23 11:27:48.941 +08:00 [DBG] Starting grant removal
2019-09-23 11:28:03.847 +08:00 [DBG] Login Url: /Account/Login
2019-09-23 11:28:03.848 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-23 11:28:03.850 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-23 11:28:03.851 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-23 11:28:03.851 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-23 11:28:03.852 +08:00 [DBG] Error Url: /home/error
2019-09-23 11:28:03.852 +08:00 [DBG] Error Id Parameter: errorId
2019-09-23 11:33:51.236 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-23 11:33:51.683 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-23 11:33:51.683 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-23 11:33:51.683 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-23 11:33:51.684 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-23 11:33:51.684 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-23 11:33:51.684 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-23 11:33:52.148 +08:00 [DBG] Starting grant removal
2019-09-23 11:36:21.581 +08:00 [DBG] Login Url: /Account/Login
2019-09-23 11:36:43.539 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-23 11:36:43.891 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-23 11:36:43.892 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-23 11:36:43.892 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-23 11:36:43.892 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-23 11:36:43.892 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-23 11:36:43.893 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-23 11:36:44.340 +08:00 [DBG] Starting grant removal
2019-09-23 11:36:49.251 +08:00 [DBG] Login Url: /Account/Login
2019-09-23 11:36:49.253 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-23 11:36:49.254 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-23 11:36:49.254 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-23 11:36:49.255 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-23 11:36:49.255 +08:00 [DBG] Error Url: /home/error
2019-09-23 11:36:49.255 +08:00 [DBG] Error Id Parameter: errorId
2019-09-23 11:46:19.315 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-23 11:46:19.690 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-23 11:46:19.691 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-23 11:46:19.691 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-23 11:46:19.691 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-23 11:46:19.692 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-23 11:46:19.692 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-23 11:46:20.148 +08:00 [DBG] Starting grant removal
2019-09-23 11:46:26.382 +08:00 [DBG] Login Url: /Account/Login
2019-09-23 11:46:26.384 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-23 11:46:26.386 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-23 11:46:26.386 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-23 11:46:26.386 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-23 11:46:26.387 +08:00 [DBG] Error Url: /home/error
2019-09-23 11:46:26.387 +08:00 [DBG] Error Id Parameter: errorId
2019-09-23 11:49:14.148 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-23 11:49:14.533 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-23 11:49:14.534 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-23 11:49:14.534 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-23 11:49:14.534 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-23 11:49:14.534 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-23 11:49:14.534 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-23 11:49:15.003 +08:00 [DBG] Starting grant removal
2019-09-23 11:49:19.658 +08:00 [DBG] Login Url: /Account/Login
2019-09-23 11:49:19.660 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-23 11:49:19.662 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-23 11:49:19.663 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-23 11:49:19.663 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-23 11:49:19.663 +08:00 [DBG] Error Url: /home/error
2019-09-23 11:49:19.664 +08:00 [DBG] Error Id Parameter: errorId
2019-09-23 11:53:05.110 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-23 11:53:05.540 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-23 11:53:05.544 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-23 11:53:05.544 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-23 11:53:05.544 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-23 11:53:05.545 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-23 11:53:05.545 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-23 11:53:06.005 +08:00 [DBG] Starting grant removal
2019-09-23 11:53:12.771 +08:00 [DBG] Login Url: /Account/Login
2019-09-23 11:53:12.773 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-23 11:53:12.776 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-23 11:53:12.776 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-23 11:53:12.777 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-23 11:53:12.778 +08:00 [DBG] Error Url: /home/error
2019-09-23 11:53:12.778 +08:00 [DBG] Error Id Parameter: errorId
2019-09-23 14:01:00.730 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-23 14:01:01.115 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-23 14:01:01.116 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-23 14:01:01.116 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-23 14:01:01.116 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-23 14:01:01.117 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-23 14:01:01.117 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-23 14:01:01.575 +08:00 [DBG] Starting grant removal
2019-09-23 14:01:05.769 +08:00 [DBG] Login Url: /Account/Login
2019-09-23 14:01:05.771 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-23 14:01:05.774 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-23 14:01:05.774 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-23 14:01:05.775 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-23 14:01:05.775 +08:00 [DBG] Error Url: /home/error
2019-09-23 14:01:05.775 +08:00 [DBG] Error Id Parameter: errorId
2019-09-23 14:02:28.311 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-23 14:02:28.675 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-23 14:02:28.676 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-23 14:02:28.676 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-23 14:02:28.677 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-23 14:02:28.677 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-23 14:02:28.677 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-23 14:02:29.149 +08:00 [DBG] Starting grant removal
2019-09-23 14:02:38.804 +08:00 [DBG] Login Url: /Account/Login
2019-09-23 14:02:38.806 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-23 14:02:38.808 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-23 14:02:38.809 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-23 14:02:38.809 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-23 14:02:38.809 +08:00 [DBG] Error Url: /home/error
2019-09-23 14:02:38.810 +08:00 [DBG] Error Id Parameter: errorId
2019-09-23 14:04:07.124 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-23 14:04:07.483 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-23 14:04:07.484 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-23 14:04:07.484 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-23 14:04:07.484 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-23 14:04:07.484 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-23 14:04:07.485 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-23 14:04:07.962 +08:00 [DBG] Starting grant removal
2019-09-23 14:04:09.570 +08:00 [DBG] Login Url: /Account/Login
2019-09-23 14:04:09.574 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-23 14:04:09.576 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-23 14:04:09.577 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-23 14:04:09.577 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-23 14:04:09.578 +08:00 [DBG] Error Url: /home/error
2019-09-23 14:04:09.578 +08:00 [DBG] Error Id Parameter: errorId
2019-09-23 14:06:06.156 +08:00 [INF] Starting IdentityServer4 version 2.5.0.0
2019-09-23 14:06:06.522 +08:00 [INF] Using the default authentication scheme Identity.Application for IdentityServer
2019-09-23 14:06:06.523 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for authentication
2019-09-23 14:06:06.523 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-in
2019-09-23 14:06:06.523 +08:00 [DBG] Using Identity.External as default ASP.NET Core scheme for sign-out
2019-09-23 14:06:06.524 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for challenge
2019-09-23 14:06:06.524 +08:00 [DBG] Using Identity.Application as default ASP.NET Core scheme for forbid
2019-09-23 14:06:06.965 +08:00 [DBG] Starting grant removal
2019-09-23 14:06:16.315 +08:00 [DBG] Login Url: /Account/Login
2019-09-23 14:06:16.317 +08:00 [DBG] Login Return Url Parameter: ReturnUrl
2019-09-23 14:06:16.318 +08:00 [DBG] Logout Url: /Account/Logout
2019-09-23 14:06:16.319 +08:00 [DBG] ConsentUrl Url: /consent
2019-09-23 14:06:16.319 +08:00 [DBG] Consent Return Url Parameter: returnUrl
2019-09-23 14:06:16.319 +08:00 [DBG] Error Url: /home/error
2019-09-23 14:06:16.320 +08:00 [DBG] Error Id Parameter: errorId
